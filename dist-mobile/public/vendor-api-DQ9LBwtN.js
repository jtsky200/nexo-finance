import*as P from"react";import{a3 as Le,a4 as xt,a5 as de,a6 as Qe,a7 as qe,a8 as Pt,a9 as Ke,aa as Ot,ab as G,ac as jt}from"./vendor-misc-CSrXB4F2.js";import{j as We}from"./page-aichat-DvB7HPKg.js";var He=P.createContext(void 0),oe=t=>{const e=P.useContext(He);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},un=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),We.jsx(He.Provider,{value:t,children:e})),Ge=P.createContext(!1),ze=()=>P.useContext(Ge);Ge.Provider;function wt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var St=P.createContext(wt()),Be=()=>P.useContext(St),Je=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Ye=t=>{P.useEffect(()=>{t.clearReset()},[t])},Ve=({result:t,errorResetBoundary:e,throwOnError:n,query:s,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&t.data===void 0||Le(n,[t.error,s])),Ee=(t,e)=>e.state.data===void 0,Xe=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),s=t.staleTime;t.staleTime=typeof s=="function"?(...r)=>n(s(...r)):n(s),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Ze=(t,e)=>t.isLoading&&t.isFetching&&!e,we=(t,e)=>t?.suspense&&e.isPending,pe=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function et({queries:t,...e},n){const s=oe(n),r=ze(),u=Be(),o=P.useMemo(()=>t.map(p=>{const D=s.defaultQueryOptions(p);return D._optimisticResults=r?"isRestoring":"optimistic",D}),[t,s,r]);o.forEach(p=>{Xe(p),Je(p,u)}),Ye(u);const[i]=P.useState(()=>new xt(s,o,e)),[a,c,m]=i.getOptimisticResult(o,e.combine),d=!r&&e.subscribed!==!1;P.useSyncExternalStore(P.useCallback(p=>d?i.subscribe(Qe.batchCalls(p)):de,[i,d]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),P.useEffect(()=>{i.setQueries(o,e)},[o,e,i]);const v=a.some((p,D)=>we(o[D],p))?a.flatMap((p,D)=>{const N=o[D];if(N){const F=new qe(s,N);if(we(N,p))return pe(N,F,u);Ze(p,r)&&pe(N,F,u)}return[]}):[];if(v.length>0)throw Promise.all(v);const R=a.find((p,D)=>{const N=o[D];return N&&Ve({result:p,errorResetBoundary:u,throwOnError:N.throwOnError,query:s.getQueryCache().get(N.queryHash),suspense:N.suspense})});if(R?.error)throw R.error;return c(m())}function ve(t,e,n){const s=ze(),r=Be(),u=oe(n),o=u.defaultQueryOptions(t);u.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",Xe(o),Je(o,r),Ye(r);const i=!u.getQueryCache().get(o.queryHash),[a]=P.useState(()=>new e(u,o)),c=a.getOptimisticResult(o),m=!s&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(d=>{const b=m?a.subscribe(Qe.batchCalls(d)):de;return a.updateResult(),b},[a,m]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),P.useEffect(()=>{a.setOptions(o)},[o,a]),we(o,c))throw pe(o,a,r);if(Ve({result:c,errorResetBoundary:r,throwOnError:o.throwOnError,query:u.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!Pt&&Ze(c,s)&&(i?pe(o,a,r):u.getQueryCache().get(o.queryHash)?.promise)?.catch(de).finally(()=>{a.updateResult()}),o.notifyOnChangeProps?c:a.trackResult(c)}function Ct(t,e){return ve(t,qe,e)}function Qt(t,e){return ve({...t,enabled:!0,suspense:!0,throwOnError:Ee,placeholderData:void 0},qe,e)}function qt(t,e){return ve({...t,enabled:!0,suspense:!0,throwOnError:Ee},Ke,e)}function Et(t,e){return et({...t,queries:t.queries.map(n=>({...n,suspense:!0,throwOnError:Ee,enabled:!0,placeholderData:void 0}))},e)}function It(t,e){const n=oe(e);n.getQueryState(t.queryKey)||n.prefetchQuery(t)}function Rt(t,e){const n=oe(e);n.getQueryState(t.queryKey)||n.prefetchInfiniteQuery(t)}function Mt(t,e){const n=oe(e),[s]=P.useState(()=>new Ot(n,t));P.useEffect(()=>{s.setOptions(t)},[s,t]);const r=P.useSyncExternalStore(P.useCallback(o=>s.subscribe(Qe.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=P.useCallback((o,i)=>{s.mutate(o,i).catch(de)},[s]);if(r.error&&Le(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:u,mutateAsync:r.mutate}}function Tt(t,e){return ve(t,Ke,e)}var Dt=Object.create,tt=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyNames,At=Object.getPrototypeOf,$t=Object.prototype.hasOwnProperty,z=(t,e)=>function(){return e||(0,t[rt(t)[0]])((e={exports:{}}).exports,e),e.exports},Ut=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(var r=rt(e),u=0,o=r.length,i;u<o;u++)i=r[u],!$t.call(t,i)&&i!==n&&tt(t,i,{get:(a=>e[a]).bind(null,i),enumerable:!(s=kt(e,i))||s.enumerable});return t},k=(t,e,n)=>(n=t!=null?Dt(At(t)):{},Ut(tt(n,"default",{value:t,enumerable:!0}),t)),nt=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(t,e){function n(s){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,n(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Nt=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(t,e){var n=nt().default;function s(r,u){if(n(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var i=o.call(r,u||"default");if(n(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(r)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),Ft=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(t,e){var n=nt().default,s=Nt();function r(u){var o=s(u,"string");return n(o)=="symbol"?o:o+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),Z=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(t,e){var n=Ft();function s(r,u,o){return(u=n(u))in r?Object.defineProperty(r,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[u]=o,r}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),W=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(t,e){var n=Z();function s(u,o){var i=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);o&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable})),i.push.apply(i,a)}return i}function r(u){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?s(Object(i),!0).forEach(function(a){n(u,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(a){Object.defineProperty(u,a,Object.getOwnPropertyDescriptor(i,a))})}return u}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}});function me(t){const e={subscribe(n){let s=null,r=!1,u=!1,o=!1;function i(){if(s===null){o=!0;return}u||(u=!0,typeof s=="function"?s():s&&s.unsubscribe())}return s=t({next(a){var c;r||(c=n.next)===null||c===void 0||c.call(n,a)},error(a){var c;r||(r=!0,(c=n.error)===null||c===void 0||c.call(n,a),i())},complete(){var a;r||(r=!0,(a=n.complete)===null||a===void 0||a.call(n),i())}}),o&&i(),{unsubscribe:i}},pipe(...n){return n.reduce(Lt,e)}};return e}function Lt(t,e){return e(t)}function Kt(t){const e=new AbortController;return new Promise((s,r)=>{let u=!1;function o(){u||(u=!0,i.unsubscribe())}e.signal.addEventListener("abort",()=>{r(e.signal.reason)});const i=t.subscribe({next(a){u=!0,s(a),o()},error(a){r(a)},complete(){e.abort(),o()}})})}function Wt(t){return e=>{let n=0,s=null;const r=[];function u(){s||(s=e.subscribe({next(i){for(const c of r){var a;(a=c.next)===null||a===void 0||a.call(c,i)}},error(i){for(const c of r){var a;(a=c.error)===null||a===void 0||a.call(c,i)}},complete(){for(const a of r){var i;(i=a.complete)===null||i===void 0||i.call(a)}}}))}function o(){if(n===0&&s){const i=s;s=null,i.unsubscribe()}}return me(i=>(n++,r.push(i),u(),{unsubscribe(){n--,o();const a=r.findIndex(c=>c===i);a>-1&&r.splice(a,1)}}))}}function Ht(t){let e=t;const n=[],s=o=>{e!==void 0&&o.next(e),n.push(o)},r=o=>{n.splice(n.indexOf(o),1)},u=me(o=>(s(o),()=>{r(o)}));return u.next=o=>{if(e!==o){e=o;for(const i of n)i.next(o)}},u.get=()=>e,u}function Gt(t){return me(e=>{function n(r=0,u=t.op){const o=t.links[r];if(!o)throw new Error("No more links to execute - did you forget to add an ending link?");return o({op:u,next(a){return n(r+1,a)}})}return n().subscribe(e)})}function X(t){return!!t&&!Array.isArray(t)&&typeof t=="object"}const zt=typeof Symbol=="function"&&!!Symbol.asyncIterator;function ot(t){return zt&&X(t)&&Symbol.asyncIterator in t}var Bt=Object.create,ut=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,it=Object.getOwnPropertyNames,Yt=Object.getPrototypeOf,Vt=Object.prototype.hasOwnProperty,ue=(t,e)=>function(){return e||(0,t[it(t)[0]])((e={exports:{}}).exports,e),e.exports},Xt=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(var r=it(e),u=0,o=r.length,i;u<o;u++)i=r[u],!Vt.call(t,i)&&i!==n&&ut(t,i,{get:(a=>e[a]).bind(null,i),enumerable:!(s=Jt(e,i))||s.enumerable});return t},be=(t,e,n)=>(n=t!=null?Bt(Yt(t)):{},Xt(ut(n,"default",{value:t,enumerable:!0}),t));const st=()=>{},Te=t=>{Object.freeze&&Object.freeze(t)};function at(t,e,n){var s;const r=e.join(".");return(s=n[r])!==null&&s!==void 0||(n[r]=new Proxy(st,{get(u,o){if(!(typeof o!="string"||o==="then"))return at(t,[...e,o],n)},apply(u,o,i){const a=e[e.length-1];let c={args:i,path:e};return a==="call"?c={args:i.length>=2?[i[1]]:[],path:e.slice(0,-1)}:a==="apply"&&(c={args:i.length>=2?i[1]:[],path:e.slice(0,-1)}),Te(c.args),Te(c.path),t(c)}})),n[r]}const he=t=>at(t,[],Object.create(null)),Ie=t=>new Proxy(st,{get(e,n){if(n!=="then")return t(n)}});var ct=ue({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(t,e){function n(s){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,n(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Zt=ue({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(t,e){var n=ct().default;function s(r,u){if(n(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var i=o.call(r,u||"default");if(n(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(r)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),er=ue({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(t,e){var n=ct().default,s=Zt();function r(u){var o=s(u,"string");return n(o)=="symbol"?o:o+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),lt=ue({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(t,e){var n=er();function s(r,u,o){return(u=n(u))in r?Object.defineProperty(r,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[u]=o,r}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),Re=ue({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(t,e){var n=lt();function s(u,o){var i=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);o&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable})),i.push.apply(i,a)}return i}function r(u){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?s(Object(i),!0).forEach(function(a){n(u,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(a){Object.defineProperty(u,a,Object.getOwnPropertyDescriptor(i,a))})}return u}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}});be(Re());be(lt());var se=be(Re());function tr(t,e){if("error"in t){const s=e.deserialize(t.error);return{ok:!1,error:(0,se.default)((0,se.default)({},t),{},{error:s})}}return{ok:!0,result:(0,se.default)((0,se.default)({},t.result),(!t.result.type||t.result.type==="data")&&{type:"data",data:e.deserialize(t.result.data)})}}var xe=class extends Error{constructor(){super("Unable to transform response from server")}};function rr(t,e){let n;try{n=tr(t,e)}catch{throw new xe}if(!n.ok&&(!X(n.error.error)||typeof n.error.error.code!="number"))throw new xe;if(n.ok&&!X(n.result))throw new xe;return n}be(Re());var ae=k(Z()),te=k(W());function nr(t){return t instanceof ye}function or(t){return X(t)&&X(t.error)&&typeof t.error.code=="number"&&typeof t.error.message=="string"}function ur(t,e){return typeof t=="string"?t:X(t)&&typeof t.message=="string"?t.message:e}var ye=class le extends Error{constructor(e,n){var s,r;const u=n?.cause;super(e,{cause:u}),(0,ae.default)(this,"cause",void 0),(0,ae.default)(this,"shape",void 0),(0,ae.default)(this,"data",void 0),(0,ae.default)(this,"meta",void 0),this.meta=n?.meta,this.cause=u,this.shape=n==null||(s=n.result)===null||s===void 0?void 0:s.error,this.data=n==null||(r=n.result)===null||r===void 0?void 0:r.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,le.prototype)}static from(e,n={}){const s=e;return nr(s)?(n.meta&&(s.meta=(0,te.default)((0,te.default)({},s.meta),n.meta)),s):or(s)?new le(s.error.message,(0,te.default)((0,te.default)({},n),{},{result:s})):new le(ur(s,"Unknown error"),(0,te.default)((0,te.default)({},n),{},{cause:s}))}};function ir(t){const e=t;return e?"input"in e?e:{input:e,output:e}:{input:{serialize:n=>n,deserialize:n=>n},output:{serialize:n=>n,deserialize:n=>n}}}const De=t=>typeof t=="function";function sr(t){if(t)return t;if(typeof window<"u"&&De(window.fetch))return window.fetch;if(typeof globalThis<"u"&&De(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var ne=k(W());function ar(t){return{url:t.url.toString(),fetch:t.fetch,transformer:ir(t.transformer),methodOverride:t.methodOverride}}function cr(t){const e={};for(let n=0;n<t.length;n++){const s=t[n];e[n]=s}return e}const lr={query:"GET",mutation:"POST",subscription:"PATCH"};function ft(t){return"input"in t?t.transformer.input.serialize(t.input):cr(t.inputs.map(e=>t.transformer.input.serialize(e)))}const dt=t=>{const e=t.url.split("?");let s=e[0].replace(/\/$/,"")+"/"+t.path;const r=[];if(e[1]&&r.push(e[1]),"inputs"in t&&r.push("batch=1"),t.type==="query"||t.type==="subscription"){const u=ft(t);u!==void 0&&t.methodOverride!=="POST"&&r.push(`input=${encodeURIComponent(JSON.stringify(u))}`)}return r.length&&(s+="?"+r.join("&")),s},fr=t=>{if(t.type==="query"&&t.methodOverride!=="POST")return;const e=ft(t);return e!==void 0?JSON.stringify(e):void 0},dr=t=>mr((0,ne.default)((0,ne.default)({},t),{},{contentTypeHeader:"application/json",getUrl:dt,getBody:fr}));var pr=class extends Error{constructor(){const t="AbortError";super(t),this.name=t,this.message=t}};const yr=t=>{var e;if(t?.aborted)throw(e=t.throwIfAborted)===null||e===void 0||e.call(t),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new pr};async function vr(t){var e;yr(t.signal);const n=t.getUrl(t),s=t.getBody(t),r=(e=t.methodOverride)!==null&&e!==void 0?e:lr[t.type],u=await(async()=>{const i=await t.headers();return Symbol.iterator in i?Object.fromEntries(i):i})(),o=(0,ne.default)((0,ne.default)((0,ne.default)({},t.contentTypeHeader&&r!=="GET"?{"content-type":t.contentTypeHeader}:{}),t.trpcAcceptHeader?{"trpc-accept":t.trpcAcceptHeader}:void 0),u);return sr(t.fetch)(n,{method:r,signal:t.signal,body:s,headers:o})}async function mr(t){const e={},n=await vr(t);e.response=n;const s=await n.json();return e.responseJSON=s,{json:s,meta:e}}k(W());const ke=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function Ae(t){let e=null,n=null;const s=()=>{clearTimeout(n),n=null,e=null};function r(i){const a=[[]];let c=0;for(;;){const b=i[c];if(!b)break;const v=a[a.length-1];if(b.aborted){var m;(m=b.reject)===null||m===void 0||m.call(b,new Error("Aborted")),c++;continue}if(t.validate(v.concat(b).map(p=>p.key))){v.push(b),c++;continue}if(v.length===0){var d;(d=b.reject)===null||d===void 0||d.call(b,new Error("Input is too big for a single dispatch")),c++;continue}a.push([])}return a}function u(){const i=r(e);s();for(const a of i){if(!a.length)continue;const c={items:a};for(const d of a)d.batch=c;t.fetch(c.items.map(d=>d.key)).then(async d=>{await Promise.all(d.map(async(v,R)=>{const p=c.items[R];try{var D;const F=await Promise.resolve(v);(D=p.resolve)===null||D===void 0||D.call(p,F)}catch(F){var N;(N=p.reject)===null||N===void 0||N.call(p,F)}p.batch=null,p.reject=null,p.resolve=null}));for(const v of c.items){var b;(b=v.reject)===null||b===void 0||b.call(v,new Error("Missing result")),v.batch=null}}).catch(d=>{for(const v of c.items){var b;(b=v.reject)===null||b===void 0||b.call(v,d),v.batch=null}})}}function o(i){var a;const c={aborted:!1,key:i,batch:null,resolve:ke,reject:ke},m=new Promise((d,b)=>{var v;c.reject=b,c.resolve=d,(v=e)!==null&&v!==void 0||(e=[]),e.push(c)});return(a=n)!==null&&a!==void 0||(n=setTimeout(u)),m}return{load:o}}function br(...t){const e=new AbortController,n=t.length;let s=0;const r=()=>{++s===n&&e.abort()};for(const u of t)u?.aborted?r():u?.addEventListener("abort",r,{once:!0});return e.signal}var ce=k(W());function sn(t){var e,n;const s=ar(t),r=(e=t.maxURLLength)!==null&&e!==void 0?e:1/0,u=(n=t.maxItems)!==null&&n!==void 0?n:1/0;return()=>{const o=m=>({validate(d){if(r===1/0&&u===1/0)return!0;if(d.length>u)return!1;const b=d.map(p=>p.path).join(","),v=d.map(p=>p.input);return dt((0,ce.default)((0,ce.default)({},s),{},{type:m,path:b,inputs:v,signal:null})).length<=r},async fetch(d){const b=d.map(F=>F.path).join(","),v=d.map(F=>F.input),R=br(...d.map(F=>F.signal)),p=await dr((0,ce.default)((0,ce.default)({},s),{},{path:b,inputs:v,type:m,headers(){return t.headers?typeof t.headers=="function"?t.headers({opList:d}):t.headers:{}},signal:R}));return(Array.isArray(p.json)?p.json:d.map(()=>p.json)).map(F=>({meta:p.meta,json:F}))}}),i=Ae(o("query")),a=Ae(o("mutation")),c={query:i,mutation:a};return({op:m})=>me(d=>{/* istanbul ignore if -- @preserve */if(m.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const v=c[m.type].load(m);let R;return v.then(p=>{R=p;const D=rr(p.json,s.transformer.output);if(!D.ok){d.error(ye.from(D.error,{meta:p.meta}));return}d.next({context:p.meta,result:D.result}),d.complete()}).catch(p=>{d.error(ye.from(p,{meta:R?.meta}))}),()=>{}})}}k(W());const pt=(t,...e)=>typeof t=="function"?t(...e):t;k(Z());function hr(){let t,e;return{promise:new Promise((s,r)=>{t=s,e=r}),resolve:t,reject:e}}async function _r(t){const e=await pt(t.url);if(!t.connectionParams)return e;const s=`${e.includes("?")?"&":"?"}connectionParams=1`;return e+s}async function gr(t){const e={method:"connectionParams",data:await pt(t)};return JSON.stringify(e)}k(Z());var V=k(Z());function xr(t){const{promise:e,resolve:n,reject:s}=hr();return t.addEventListener("open",()=>{t.removeEventListener("error",s),n()}),t.addEventListener("error",s),e}function Pr(t,{intervalMs:e,pongTimeoutMs:n}){let s,r;function u(){s=setTimeout(()=>{t.send("PING"),r=setTimeout(()=>{t.close()},n)},e)}function o(){clearTimeout(s),u()}function i(){clearTimeout(r),o()}t.addEventListener("open",u),t.addEventListener("message",({data:a})=>{clearTimeout(s),u(),a==="PONG"&&i()}),t.addEventListener("close",()=>{clearTimeout(s),clearTimeout(r)})}var Or=class Se{constructor(e){var n;if((0,V.default)(this,"id",++Se.connectCount),(0,V.default)(this,"WebSocketPonyfill",void 0),(0,V.default)(this,"urlOptions",void 0),(0,V.default)(this,"keepAliveOpts",void 0),(0,V.default)(this,"wsObservable",Ht(null)),(0,V.default)(this,"openPromise",null),this.WebSocketPonyfill=(n=e.WebSocketPonyfill)!==null&&n!==void 0?n:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=e.urlOptions,this.keepAliveOpts=e.keepAlive}get ws(){return this.wsObservable.get()}set ws(e){this.wsObservable.next(e)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var e=this;if(e.openPromise)return e.openPromise;e.id=++Se.connectCount;const n=_r(e.urlOptions).then(s=>new e.WebSocketPonyfill(s));e.openPromise=n.then(async s=>{e.ws=s,s.addEventListener("message",function({data:r}){r==="PING"&&this.send("PONG")}),e.keepAliveOpts.enabled&&Pr(s,e.keepAliveOpts),s.addEventListener("close",()=>{e.ws===s&&(e.ws=null)}),await xr(s),e.urlOptions.connectionParams&&s.send(await gr(e.urlOptions.connectionParams))});try{await e.openPromise}finally{e.openPromise=null}}async close(){var e=this;try{await e.openPromise}finally{var n;(n=e.ws)===null||n===void 0||n.close()}}};(0,V.default)(Or,"connectCount",0);k(Z());k(W());var Pe=k(Z()),$e=k(W()),_e=class{constructor(t){(0,Pe.default)(this,"links",void 0),(0,Pe.default)(this,"runtime",void 0),(0,Pe.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=t.links.map(e=>e(this.runtime))}$request(t){var e;return Gt({links:this.links,op:(0,$e.default)((0,$e.default)({},t),{},{context:(e=t.context)!==null&&e!==void 0?e:{},id:++this.requestId})}).pipe(Wt())}async requestAsPromise(t){var e=this;try{const n=e.$request(t);return(await Kt(n)).result.data}catch(n){throw ye.from(n)}}query(t,e,n){return this.requestAsPromise({type:"query",path:t,input:e,context:n?.context,signal:n?.signal})}mutation(t,e,n){return this.requestAsPromise({type:"mutation",path:t,input:e,context:n?.context,signal:n?.signal})}subscription(t,e,n){return this.$request({type:"subscription",path:t,input:e,context:n.context,signal:n.signal}).subscribe({next(r){switch(r.result.type){case"state":{var u;(u=n.onConnectionStateChange)===null||u===void 0||u.call(n,r.result);break}case"started":{var o;(o=n.onStarted)===null||o===void 0||o.call(n,{context:r.context});break}case"stopped":{var i;(i=n.onStopped)===null||i===void 0||i.call(n);break}case"data":case void 0:{var a;(a=n.onData)===null||a===void 0||a.call(n,r.result.data);break}}},error(r){var u;(u=n.onError)===null||u===void 0||u.call(n,r)},complete(){var r;(r=n.onComplete)===null||r===void 0||r.call(n)}})}};const yt=Symbol.for("trpc_untypedClient"),jr={query:"query",mutate:"mutation",subscribe:"subscription"},wr=t=>jr[t];function vt(t){const e=he(({path:n,args:s})=>{const r=[...n],u=wr(r.pop()),o=r.join(".");return t[u](o,...s)});return Ie(n=>n===yt?t:e[n])}function Sr(t){const e=new _e(t);return vt(e)}function Me(t){return t[yt]}k(W());k(W());var Cr=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(t,e){function n(r){var u,o,i,a=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(o&&(u=r[o])!=null)return u.call(r);if(i&&(u=r[i])!=null)return new s(u.call(r));o="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function s(r){function u(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var i=o.done;return Promise.resolve(o.value).then(function(a){return{value:a,done:i}})}return s=function(i){this.s=i,this.n=i.next},s.prototype={s:null,n:null,next:function(){return u(this.n.apply(this.s,arguments))},return:function(i){var a=this.s.return;return a===void 0?Promise.resolve({value:i,done:!0}):u(a.apply(this.s,arguments))},throw:function(i){var a=this.s.return;return a===void 0?Promise.reject(i):u(a.apply(this.s,arguments))}},new s(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}});k(Cr());k(W());var Qr=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(t,e){function n(){var s=typeof SuppressedError=="function"?SuppressedError:function(i,a){var c=Error();return c.name="SuppressedError",c.error=i,c.suppressed=a,c},r={},u=[];function o(i,a){if(a!=null){if(Object(a)!==a)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(i)var c=a[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(c===void 0&&(c=a[Symbol.dispose||Symbol.for("Symbol.dispose")],i))var m=c;if(typeof c!="function")throw new TypeError("Object is not disposable.");m&&(c=function(){try{m.call(a)}catch(b){return Promise.reject(b)}}),u.push({v:a,d:c,a:i})}else i&&u.push({d:a,a:i});return a}return{e:r,u:o.bind(null,!1),a:o.bind(null,!0),d:function(){var a,c=this.e,m=0;function d(){for(;a=u.pop();)try{if(!a.a&&m===1)return m=0,u.push(a),Promise.resolve().then(d);if(a.d){var v=a.d.call(a.v);if(a.a)return m|=2,Promise.resolve(v).then(d,b)}else m|=1}catch(R){return b(R)}if(m===1)return c!==r?Promise.reject(c):Promise.resolve();if(c!==r)throw c}function b(v){return c=c!==r?new s(v,c):v,d()}return d()}}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),mt=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(t,e){function n(s,r){this.v=s,this.k=r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),qr=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(t,e){var n=mt();function s(r){return new n(r,0)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),Er=z({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(t,e){var n=mt();function s(u){return function(){return new r(u.apply(this,arguments))}}function r(u){var o,i;function a(m,d){try{var b=u[m](d),v=b.value,R=v instanceof n;Promise.resolve(R?v.v:v).then(function(p){if(R){var D=m==="return"?"return":"next";if(!v.k||p.done)return a(D,p);p=u[D](p).value}c(b.done?"return":"normal",p)},function(p){a("throw",p)})}catch(p){c("throw",p)}}function c(m,d){switch(m){case"return":o.resolve({value:d,done:!0});break;case"throw":o.reject(d);break;default:o.resolve({value:d,done:!1})}(o=o.next)?a(o.key,o.arg):i=null}this._invoke=function(m,d){return new Promise(function(b,v){var R={key:m,arg:d,resolve:b,reject:v,next:null};i?i=i.next=R:(o=i=R,a(m,d))})},typeof u.return!="function"&&(this.return=void 0)}r.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},r.prototype.next=function(u){return this._invoke("next",u)},r.prototype.throw=function(u){return this._invoke("throw",u)},r.prototype.return=function(u){return this._invoke("return",u)},e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}});k(Qr());k(qr());k(Er());k(W());var Ir=Object.create,bt=Object.defineProperty,Rr=Object.getOwnPropertyDescriptor,ht=Object.getOwnPropertyNames,Mr=Object.getPrototypeOf,Tr=Object.prototype.hasOwnProperty,J=(t,e)=>function(){return e||(0,t[ht(t)[0]])((e={exports:{}}).exports,e),e.exports},Dr=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(var r=ht(e),u=0,o=r.length,i;u<o;u++)i=r[u],!Tr.call(t,i)&&i!==n&&bt(t,i,{get:(a=>e[a]).bind(null,i),enumerable:!(s=Rr(e,i))||s.enumerable});return t},ee=(t,e,n)=>(n=t!=null?Ir(Mr(t)):{},Dr(e||!t||!t.__esModule?bt(n,"default",{value:t,enumerable:!0}):n,t)),kr=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(t,e){function n(s,r){if(s==null)return{};var u={};for(var o in s)if({}.hasOwnProperty.call(s,o)){if(r.includes(o))continue;u[o]=s[o]}return u}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Ar=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(t,e){var n=kr();function s(r,u){if(r==null)return{};var o,i,a=n(r,u);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(i=0;i<c.length;i++)o=c[i],u.includes(o)||{}.propertyIsEnumerable.call(r,o)&&(a[o]=r[o])}return a}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),_t=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(t,e){function n(s){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,n(s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),$r=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(t,e){var n=_t().default;function s(r,u){if(n(r)!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var i=o.call(r,u||"default");if(n(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(r)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),Ur=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(t,e){var n=_t().default,s=$r();function r(u){var o=s(u,"string");return n(o)=="symbol"?o:o+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),Nr=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(t,e){var n=Ur();function s(r,u,o){return(u=n(u))in r?Object.defineProperty(r,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[u]=o,r}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}}),ie=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(t,e){var n=Nr();function s(u,o){var i=Object.keys(u);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(u);o&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable})),i.push.apply(i,a)}return i}function r(u){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?s(Object(i),!0).forEach(function(a){n(u,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(a){Object.defineProperty(u,a,Object.getOwnPropertyDescriptor(i,a))})}return u}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}),Fr=ee(Ar(),1),Ue=ee(ie(),1);const Lr=["cursor","direction"];function H(t,e,n){const s=t.flatMap(r=>r.split("."));if(!e&&(!n||n==="any"))return s.length?[s]:[];if(n==="infinite"&&X(e)&&("direction"in e||"cursor"in e)){const{cursor:r,direction:u}=e,o=(0,Fr.default)(e,Lr);return[s,{input:o,type:"infinite"}]}return[s,(0,Ue.default)((0,Ue.default)({},typeof e<"u"&&e!==G&&{input:e}),n&&n!=="any"&&{type:n})]}function fe(t){return H(t,void 0,"any")}function Kr(t){return he(({path:e,args:n})=>{var s;const r=[...e],u=r.pop();if(u==="useMutation")return t[u](r,...n);if(u==="_def")return{path:r};const[o,...i]=n,a=(s=i[0])!==null&&s!==void 0?s:{};return t[u](r,o,a)})}var Oe;const Wr=["client","ssrContext","ssrState","abortOnUnmount"],Hr=(Oe=P.createContext)===null||Oe===void 0?void 0:Oe.call(P,null),Gr=t=>{switch(t){case"queryOptions":case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"infiniteQueryOptions":case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"setMutationDefaults":case"getMutationDefaults":case"isMutating":case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};function zr(t){return he(e=>{const n=[...e.path],s=n.pop(),r=[...e.args],u=r.shift(),o=Gr(s),i=H(n,u,o);return{infiniteQueryOptions:()=>t.infiniteQueryOptions(n,i,r[0]),queryOptions:()=>t.queryOptions(n,i,...r),fetch:()=>t.fetchQuery(i,...r),fetchInfinite:()=>t.fetchInfiniteQuery(i,r[0]),prefetch:()=>t.prefetchQuery(i,...r),prefetchInfinite:()=>t.prefetchInfiniteQuery(i,r[0]),ensureData:()=>t.ensureQueryData(i,...r),invalidate:()=>t.invalidateQueries(i,...r),reset:()=>t.resetQueries(i,...r),refetch:()=>t.refetchQueries(i,...r),cancel:()=>t.cancelQuery(i,...r),setData:()=>{t.setQueryData(i,r[0],r[1])},setQueriesData:()=>t.setQueriesData(i,r[0],r[1],r[2]),setInfiniteData:()=>{t.setInfiniteQueryData(i,r[0],r[1])},getData:()=>t.getQueryData(i),getInfiniteData:()=>t.getInfiniteQueryData(i),setMutationDefaults:()=>t.setMutationDefaults(fe(n),u),getMutationDefaults:()=>t.getMutationDefaults(fe(n)),isMutating:()=>t.isMutating({mutationKey:fe(n)})}[s]()})}function Br(t){const e=vt(t.client),n=zr(t);return Ie(s=>{const r=s;return r==="client"?e:Wr.includes(r)?t[r]:n[s]})}var Jr=ee(ie(),1);function Ne(t){const e=t instanceof _e?t:Me(t);return he(n=>{const s=n.path,r=s.join("."),[u,o]=n.args;return(0,Jr.default)({queryKey:H(s,u,"query"),queryFn:()=>e.query(r,u,o?.trpc)},o)})}var je=ee(ie(),1);function L(t,e,n){var s;const r=t[0];let u=(s=t[1])===null||s===void 0?void 0:s.input;if(n){var o;u=(0,je.default)((0,je.default)((0,je.default)({},(o=u)!==null&&o!==void 0?o:{}),n.pageParam?{cursor:n.pageParam}:{}),{},{direction:n.direction})}return[r.join("."),u,e?.trpc]}var Yr=J({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(t,e){function n(r){var u,o,i,a=2;for(typeof Symbol<"u"&&(o=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(o&&(u=r[o])!=null)return u.call(r);if(i&&(u=r[i])!=null)return new s(u.call(r));o="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function s(r){function u(o){if(Object(o)!==o)return Promise.reject(new TypeError(o+" is not an object."));var i=o.done;return Promise.resolve(o.value).then(function(a){return{value:a,done:i}})}return s=function(i){this.s=i,this.n=i.next},s.prototype={s:null,n:null,next:function(){return u(this.n.apply(this.s,arguments))},return:function(i){var a=this.s.return;return a===void 0?Promise.resolve({value:i,done:!0}):u(a.apply(this.s,arguments))},throw:function(i){var a=this.s.return;return a===void 0?Promise.reject(i):u(a.apply(this.s,arguments))}},new s(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),Vr=ee(Yr(),1);function Ce(t){return{path:t.path.join(".")}}function re(t){const e=Ce(t);return P.useMemo(()=>e,[e])}async function gt(t,e,n){const r=e.getQueryCache().build(e,{queryKey:n});r.setState({data:[],status:"success"});const u=[];var o=!1,i=!1,a;try{for(var c=(0,Vr.default)(t),m;o=!(m=await c.next()).done;o=!1){const d=m.value;u.push(d),r.setState({data:[...u]})}}catch(d){i=!0,a=d}finally{try{o&&c.return!=null&&await c.return()}finally{if(i)throw a}}return u}var w=ee(ie(),1);function Xr(t){const{client:e,queryClient:n}=t,s=e instanceof _e?e:Me(e);return{infiniteQueryOptions:(r,u,o)=>{var i,a;const c=((i=u[1])===null||i===void 0?void 0:i.input)===G,m=async d=>{var b;const v=(0,w.default)((0,w.default)({},o),{},{trpc:(0,w.default)((0,w.default)({},o?.trpc),!(o==null||(b=o.trpc)===null||b===void 0)&&b.abortOnUnmount?{signal:d.signal}:{signal:null})});return await s.query(...L(u,v,{direction:d.direction,pageParam:d.pageParam}))};return Object.assign((0,w.default)((0,w.default)({},o),{},{initialData:o?.initialData,queryKey:u,queryFn:c?G:m,initialPageParam:(a=o?.initialCursor)!==null&&a!==void 0?a:null}),{trpc:Ce({path:r})})},queryOptions:(r,u,o)=>{var i;const a=((i=u[1])===null||i===void 0?void 0:i.input)===G,c=async m=>{var d;const b=(0,w.default)((0,w.default)({},o),{},{trpc:(0,w.default)((0,w.default)({},o?.trpc),!(o==null||(d=o.trpc)===null||d===void 0)&&d.abortOnUnmount?{signal:m.signal}:{signal:null})}),v=await s.query(...L(u,b));return ot(v)?gt(v,n,u):v};return Object.assign((0,w.default)((0,w.default)({},o),{},{initialData:o?.initialData,queryKey:u,queryFn:a?G:c}),{trpc:Ce({path:r})})},fetchQuery:(r,u)=>n.fetchQuery((0,w.default)((0,w.default)({},u),{},{queryKey:r,queryFn:()=>s.query(...L(r,u))})),fetchInfiniteQuery:(r,u)=>{var o;return n.fetchInfiniteQuery((0,w.default)((0,w.default)({},u),{},{queryKey:r,queryFn:({pageParam:i,direction:a})=>s.query(...L(r,u,{pageParam:i,direction:a})),initialPageParam:(o=u?.initialCursor)!==null&&o!==void 0?o:null}))},prefetchQuery:(r,u)=>n.prefetchQuery((0,w.default)((0,w.default)({},u),{},{queryKey:r,queryFn:()=>s.query(...L(r,u))})),prefetchInfiniteQuery:(r,u)=>{var o;return n.prefetchInfiniteQuery((0,w.default)((0,w.default)({},u),{},{queryKey:r,queryFn:({pageParam:i,direction:a})=>s.query(...L(r,u,{pageParam:i,direction:a})),initialPageParam:(o=u?.initialCursor)!==null&&o!==void 0?o:null}))},ensureQueryData:(r,u)=>n.ensureQueryData((0,w.default)((0,w.default)({},u),{},{queryKey:r,queryFn:()=>s.query(...L(r,u))})),invalidateQueries:(r,u,o)=>n.invalidateQueries((0,w.default)((0,w.default)({},u),{},{queryKey:r}),o),resetQueries:(r,u,o)=>n.resetQueries((0,w.default)((0,w.default)({},u),{},{queryKey:r}),o),refetchQueries:(r,u,o)=>n.refetchQueries((0,w.default)((0,w.default)({},u),{},{queryKey:r}),o),cancelQuery:(r,u)=>n.cancelQueries({queryKey:r},u),setQueryData:(r,u,o)=>n.setQueryData(r,u,o),setQueriesData:(r,u,o,i)=>n.setQueriesData((0,w.default)((0,w.default)({},u),{},{queryKey:r}),o,i),getQueryData:r=>n.getQueryData(r),setInfiniteQueryData:(r,u,o)=>n.setQueryData(r,u,o),getInfiniteQueryData:r=>n.getQueryData(r),setMutationDefaults:(r,u)=>{const o=r[0],i=a=>s.mutation(...L([o,{input:a}],t));return n.setMutationDefaults(r,typeof u=="function"?u({canonicalMutationFn:i}):u)},getMutationDefaults:r=>n.getMutationDefaults(r),isMutating:r=>n.isMutating((0,w.default)((0,w.default)({},r),{},{exact:!0}))}}var f=ee(ie());const Fe=(t,e)=>new Proxy(t,{get(s,r){return e(r),s[r]}});function Zr(t){var e,n;const s=(e=void 0)!==null&&e!==void 0?e:O=>O.originalFn(),r=(n=void 0)!==null&&n!==void 0?n:Hr,u=Sr,o=O=>{var y;const{abortOnUnmount:l=!1,queryClient:h,ssrContext:_}=O,[x,j]=P.useState((y=O.ssrState)!==null&&y!==void 0?y:!1),g=O.client instanceof _e?O.client:Me(O.client),Q=P.useMemo(()=>Xr({client:g,queryClient:h}),[g,h]),S=P.useMemo(()=>(0,f.default)({abortOnUnmount:l,queryClient:h,client:g,ssrContext:_??null,ssrState:x},Q),[l,g,Q,h,_,x]);return P.useEffect(()=>{j(E=>E?"mounted":!1)},[]),We.jsx(r.Provider,{value:S,children:O.children})};function i(){const O=P.useContext(r);if(!O)throw new Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return O}function a(O,y){var l;const{queryClient:h,ssrState:_}=i();return _&&_!=="mounted"&&((l=h.getQueryCache().find({queryKey:O}))===null||l===void 0?void 0:l.state.status)==="error"?(0,f.default)({retryOnMount:!1},y):y}function c(O,y,l){var h,_,x,j,g;const Q=i(),{abortOnUnmount:S,client:E,ssrState:C,queryClient:M,prefetchQuery:T}=Q,$=H(O,y,"query"),B=M.getQueryDefaults($),A=y===G;typeof window>"u"&&C==="prepass"&&(l==null||(h=l.trpc)===null||h===void 0?void 0:h.ssr)!==!1&&((_=l?.enabled)!==null&&_!==void 0?_:B?.enabled)!==!1&&!A&&!M.getQueryCache().find({queryKey:$})&&T($,l);const K=a($,(0,f.default)((0,f.default)({},B),l)),I=(x=(j=l==null||(g=l.trpc)===null||g===void 0?void 0:g.abortOnUnmount)!==null&&j!==void 0?j:void 0)!==null&&x!==void 0?x:S,q=Ct((0,f.default)((0,f.default)({},K),{},{queryKey:$,queryFn:A?y:async U=>{const Y=(0,f.default)((0,f.default)({},K),{},{trpc:(0,f.default)((0,f.default)({},K?.trpc),I?{signal:U.signal}:{signal:null})}),ge=await E.query(...L($,Y));return ot(ge)?gt(ge,M,$):ge}}),M);return q.trpc=re({path:O}),q}function m(O,y,l){var h,_,x;const j=i(),g=H(O,y,"query"),Q=y===G,S=(h=(_=l==null||(x=l.trpc)===null||x===void 0?void 0:x.abortOnUnmount)!==null&&_!==void 0?_:void 0)!==null&&h!==void 0?h:j.abortOnUnmount;It((0,f.default)((0,f.default)({},l),{},{queryKey:g,queryFn:Q?y:E=>{const C={trpc:(0,f.default)((0,f.default)({},l?.trpc),S?{signal:E.signal}:{})};return j.client.query(...L(g,C))}}))}function d(O,y,l){var h,_,x;const j=i(),g=H(O,y,"query"),Q=(h=(_=l==null||(x=l.trpc)===null||x===void 0?void 0:x.abortOnUnmount)!==null&&_!==void 0?_:void 0)!==null&&h!==void 0?h:j.abortOnUnmount,S=Qt((0,f.default)((0,f.default)({},l),{},{queryKey:g,queryFn:E=>{const C=(0,f.default)((0,f.default)({},l),{},{trpc:(0,f.default)((0,f.default)({},l?.trpc),Q?{signal:E.signal}:{signal:null})});return j.client.query(...L(g,C))}}),j.queryClient);return S.trpc=re({path:O}),[S.data,S]}function b(O,y){const{client:l,queryClient:h}=i(),_=fe(O),x=h.defaultMutationOptions(h.getMutationDefaults(_)),j=Mt((0,f.default)((0,f.default)({},y),{},{mutationKey:_,mutationFn:g=>l.mutation(...L([O,{input:g}],y)),onSuccess(...g){var Q,S;return s({originalFn:()=>{var C,M,T;return(C=y==null||(M=y.onSuccess)===null||M===void 0?void 0:M.call(y,...g))!==null&&C!==void 0?C:x==null||(T=x.onSuccess)===null||T===void 0?void 0:T.call(x,...g)},queryClient:h,meta:(Q=(S=y?.meta)!==null&&S!==void 0?S:x?.meta)!==null&&Q!==void 0?Q:{}})}}),h);return j.trpc=re({path:O}),j}const v={data:void 0,error:null,status:"idle"},R={data:void 0,error:null,status:"connecting"};/* istanbul ignore next -- @preserve */function p(O,y,l){var h;const _=(h=l?.enabled)!==null&&h!==void 0?h:y!==G,x=jt(H(O,y,"any")),{client:j}=i(),g=P.useRef(l);P.useEffect(()=>{g.current=l});const[Q]=P.useState(new Set([])),S=P.useCallback(A=>{Q.add(A)},[Q]),E=P.useRef(null),C=P.useCallback(A=>{const K=T.current,I=T.current=A(K);let q=!1;for(const U of Q)if(K[U]!==I[U]){q=!0;break}q&&B(Fe(I,S))},[S,Q]),M=P.useCallback(()=>{var A;if((A=E.current)===null||A===void 0||A.unsubscribe(),!_){C(()=>(0,f.default)((0,f.default)({},v),{},{reset:M}));return}C(()=>(0,f.default)((0,f.default)({},R),{},{reset:M}));const K=j.subscription(O.join("."),y??void 0,{onStarted:()=>{var I,q;(I=(q=g.current).onStarted)===null||I===void 0||I.call(q),C(U=>(0,f.default)((0,f.default)({},U),{},{status:"pending",error:null}))},onData:I=>{var q,U;(q=(U=g.current).onData)===null||q===void 0||q.call(U,I),C(Y=>(0,f.default)((0,f.default)({},Y),{},{status:"pending",data:I,error:null}))},onError:I=>{var q,U;(q=(U=g.current).onError)===null||q===void 0||q.call(U,I),C(Y=>(0,f.default)((0,f.default)({},Y),{},{status:"error",error:I}))},onConnectionStateChange:I=>{C(q=>{switch(I.state){case"idle":return(0,f.default)((0,f.default)({},q),{},{status:I.state,error:null,data:void 0});case"connecting":return(0,f.default)((0,f.default)({},q),{},{error:I.error,status:I.state});case"pending":return q}})},onComplete:()=>{var I,q;(I=(q=g.current).onComplete)===null||I===void 0||I.call(q),C(U=>(0,f.default)((0,f.default)({},U),{},{status:"idle",error:null,data:void 0}))}});E.current=K},[j,x,_,C]);P.useEffect(()=>(M(),()=>{var A;(A=E.current)===null||A===void 0||A.unsubscribe()}),[M]);const T=P.useRef(_?(0,f.default)((0,f.default)({},R),{},{reset:M}):(0,f.default)((0,f.default)({},v),{},{reset:M})),[$,B]=P.useState(Fe(T.current,S));return $}function D(O,y,l){var h,_,x,j,g;const{client:Q,ssrState:S,prefetchInfiniteQuery:E,queryClient:C,abortOnUnmount:M}=i(),T=H(O,y,"infinite"),$=C.getQueryDefaults(T),B=y===G;typeof window>"u"&&S==="prepass"&&(l==null||(h=l.trpc)===null||h===void 0?void 0:h.ssr)!==!1&&((_=l?.enabled)!==null&&_!==void 0?_:$?.enabled)!==!1&&!B&&!C.getQueryCache().find({queryKey:T})&&E(T,(0,f.default)((0,f.default)({},$),l));const A=a(T,(0,f.default)((0,f.default)({},$),l)),K=(x=l==null||(j=l.trpc)===null||j===void 0?void 0:j.abortOnUnmount)!==null&&x!==void 0?x:M,I=Tt((0,f.default)((0,f.default)({},A),{},{initialPageParam:(g=l.initialCursor)!==null&&g!==void 0?g:null,persister:l.persister,queryKey:T,queryFn:B?y:q=>{var U;const Y=(0,f.default)((0,f.default)({},A),{},{trpc:(0,f.default)((0,f.default)({},A?.trpc),K?{signal:q.signal}:{signal:null})});return Q.query(...L(T,Y,{pageParam:(U=q.pageParam)!==null&&U!==void 0?U:l.initialCursor,direction:q.direction}))}}),C);return I.trpc=re({path:O}),I}function N(O,y,l){var h,_,x;const j=i(),g=H(O,y,"infinite"),Q=j.queryClient.getQueryDefaults(g),S=y===G,E=a(g,(0,f.default)((0,f.default)({},Q),l)),C=(h=l==null||(_=l.trpc)===null||_===void 0?void 0:_.abortOnUnmount)!==null&&h!==void 0?h:j.abortOnUnmount;Rt((0,f.default)((0,f.default)({},l),{},{initialPageParam:(x=l.initialCursor)!==null&&x!==void 0?x:null,queryKey:g,queryFn:S?y:M=>{var T;const $=(0,f.default)((0,f.default)({},E),{},{trpc:(0,f.default)((0,f.default)({},E?.trpc),C?{signal:M.signal}:{})});return j.client.query(...L(g,$,{pageParam:(T=M.pageParam)!==null&&T!==void 0?T:l.initialCursor,direction:M.direction}))}}))}function F(O,y,l){var h,_,x;const j=i(),g=H(O,y,"infinite"),Q=j.queryClient.getQueryDefaults(g),S=a(g,(0,f.default)((0,f.default)({},Q),l)),E=(h=l==null||(_=l.trpc)===null||_===void 0?void 0:_.abortOnUnmount)!==null&&h!==void 0?h:j.abortOnUnmount,C=qt((0,f.default)((0,f.default)({},l),{},{initialPageParam:(x=l.initialCursor)!==null&&x!==void 0?x:null,queryKey:g,queryFn:M=>{var T;const $=(0,f.default)((0,f.default)({},S),{},{trpc:(0,f.default)((0,f.default)({},S?.trpc),E?{signal:M.signal}:{})});return j.client.query(...L(g,$,{pageParam:(T=M.pageParam)!==null&&T!==void 0?T:l.initialCursor,direction:M.direction}))}}),j.queryClient);return C.trpc=re({path:O}),[C.data,C]}return{Provider:o,createClient:u,useContext:i,useUtils:i,useQuery:c,usePrefetchQuery:m,useSuspenseQuery:d,useQueries:(O,y)=>{const{ssrState:l,queryClient:h,prefetchQuery:_,client:x}=i(),j=Ne(x),g=O(j);if(typeof window>"u"&&l==="prepass")for(const S of g){var Q;const E=S;((Q=E.trpc)===null||Q===void 0?void 0:Q.ssr)!==!1&&!h.getQueryCache().find({queryKey:E.queryKey})&&_(E.queryKey,E)}return et({queries:g.map(S=>(0,f.default)((0,f.default)({},S),{},{queryKey:S.queryKey})),combine:y?.combine},h)},useSuspenseQueries:O=>{const{queryClient:y,client:l}=i(),h=Ne(l),_=O(h),x=Et({queries:_.map(j=>(0,f.default)((0,f.default)({},j),{},{queryFn:j.queryFn,queryKey:j.queryKey}))},y);return[x.map(j=>j.data),x]},useMutation:b,useSubscription:p,useInfiniteQuery:D,usePrefetchInfiniteQuery:N,useSuspenseInfiniteQuery:F}}function en(t){const e=Kr(t);return Ie(n=>n==="useContext"||n==="useUtils"?()=>{const s=t.useUtils();return P.useMemo(()=>Br(s),[s])}:t.hasOwnProperty(n)?t[n]:e[n])}function an(t){const e=Zr();return en(e)}export{un as Q,ye as T,an as c,sn as h};
