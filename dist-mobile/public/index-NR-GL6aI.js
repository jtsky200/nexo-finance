const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["backgroundTaskManager-DuxFkiIE.js","eventBus-CWDWdm45.js","workflowOrchestrator-BZtQc-WZ.js"])))=>i.map(i=>d[i]);
import{Z as Aa,j as e,e as ut,m as qe,_ as Ea,$ as Pa,a0 as Ra,o as Oe,B as V,u as ge,b as Xt,a as Dt,z as Ta,k as $e,A as $,Q as ne,L as H,S as oe,K as le,M as ce,N as de,O as I,I as pe,x as Rt,G as Te,H as me,a1 as Fa,f as rt,v as st,R as ea,a2 as Ba,a3 as vt,w as ta,a4 as Ge,a5 as Ia,c as Ve,a6 as et,a7 as yt,a8 as ft,a9 as _e,aa as za,D as we,p as ke,q as Se,r as Ce,s as Pe,ab as Tt,ac as Nt,t as De,ad as La,ae as Ma,d as aa,af as qa,ag as Oa,h as Je,ah as Ha,ai as Ga,aj as Va,ak as Ua,al as Ft,am as bt,an as na,i as Ka}from"./page-aichat-D9kAxZiV.js";import{i as ra}from"./vendor-i18n-CxwOOByA.js";import{createRoot as Wa}from"react-dom/client";import{T as mt,h as $a,Q as Za}from"./vendor-api-CWSsqTq_.js";import{u as Me,L as Ke,S as Qa,R as he}from"./vendor-router-D6hxBhhV.js";import{bC as Ya,x as sa,$ as At,Y as ia,A as jt,D as wt,z as Bt,bD as kt,B as St,k as It,g as oa,e as je,F as Ze,N as Ue,X as Le,bE as _a,bF as Ja,bG as it,_ as Xa,T as Ie,bH as zt,v as He,Q as en,R as la,p as Ae,bI as tt,G as ot,j as tn,bJ as ca,bK as an,bL as Lt,S as Mt,bM as nn,bN as rn,bO as sn,a0 as da,bP as on,bQ as ln,bR as cn,bS as dn,bT as lt,bU as un,a7 as mn,h as hn,U as qt,bV as ct,bW as pn,bX as gn,bY as fn,r as bn,bZ as xn,b_ as vn,b$ as yn,c0 as Nn,K as jn,c1 as wn,M as Ot,c2 as kn,q as Sn,o as Cn,c3 as Dn}from"./vendor-misc-Dgoprpj-.js";import{T as An,t as b}from"./vendor-toast-CdQ6zwVl.js";import{createContext as En,useState as g,useEffect as ve,useContext as Pn,Component as Rn,useMemo as ie,useRef as Re,useCallback as We}from"react";import{p as ua,r as at,t as Ht,k as Xe}from"./vendor-firebase-Dpcgiyci.js";import{M as Ne,S as ee,B as Be,a as Tn}from"./page-calendar-BeNX6wtJ.js";import{C as Qe,M as Fn}from"./page-shopping-C32ttjsD.js";import{R as Gt,B as Bn,C as In,X as zn,Y as Ln,T as Vt,L as Mn,a as Ut,P as qn,b as On,c as Hn}from"./vendor-charts-_TfMDWHD.js";import{B as Gn,E as Vn,F as Un,G as Kn,H as Wn,J as $n,L as Zn,K as Qn,M as Yn}from"./vendor-ui-lt1so0uj.js";import{f as _n,d as Jn}from"./vendor-dates-gcsEV1c3.js";import"./vendor-utils-BNe0Xlio.js";import"react-dom";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function c(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=c(l);fetch(l.href,u)}})();const Xn={de:{translation:{nav:{dashboard:"Dashboard",calendar:"Kalender",reminders:"Erinnerungen",finance:"Finanzen",people:"Personen",bills:"Rechnungen",documents:"Dokumente",shopping:"Einkaufsliste",taxes:"Steuern",assistant:"Assistent",settings:"Einstellungen",logout:"Abmelden"},dashboard:{title:"Dashboard",upcomingEvents:"Anstehende Termine & Zahlungen",upcomingReminders:"Anstehende Termine & Zahlungen",appointments:"Termine & Aufgaben",pendingBills:"Offene Rechnungen",noAppointments:"Keine anstehenden Termine",noBills:"Keine offenen Rechnungen",viewAll:"Alle anzeigen",financeOverview:"Finanzübersicht (aktueller Monat)",taxStatus:"Steuer-Status",quickActions:"Schnellaktionen",noEvents:"Keine anstehenden Ereignisse",noReminders:"Keine anstehenden Erinnerungen",addReminder:"Erinnerung hinzufügen",addExpense:"Ausgabe hinzufügen",addEntry:"Eintrag hinzufügen",viewFinances:"Finanzen anzeigen",viewTaxProfile:"Steuerprofil anzeigen",vsLastMonth:"{{percent}}% vs. Vormonat"},bills:{title:"Rechnungen",description:"Verwalten Sie Ihre Rechnungen und Zahlungserinnerungen",add:"Rechnung hinzufügen",edit:"Rechnung bearbeiten",scan:"Scannen",scanInvoice:"Rechnung scannen",total:"Gesamt",open:"Offen",overdue:"Überfällig",paid:"Bezahlt",pending:"Ausstehend",paidTab:"Bezahlt",noPending:"Keine ausstehenden Rechnungen",noPaid:"Noch keine bezahlten Rechnungen",addFirst:"Erste Rechnung hinzufügen",pendingPayments:"Offene Zahlungen",search:"Suchen...",filterStatus:"Status",titleField:"Titel / Beschreibung",titlePlaceholder:"z.B. Stromrechnung März",amount:"Betrag",currency:"Währung",dueDate:"Fälligkeitsdatum",paymentDetails:"Zahlungsdetails",creditor:"Empfänger",reference:"Referenz / Mitteilung",recurrence:"Wiederholung",noRecurrence:"Keine Wiederholung",quarterly:"Vierteljährlich",notes:"Notizen",notesPlaceholder:"Optionale Notizen...",dialogDescription:"Erfassen Sie die Rechnungsdetails",markAsPaid:"Als bezahlt markieren",markedAsPaid:"Als bezahlt markiert und Ausgabe erstellt",created:"Rechnung erstellt",updated:"Rechnung aktualisiert",deleted:"Rechnung gelöscht",confirmDelete:"Möchten Sie diese Rechnung wirklich löschen?",dataImported:"Rechnungsdaten übernommen",status:{paid:"Bezahlt",overdue:"Überfällig",dueSoon:"Bald fällig",pending:"Offen"},errors:{required:"Bitte füllen Sie alle Pflichtfelder aus."},titleAndAmountRequired:"Bitte Titel und Betrag eingeben",scanError:"Fehler beim Scannen",manual:"Manuell",scanButton:"Scannen",image:"Bild",scanQrCode:"QR-Code scannen",bills:"Rechnungen",openAmount:"Offene Rechnungen"},finance:{title:"Finanzen",add:"Eintrag hinzufügen",pageTitle:"Finanzen",pageDescription:"Verwalten Sie Ihre Einnahmen und Ausgaben",overview:"Übersicht",income:"Einnahmen",expenses:"Ausgaben",people:"Rechnungen",shoppingList:"Einkaufsliste",totalIncome:"Gesamteinnahmen",totalExpenses:"Gesamtausgaben",balance:"Saldo",allEntries:"Alle Einträge",noEntries:"Noch keine Einträge erfasst",noExpenses:"Keine Ausgaben",addEntry:"Eintrag hinzufügen",addIncomeButton:"Einnahme hinzufügen",addExpenseButton:"Ausgabe hinzufügen",category:"Kategorie",amount:"Betrag",date:"Datum",description:"Beschreibung",status:"Status",open:"Offen",paid:"Bezahlt",person:"Person",addPerson:"Person hinzufügen",personName:"Name",personAdded:"Person erfolgreich hinzugefügt",namePlaceholder:"Name eingeben",phone:"Telefon",noPeople:"Noch keine Personen erfasst",openAmount:"Offener Betrag",viewDetails:"Details anzeigen",notes:"Notizen",paymentMethod:"Zahlungsmethode",personDeleted:"Person erfolgreich gelöscht",invoices:"Rechnungen",addInvoice:"Rechnung hinzufügen",editInvoice:"Rechnung bearbeiten",deleteInvoice:"Rechnung löschen",invoiceAmount:"Betrag",invoiceDescription:"Beschreibung",invoiceDate:"Datum",invoiceStatus:"Status",invoiceAdded:"Rechnung erfolgreich hinzugefügt",invoiceUpdated:"Rechnung erfolgreich aktualisiert",invoiceDeleted:"Rechnung erfolgreich gelöscht",statusUpdated:"Status erfolgreich aktualisiert",noInvoices:"Noch keine Rechnungen erfasst",postponed:"Verschoben",confirmDelete:"Möchten Sie diese Rechnung wirklich löschen?",confirmDeletePerson:"Möchten Sie diese Person und alle zugehörigen Rechnungen wirklich löschen?",totalInvoices:"Rechnungen gesamt",openInvoices:"Offene Rechnungen",errors:{nameRequired:"Name ist erforderlich",amountRequired:"Betrag ist erforderlich",descriptionRequired:"Beschreibung ist erforderlich"},filterByCategory:"Nach Kategorie filtern",allCategories:"Alle Kategorien",showingCategory:"Zeigt",noIncome:"Keine Einnahmen vorhanden",monthlyOverview:"Monatsübersicht",last6Months:"Einnahmen vs. Ausgaben der letzten 6 Monate",exportSuccess:"Export erfolgreich",exportError:"Export fehlgeschlagen",recurring:"Wiederkehrend",recurrenceRule:"Wiederholungsregel",daily:"Täglich",weekly:"Wöchentlich",monthly:"Monatlich",yearly:"Jährlich",recurringHint:"Dieser Eintrag wird automatisch wiederholt erstellt.",budget:"Budget",budgets:"Budgets",setBudget:"Budget festlegen",budgetAmount:"Budget-Betrag",budgetUsed:"Verbraucht",budgetRemaining:"Verbleibend",budgetExceeded:"Budget überschritten",noBudgets:"Noch keine Budgets festgelegt",addBudget:"Budget hinzufügen",editBudget:"Budget bearbeiten",deleteBudget:"Budget löschen",budgetPeriod:"Zeitraum",categoryBreakdown:"Ausgaben nach Kategorie",categories:{income:{salary:"Gehalt",freelance:"Freelance",investment:"Investitionen",gift:"Geschenk",other:"Sonstiges"},expense:{food:"Lebensmittel",transport:"Transport",housing:"Wohnen",entertainment:"Unterhaltung",health:"Gesundheit",clothing:"Kleidung",education:"Bildung",bill:"Rechnung",other:"Sonstiges"}},paymentMethods:{card:"Karte",cash:"Bar",transfer:"Überweisung",twint:"Twint",other:"Sonstiges"},markedAsPaid:"Als bezahlt markiert",statusChanged:"Status geändert",categoryAndAmountRequired:"Bitte Kategorie und Betrag eingeben",refreshing:"Aktualisiere...",pullToRefresh:"Ziehen zum Aktualisieren",releaseToRefresh:"Loslassen zum Aktualisieren",searchPlaceholder:"Suchen nach Kategorie, Notizen...",clearSearch:"Suche löschen",addIncome:"Einnahme",addExpense:"Ausgabe",error:"Fehler: ",entries:"Einträge"},invoice:{scanTitle:"Rechnung scannen",scanDescription:"Laden Sie ein Bild der Rechnung hoch oder scannen Sie den QR-Code.",upload:"Hochladen",camera:"Kamera",manual:"Manuell",dropOrClick:"Bild hier ablegen oder klicken",supportedFormats:"JPG, PNG oder PDF",clickToChange:"Klicken um ein anderes Bild zu wählen",processing:"Verarbeite...",startCamera:"Kamera starten",capture:"Aufnehmen",qrCodeData:"QR-Code Daten",pasteQrData:"QR-Code Daten hier einfügen...",parseQr:"QR-Code parsen",dataExtracted:"Daten extrahiert",amount:"Betrag",creditor:"Empfänger",reference:"Referenz",message:"Mitteilung",useData:"Daten übernehmen",scan:"Scannen",scanInvoice:"Rechnung scannen",paymentDetails:"Zahlungsdetails",dataImported:"Daten wurden übernommen",qrDetected:"QR-Code erkannt!",qrNotSwiss:"QR-Code erkannt, aber kein Schweizer Zahlungs-QR.",noQrFound:"Kein QR-Code gefunden. Sie können die Daten manuell eingeben.",manualEntry:"QR-Code-Erkennung nicht verfügbar. Bitte geben Sie die Daten manuell ein.",qrParsed:"QR-Code-Daten erfolgreich geparst!",invalidQr:"Ungültige QR-Code-Daten.",invalidFileType:"Ungültiger Dateityp. Bitte laden Sie ein Bild oder PDF hoch.",processingError:"Fehler bei der Bildverarbeitung.",cameraError:"Kamera konnte nicht gestartet werden.",enterQrData:"Bitte geben Sie die QR-Code-Daten ein.",browserNotSupported:"QR-Code-Erkennung wird in diesem Browser nicht unterstützt. Bitte verwenden Sie Chrome oder Edge.",autoScanning:"Automatische Erkennung aktiv...",cameraInactive:"Kamera nicht aktiv",autoScanHint:"Der QR-Code wird automatisch erkannt, sobald er im Kamerabild erscheint."},shopping:{title:"Einkaufsliste",short:"Einkaufsliste",description:"Verwalten Sie Ihre Einkäufe und Budget",addItem:"Artikel hinzufügen",item:"Artikel",quantity:"Menge",estimatedPrice:"Geschätzter Preis",actualPrice:"Tatsächlicher Preis",category:"Kategorie",notBought:"Nicht eingekauft",bought:"Eingekauft",totalBudget:"Gesamtbudget",spent:"Ausgegeben",remaining:"Verbleibend",noItems:"Keine Artikel in der Liste",markAsBought:"Als eingekauft markieren",createExpense:"Ausgabe erstellen",itemNameRequired:"Bitte Artikelname eingeben",itemAdded:"Artikel hinzugefügt",error:"Fehler: ",noProductInfo:"Keine Produktinformationen erkannt",productInfoRecognized:"Produktinformationen erkannt",analysisError:"Fehler bei Analyse: ",storeRequired:"Bitte Laden für alle Gruppen angeben",itemNameRequiredForAll:"Bitte Artikelname für alle Artikel eingeben",itemsAdded:"{{count}} Artikel hinzugefügt",listNameRequired:"Bitte Listenname eingeben",listCreated:"Liste erstellt",atLeastOneListRequired:"Mindestens eine Liste muss vorhanden sein",listDeleted:"Liste gelöscht",listUpdated:"Liste aktualisiert",pleaseSelectAtLeastOne:"Bitte wählen Sie mindestens einen Artikel aus",itemsDeleted:"{{count}} Artikel gelöscht",boughtItemsDeleted:"Eingekaufte Artikel gelöscht",cameraError:"Kamera-Fehler",cameraPermissionDenied:"Kamera-Berechtigung verweigert. Bitte in den Browser-Einstellungen erlauben.",noCameraFound:"Keine Kamera gefunden",cameraInUse:"Kamera wird bereits verwendet",cameraNotSupported:"Kamera-Unterstützung nicht verfügbar",cameraInitSlow:"Kamera-Initialisierung zu langsam",itemsRecognized:"{{count}} Artikel erkannt!",ocrNotAvailable:"OCR nicht verfügbar. Google Cloud Vision API muss aktiviert werden.",googleBillingRequired:"Google Cloud Billing erforderlich",textRecognizedNoItems:"Text erkannt aber keine Artikel gefunden. Versuche bessere Bildqualität.",noItemsRecognizedBetterQuality:"Keine Artikel erkannt. Bitte bessere Bildqualität verwenden.",newItemsRecognized:"{{count}} neue Artikel erkannt!",allItemsAlreadyInList:"Alle Artikel bereits in Liste",allItemsAlreadyRecognized:"Alle Artikel bereits erkannt",noItemsRecognized:"Keine Artikel erkannt",itemNotRecognized:"Artikel nicht erkannt",noItemsScanned:"Keine Artikel gescannt",categories:{food:"Lebensmittel",drinks:"Getränke",household:"Haushalt",hygiene:"Hygiene",pet:"Tierbedarf",other:"Sonstiges"},list:"Einkaufsliste",itemsOpen:"Artikel offen",empty:"Liste ist leer",selectAll:"Alle auswählen",deselectAll:"Alle abwählen",selected:"ausgewählt",standard:"(Standard)",receiptSaved:"Quittung gespeichert!",addedToFinance:"Zu Finanzen hinzugefügt!",purchaseAt:"Einkauf bei"},reminders:{title:"Erinnerungen",add:"Erinnerung hinzufügen",edit:"Erinnerung bearbeiten",description:"Verwalten Sie Ihre Termine, Zahlungen und Aufgaben",pageDescription:"Verwalten Sie Ihre Termine und Aufgaben",dialogDescription:"Erstellen Sie eine neue Erinnerung für Termine, Zahlungen oder Aufgaben",reminderTitle:"Titel",titleField:"Titel",titlePlaceholder:"z.B. Zahnarzttermin",addReminder:"Erinnerung hinzufügen",type:"Typ",types:{termin:"Termin",zahlung:"Zahlung",aufgabe:"Aufgabe"},appointment:"Termin",payment:"Zahlung",task:"Aufgabe",dueDate:"Fälligkeitsdatum",allDay:"Ganztägig",status:{label:"Status",offen:"Offen",erledigt:"Erledigt",überfällig:"Überfällig",open:"Offen",done:"Erledigt",overdue:"Überfällig"},open:"Offen",completed:"Erledigt",overdue:"Überfällig",amount:"Betrag",currency:"Währung",notes:"Notizen",notesPlaceholder:"Optionale Notizen...",recurrence:"Wiederholung",noRecurrence:"Keine Wiederholung",noReminders:"Keine Erinnerungen vorhanden",stats:{total:"Gesamt",open:"Offen",done:"Erledigt",overdue:"Überfällig"},total:"Gesamt",pendingPayments:"Offene Zahlungen",search:"Suche",searchPlaceholder:"Suchen...",filterAll:"Alle",filterType:"Typ",filterStatus:"Status",upcoming:"Anstehend",past:"Vergangen",noUpcoming:"Keine anstehenden Erinnerungen",noPast:"Keine vergangenen Erinnerungen",addFirst:"Erste Erinnerung erstellen",markDone:"Als erledigt markieren",markAsDone:"Als erledigt markieren",markOpen:"Wieder öffnen",reopen:"Wieder öffnen",markedAsDone:"Als erledigt markiert",reopened:"Wieder geöffnet",confirmDelete:"Erinnerung löschen?",confirmDeleteDescription:"Möchten Sie diese Erinnerung wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.",noRemindersFound:"Keine Erinnerungen gefunden",exportCSV:"Als CSV exportieren",fixed:"Erinnerungen wurden korrigiert",fixError:"Fehler beim Korrigieren",fixTimes:"Zeiten korrigieren",created:"Erinnerung erstellt",updated:"Erinnerung aktualisiert",deleted:"Erinnerung gelöscht",statusUpdated:"Status aktualisiert",errors:{required:"Bitte füllen Sie alle Pflichtfelder aus."}},documents:{title:"Dokumente",upload:"Dokument hochladen",uploadProgress:"Upload Fortschritt",noDocuments:"Keine Dokumente gefunden",view:"Ansehen",viewDocument:"Dokument {{fileName}} ansehen",deleteDocument:"Dokument {{fileName}} löschen",assign:"Dokument zuordnen",assignDescription:"Wählen Sie eine Person und einen Ordner für dieses Dokument",selectPerson:"Person auswählen",folder:"Ordner",allFolders:"Alle Ordner",preview:"Dokument Vorschau",analysisResult:"Analyse-Ergebnis",amount:"Betrag",dueDate:"Fälligkeitsdatum",description:"Beschreibung",unknown:"Unbekannt",saved:"Dokument gespeichert",deleted:"Dokument gelöscht",folders:{invoices:"Rechnungen",appointments:"Termine",contracts:"Verträge",other:"Sonstiges"},errors:{loadError:"Fehler beim Laden der Dokumente",fileTooLarge:"Datei ist zu gross. Maximal 10MB erlaubt.",analysisError:"Fehler bei der Analyse",readError:"Fehler beim Lesen der Datei",saveError:"Fehler beim Speichern",fillAllFields:"Bitte füllen Sie alle Felder aus"}},people:{title:"Personen & Schulden",addPerson:"Person hinzufügen",editPerson:"Person bearbeiten",addPersonDescription:"Erstellen Sie eine neue Person mit Name, E-Mail, Telefonnummer und optionalen Notizen",editPersonDescription:"Bearbeiten Sie die Informationen der ausgewählten Person",household:"Haushalt",external:"Externe",noPeopleFound:"Keine Personen gefunden",name:"Name",type:"Typ",email:"E-Mail",phone:"Telefon",relationship:"Beziehung",currency:"Währung",notes:"Notizen",notesPlaceholder:"Notizen...",child:"Kind",claims:"Forderungen",liabilities:"Verbindlichkeiten",invoices:"Rechnungen",invoicesDescription:"Verwalten Sie Rechnungen für diese Person",invoicesComingSoon:"Die Rechnungsverwaltung wird in einer zukünftigen Version verfügbar sein.",personAdded:"Person hinzugefügt",personUpdated:"Person aktualisiert",personDeleted:"Person gelöscht",confirmDelete:"Person löschen?",confirmDeleteDescription:"Möchten Sie diese Person wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.",types:{household:"Haushalt",external:"Externe Person",child:"Kind"},relationships:{both:"Beides",creditor:"Gläubiger",debtor:"Schuldner"},errors:{nameRequired:"Bitte geben Sie einen Namen ein",invalidEmail:"Ungültige E-Mail-Adresse",invalidPhone:"Ungültige Telefonnummer"}},taxes:{title:"Steuern",description:"Verwalten Sie Ihre Steuerprofile für verschiedene Jahre",year:"Steuerjahr",canton:"Kanton",selectCanton:"Kanton wählen",noCanton:"Kein Kanton ausgewählt",status:{unvollständig:"Unvollständig",vollständig:"Vollständig",eingereicht:"Eingereicht",draft:"Entwurf",submitted:"Eingereicht",completed:"Abgeschlossen"},addProfile:"Neues Steuerprofil",newProfile:"Neues Steuerprofil",editProfile:"Steuerprofil bearbeiten",noProfiles:"Keine Steuerprofile vorhanden",createFirst:"Erstellen Sie Ihr erstes Steuerprofil, um zu beginnen.",profileDescription:"Erfassen Sie Ihre Steuerdaten für das gewählte Jahr",profileCreated:"Steuerprofil erfolgreich erstellt",profileUpdated:"Steuerprofil erfolgreich aktualisiert",profileDeleted:"Steuerprofil erfolgreich gelöscht",statusUpdated:"Status erfolgreich aktualisiert",errorCreating:"Fehler beim Erstellen des Profils",errorUpdating:"Fehler beim Aktualisieren des Profils",errorDeleting:"Fehler beim Löschen des Profils",confirmDelete:"Steuerprofil löschen?",confirmDeleteDescription:"Möchten Sie dieses Steuerprofil wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.",editProfileDescription:"Bearbeiten Sie die Details des Steuerprofils",newProfileDescription:"Erstellen Sie ein neues Steuerprofil für ein Steuerjahr",errorLoading:"Fehler beim Laden der Steuerprofile",switzerland:"Schweiz",taxableIncome:"Einkommen",taxAmount:"Steuerbetrag",submitted:"Eingereicht",mobileComingSoon:"Die Steuerprofil-Verwaltung wird in einer zukünftigen Version verfügbar sein. Bitte verwenden Sie die Web-Version für die Verwaltung von Steuerprofilen.",personalInfo:"Persönliches",maritalStatus:"Zivilstand",selectMaritalStatus:"Wählen",single:"Ledig",married:"Verheiratet",divorced:"Geschieden",widowed:"Verwitwet",registeredPartnership:"Eingetragene Partnerschaft",children:"Kinder",incomeSection:"Einkommen",grossIncome:"Bruttoeinkommen",otherIncome:"Andere Einkünfte",other:"andere",deductionsSection:"Abzüge",deductions:"Abzüge",totalDeductions:"Gesamtabzüge (CHF)",notes:"Notizen",notesPlaceholder:"Zusätzliche Informationen..."},settings:{title:"Einstellungen",description:"Verwalten Sie Ihre Kontoeinstellungen",languageChanged:"Sprache geändert",german:"Deutsch",english:"English",light:"Hell",dark:"Dunkel",lightThemeActivated:"Helles Design aktiviert",darkThemeActivated:"Dunkles Design aktiviert",notificationsEnabled:"Benachrichtigungen aktiviert",notificationsBlocked:"Benachrichtigungen wurden blockiert. Bitte in den Browser-Einstellungen aktivieren.",permissionRequired:"Berechtigung erforderlich",notSupported:"Nicht unterstützt",enabled:"Aktiviert",disabled:"Deaktiviert",blocked:"Blockiert",notEnabled:"Nicht aktiviert",enabling:"Aktiviere...",enableInBrowser:"In Browser-Einstellungen aktivieren",enableInBrowserDescription:"Bitte öffnen Sie die Browser-Einstellungen und erlauben Sie Benachrichtigungen für diese Website.",biometric:"Biometrische Authentifizierung",biometricEnabled:"Biometrische Authentifizierung aktiviert",biometricDisabled:"Biometrische Authentifizierung deaktiviert",biometricNotAvailable:"Biometrische Authentifizierung ist auf diesem Gerät nicht verfügbar",biometricActivationFailed:"Aktivierung fehlgeschlagen",enableBiometric:"Biometrische Authentifizierung aktivieren",disableBiometric:"Biometrische Authentifizierung deaktivieren",registering:"Registriere...",available:"Verfügbar",notAvailable:"Nicht verfügbar",noBiometricSensor:"Kein biometrischer Sensor auf diesem Gerät gefunden.",weatherLocation:"Wetter-Standort",locationLabel:'Ort (z.B. "Zurich, CH" oder "Berlin, DE")',locationFormat:'Format: Stadt, Ländercode (z.B. "Zurich, CH", "Berlin, DE", "New York, US")',locationSaved:"Standort gespeichert",glassEffect:"Glass-Effekt",glassEffectEnabled:"Glass-Effekt aktiviert",glassEffectDisabled:"Glass-Effekt deaktiviert",enableGlassEffect:"Glass-Effekt aktivieren",disableGlassEffect:"Glass-Effekt deaktivieren",desktopVersion:"Desktop Version",desktopVersionDescription:"Zur vollständigen Ansicht",comingSoon:"Kommt in einer zukünftigen Version",errors:{enableNotificationsError:"Fehler beim Aktivieren der Benachrichtigungen",pleaseLogin:"Bitte melden Sie sich zuerst an",enableBiometricError:"Fehler beim Aktivieren der biometrischen Authentifizierung",enterLocation:"Bitte geben Sie einen Ort ein",saveLocationError:"Fehler beim Speichern des Standorts"},profile:"Profil",profileDescription:"Verwalten Sie Ihre persönlichen Informationen",name:"Name",namePlaceholder:"Ihr Name",email:"E-Mail",emailHint:"E-Mail kann nicht geändert werden",preferences:"Präferenzen",preferencesDescription:"Passen Sie Ihre App-Einstellungen an",language:"Sprache",currency:"Währung",canton:"Kanton",selectCanton:"Wählen Sie Ihren Kanton",cantonHint:"Wird für Steuerberechnungen verwendet",appearance:"Darstellung",appearanceDescription:"Passen Sie das Erscheinungsbild der App an",darkMode:"Dunkler Modus",darkModeDescription:"Dunkles Farbschema aktivieren",theme:"Design",notifications:"Benachrichtigungen",notificationsDescription:"Verwalten Sie Ihre Benachrichtigungseinstellungen",enableNotifications:"Benachrichtigungen aktivieren",notificationsHint:"Erhalten Sie Erinnerungen für anstehende Termine und Zahlungen",save:"Speichern",saved:"Einstellungen gespeichert",errorSaving:"Fehler beim Speichern",reset:"Zurücksetzen"},auth:{login:{title:"Anmelden",description:"Melden Sie sich bei Ihrem Nexo-Konto an",email:"E-Mail",emailPlaceholder:"ihre@email.com",password:"Passwort",passwordPlaceholder:"••••••••",submit:"Anmelden",submitting:"Wird angemeldet...",success:"Erfolgreich angemeldet",error:"Anmeldung fehlgeschlagen: {{message}}",googleButton:"Mit Google anmelden",googleSuccess:"Erfolgreich mit Google angemeldet",googleError:"Google-Anmeldung fehlgeschlagen: {{message}}",internalError:"Ein interner Fehler ist aufgetreten. Bitte versuchen Sie es erneut oder verwenden Sie die E-Mail-Anmeldung.",popupBlocked:"Popup wurde blockiert. Bitte erlauben Sie Popups für diese Seite.",loginCancelled:"Anmeldung abgebrochen.",noAccount:"Noch kein Konto?",registerLink:"Jetzt registrieren",or:"Oder",continueText:"Melden Sie sich an, um fortzufahren",desktopLink:"Desktop-Version öffnen"},register:{title:"Registrieren",description:"Erstellen Sie ein neues Nexo-Konto",name:"Name",namePlaceholder:"Max Mustermann",email:"E-Mail",emailPlaceholder:"ihre@email.com",password:"Passwort",passwordPlaceholder:"••••••••",confirmPassword:"Passwort bestätigen",confirmPasswordPlaceholder:"••••••••",submit:"Konto erstellen",submitting:"Wird erstellt...",success:"Konto erfolgreich erstellt",error:"Registrierung fehlgeschlagen: {{message}}",googleButton:"Mit Google registrieren",googleSuccess:"Erfolgreich mit Google registriert",googleError:"Google-Registrierung fehlgeschlagen: {{message}}",hasAccount:"Bereits ein Konto?",loginLink:"Jetzt anmelden",or:"Oder",desktopLink:"Desktop-Version öffnen",validation:{nameRequired:"Bitte geben Sie Ihren Namen ein",passwordsNotMatch:"Passwörter stimmen nicht überein",passwordTooShort:"Passwort muss mindestens 6 Zeichen lang sein",emailInvalid:"Ungültige E-Mail-Adresse",passwordInvalid:"Ungültiges Passwort"}}},onboarding:{title:"Willkommen bei Nexo",stepIndicator:"Schritt {{step}} von {{total}}: {{description}}",steps:{personalData:"Richten Sie Ihr Konto ein",taxInfo:"Steuerinformationen",children:"Kinder",household:"Haushaltsmitglieder",preferences:"Einstellungen"},fields:{name:"Ihr Name",namePlaceholder:"Max Mustermann",currency:"Währung",phone:"Telefonnummer (optional)",phonePlaceholder:"+41 79 123 45 67",birthDate:"Geburtsdatum (optional)",country:"Land",countryPlaceholder:"Land wählen",address:"Adresse",street:"Strasse",houseNumber:"Hausnummer",postalCode:"PLZ",city:"Ort",state:"Bundesstaat",county:"County (optional)",apartment:"Apartment/Unit (optional)",addressFields:{CH:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"PLZ",city:"Ort"},DE:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"PLZ",city:"Ort"},AT:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"PLZ",city:"Ort"},FR:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"Postleitzahl",city:"Stadt"},GB:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"Postleitzahl",city:"Stadt/Ort",county:"County (optional)"},IT:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"Postleitzahl",city:"Stadt"},ES:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"Postleitzahl",city:"Stadt"},NL:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"Postleitzahl",city:"Ort"},BE:{street:"Strasse",houseNumber:"Hausnummer",postalCode:"Postleitzahl",city:"Stadt"},US:{street:"Strasse",houseNumber:"Hausnummer (optional)",postalCode:"Postleitzahl",city:"Stadt",state:"Bundesstaat",apartment:"Wohnung/Unit (optional)"}},region:"Region",regionPlaceholder:"{{regionLabel}} wählen",selectRegion:"{{regionLabel}} wählen",regionHint:"Wird für Steuerberechnungen verwendet",taxClass:"Steuerklasse",taxClassPlaceholder:"Steuerklasse wählen",taxClassSingle:"Ledig",taxClassMarried:"Verheiratet",taxClassMarriedSeparated:"Verheiratet getrennt",taxClassWidowed:"Verwitwet",numberOfTaxpayers:"Anzahl Steuerpflichtige",taxYear:"Steuerjahr",numberOfChildren:"Anzahl Kinder",childFirstName:"Vorname",childLastName:"Nachname",childBirthDate:"Geburtsdatum",childSchool:"Schule",schoolNamePlaceholder:"Schulname",childSchoolGrade:"Schulstufe",schoolGradePlaceholder:"Schulstufe wählen",childGender:"Geschlecht",genderMale:"Männlich",genderFemale:"Weiblich",genderDiverse:"Divers",genderOther:"Keine Angabe",numberOfHouseholdMembers:"Anzahl Haushaltsmitglieder",householdMemberName:"Haushaltsmitglied",householdMemberFirstName:"Vorname",householdMemberLastName:"Nachname",householdMemberBirthDate:"Geburtsdatum",householdMemberRelationship:"Beziehung",householdMemberRelationshipPlaceholder:"Beziehung wählen",householdMemberEmail:"E-Mail (optional)",householdMemberPhone:"Telefonnummer (optional)",householdMemberNotes:"Notizen",relationshipPartner:"Partner/Partnerin",relationshipSpouse:"Ehepartner/in",relationshipParent:"Elternteil",relationshipSibling:"Geschwister",relationshipRoommate:"Mitbewohner/in",relationshipOther:"Sonstiges",language:"Sprache",theme:"Design",themeSystem:"System",themeLight:"Hell",themeDark:"Dunkel",notifications:"Benachrichtigungen aktivieren",tutorial:"Erste Schritte-Tutorial anzeigen"},buttons:{skip:"Überspringen",next:"Weiter",back:"Zurück",complete:"Abschliessen"},validation:{nameRequired:"Bitte geben Sie Ihren Namen ein",addressRequired:"Bitte geben Sie Ihre vollständige Adresse ein",streetRequired:"Bitte geben Sie {{label}} ein",houseNumberRequired:"Bitte geben Sie {{label}} ein",postalCodeRequired:"Bitte geben Sie {{label}} ein",cityRequired:"Bitte geben Sie {{label}} ein",stateRequired:"Bitte wählen Sie {{label}}",postalCodeInvalid:"Ungültiges Format für {{label}}",countryInvalid:"Ungültiges Land",childFirstNameRequired:"Bitte geben Sie für alle Kinder Vorname und Nachname ein",childLastNameRequired:"Bitte geben Sie für alle Kinder Vorname und Nachname ein",householdMemberNameRequired:"Bitte geben Sie für alle Haushaltsmitglieder Vorname und Nachname ein"},success:{completed:"Onboarding erfolgreich abgeschlossen"},error:{saving:"Fehler beim Speichern: {{message}}"},noRegions:"Für {{country}} sind keine Regionen verfügbar."},aiChat:{title:"Assistent",openAssistant:"Assistent öffnen",history:"Verlauf",clearAll:"Alle löschen",clearAllConfirm:"Alle Chats löschen?",clearAllDescription:"Diese Aktion kann nicht rückgängig gemacht werden. Alle {{count}} Chat{{plural}} werden dauerhaft gelöscht.",clearAllDescriptionSingular:"Diese Aktion kann nicht rückgängig gemacht werden. Alle {{count}} Chat werden dauerhaft gelöscht.",noChats:"Kein Chat-Verlauf",noChatsToDelete:"Keine Chats zum Löschen",newChat:"Neuer Chat",chatHistory:"Chat-Verlauf",noConversations:"Noch keine Konversationen",noChatsYet:"Noch keine Chats",chatDeleted:"Chat gelöscht",errorDeletingChat:"Fehler beim Löschen",cancel:"Abbrechen",confirmDelete:"Ja, alle löschen",deleting:"Wird gelöscht...",deleted:"{{count}} Chat{{plural}} gelöscht",deletedSingular:"{{count}} Chat gelöscht",deleteError:"Fehler beim Löschen der Chats",dateToday:"Heute",dateYesterday:"Gestern",dateDaysAgo:"Vor {{days}} Tagen",conversationStarted:"Neue Konversation gestartet",navigateTo:"Zu {{label}} navigieren",messageTooLong:"Nachricht ist zu lang. Bitte kürze sie auf maximal 10.000 Zeichen.",waitForResponse:"Bitte warte auf die Antwort...",fileTooLarge:"Datei ist zu gross. Maximal {{maxSize}}MB erlaubt.",invalidFilename:"Ungültiger Dateiname.",uploadingFile:"Datei wird hochgeladen...",uploadProgress:"Upload: {{percent}}%",invalidFileFormat:"Ungültiges Dateiformat",fileReadError:"Fehler beim Lesen der Datei",uploadTimeout:"Upload-Timeout: Die Datei ist zu gross oder die Verbindung zu langsam.",uploadConnectionTimeout:"Upload-Timeout: Die Verbindung ist zu langsam.",noServerResponse:"Keine Antwort vom Server erhalten",invalidServerResponse:"Ungültige Server-Antwort",fileUploadSuccess:"Datei erfolgreich hochgeladen",uploadError:"Fehler beim Hochladen: {{error}}",unknownError:"Unbekannter Fehler",selectImage:"Bitte wähle ein Bild aus (JPG, PNG, GIF, etc.)",imageTooLarge:"Bild ist zu gross. Maximal {{maxSize}}MB erlaubt.",uploadingImage:"Bild wird hochgeladen...",imageUploadProgress:"Bild-Upload: {{percent}}%",invalidImageFormat:"Ungültiges Bildformat",imageReadError:"Fehler beim Lesen des Bildes",imageUploadTimeout:"Upload-Timeout: Das Bild ist zu gross oder die Verbindung zu langsam.",imageUploadSuccess:"Bild erfolgreich hochgeladen",processingRecording:"Aufnahme wird verarbeitet...",stopRecordingError:"Fehler beim Stoppen der Aufnahme",microphoneNotSupported:"Mikrofon-Zugriff wird von diesem Browser nicht unterstützt.",microphoneTimeout:"Mikrofon-Zugriff-Timeout",audioTooLarge:"Audio-Aufnahme ist zu gross. Bitte kürze die Aufnahme.",transcribingAudio:"Audio wird transkribiert...",transcriptionProgress:"Transkription: {{percent}}%",invalidAudioFormat:"Ungültiges Audioformat",audioReadError:"Fehler beim Lesen der Audio-Datei",audioProcessingTimeout:"Audio-Verarbeitung-Timeout",transcriptionTimeout:"Transkription-Timeout: Die Verbindung ist zu langsam.",voiceInputSuccess:"Spracheingabe erfolgreich",noTranscription:"Keine Transkription erhalten",transcriptionError:"Fehler bei der Transkription: {{error}}",recordingError:"Fehler bei der Aufnahme",maxRecordingTime:"Maximale Aufnahmezeit erreicht (5 Minuten)",recordingStarted:"Aufnahme gestartet... (Klicke erneut zum Stoppen)",microphonePermissionDenied:"Mikrofon-Zugriff wurde verweigert. Bitte erlaube den Zugriff in den Browser-Einstellungen.",microphoneNotFound:"Kein Mikrofon gefunden. Bitte verbinde ein Mikrofon.",microphoneError:"Mikrofon-Fehler: {{error}}",languageChanged:"Sprache auf {{lang}} geändert",attachFile:"Datei anhängen",addImage:"Bild hinzufügen",changeLanguage:"Sprache wechseln",voiceInput:"Spracheingabe",sending:"Wird gesendet...",sendMessage:"Nachricht senden",emptyStateMessage:"Wähle eine Frage oder starte eine eigene Unterhaltung",previewFile:"Datei-Vorschau",previewImage:"Bild-Vorschau",previewAudio:"Audio-Vorschau",playAudio:"Audio abspielen",pauseAudio:"Audio pausieren",sendFile:"Datei senden",sendImage:"Bild senden",sendTranscription:"Transkription senden",cancelPreview:"Abbrechen",removePreview:"Vorschau entfernen",newConversation:"Neue Konversation",suggestedPrompts:{howInvoiceManagement:"Wie funktioniert die Rechnungsverwaltung?",howCreateReminder:"Wie erstelle ich eine Erinnerung?",howManageFinances:"Wie verwalte ich meine Finanzen?",whatCanShoppingList:"Was kann ich mit der Einkaufsliste machen?",howInstallmentSystem:"Wie funktioniert das Raten-System?",howScanBill:"Wie scanne ich eine Rechnung?"}},calendar:{title:"Kalender",today:"Heute",todayEvents:"Heute - Termine & Events",appointmentsAndEvents:"Termine & Events",noEventsToday:"Keine Events an diesem Tag",quickActions:"Schnellaktionen",createAppointment:"Termin erstellen",financeEntry:"Finanz-Eintrag",createFinanceEntry:"Finanz-Eintrag erstellen",createFinanceEntryDescription:"Erstellen Sie einen neuen Finanz-Eintrag mit Beschreibung, Betrag, Typ und Datum",weather:"Wetter",loadingWeather:"Lädt Wetterdaten...",humidity:"Luftfeuchtigkeit",noLocationConfigured:"Kein Standort konfiguriert",pleaseEnterLocationInSettings:"Bitte in Einstellungen einen Standort eingeben",noWeatherDataAvailable:"Keine Wetterdaten verfügbar",dayDialogDescription:"Details für den ausgewählten Tag mit Wetter, Terminen und Schnellaktionen",amount:"Betrag",person:"Person",status:"Status",paid:"Bezahlt",pending:"Ausstehend",overdue:"Überfällig",timeOptional:"Uhrzeit (optional)",notesOptional:"Notizen (optional)",moreDetails:"Weitere Details...",descriptionPlaceholder:"z.B. Einkauf, Gehalt",appointmentCreated:"Termin erstellt",financeEntryCreated:"Finanz-Eintrag erstellt",months:{january:"Januar",february:"Februar",march:"März",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember"},days:{monday:"Mo",tuesday:"Di",wednesday:"Mi",thursday:"Do",friday:"Fr",saturday:"Sa",sunday:"So"},errors:{pleaseLogin:"Bitte anmelden",networkError:"Netzwerkfehler - Bitte erneut versuchen",titleRequired:"Bitte gib einen Titel ein",invalidDate:"Bitte gib ein gültiges Datum ein (DD.MM.YYYY)",cannotCreateInPast:"Termine können nicht in der Vergangenheit erstellt werden",createAppointmentError:"Fehler beim Erstellen des Termins",descriptionRequired:"Bitte gib eine Beschreibung ein",invalidAmount:"Bitte gib einen gültigen Betrag ein",createFinanceEntryError:"Fehler beim Erstellen des Finanz-Eintrags",weatherError:"Fehler",loadingError:"Fehler beim Laden",pleaseEnterLocation:"Bitte Standort in Einstellungen eingeben"}},common:{add:"Hinzufügen",edit:"Bearbeiten",delete:"Löschen",cancel:"Abbrechen",save:"Speichern",saving:"Speichert...",create:"Erstellen",update:"Aktualisieren",close:"Schliessen",search:"Suchen",filter:"Filtern",sort:"Sortieren",loading:"Wird geladen...",error:"Fehler",success:"Erfolg",confirm:"Bestätigen",yes:"Ja",no:"Nein",help:"Hilfe",copy:"Kopieren",copyUrl:"URL kopieren",refresh:"Aktualisieren",backupCreated:"Backup erfolgreich erstellt",backupError:"Fehler beim Erstellen des Backups",exporting:"Exportiere...",duplicate:"Duplizieren",view:"Anzeigen",download:"Herunterladen",copied:"{{label}} kopiert!",german:"Deutsch",english:"Englisch"},userMenu:{editProfile:"Profil bearbeiten",assistant:"Assistent",startTutorial:"Erste Schritte Tutorial",faq:"FAQ",exportData:"Daten exportieren",keyboardShortcuts:"Tastenkürzel",about:"Über Nexo"},tutorial:{started:"Tutorial gestartet",dashboard:{title:"Willkommen im Dashboard",description:"Hier sehen Sie eine Übersicht über Ihre Finanzen, Termine und Erinnerungen."},navigation:{title:"Navigation",description:"Nutzen Sie die Seitenleiste, um zwischen verschiedenen Bereichen zu wechseln."},userMenu:{title:"Benutzermenü",description:"Hier finden Sie Einstellungen, Hilfe und können das Tutorial jederzeit neu starten."}},help:{title:"Hilfe & Support",subtitle:"Finden Sie Antworten auf Ihre Fragen",searchPlaceholder:"Suchen Sie nach Hilfe...",quickActions:{tutorial:"Tutorial starten",tutorialDescription:"Lernen Sie die Grundfunktionen kennen",faq:"FAQ",faqDescription:"Häufig gestellte Fragen",contact:"Kontakt",contactDescription:"Kontaktieren Sie unseren Support"},categories:{gettingStarted:"Erste Schritte",finance:"Finanzen",taxes:"Steuern",people:"Personen",other:"Sonstiges"},articles:{welcome:{title:"Willkommen bei Nexo",description:"Eine Einführung in die Grundfunktionen von Nexo"},onboarding:{title:"Onboarding abschliessen",description:"So richten Sie Ihr Konto ein"},dashboard:{title:"Dashboard verstehen",description:"Übersicht über Ihre Finanzen und Termine"},addEntry:{title:"Einträge hinzufügen",description:"So erfassen Sie Einnahmen und Ausgaben"},bills:{title:"Rechnungen verwalten",description:"Rechnungen erstellen, scannen und verwalten"},aiAssistant:{title:"KI-Assistent nutzen",description:"So nutzen Sie den KI-Assistenten"},backup:{title:"Daten sichern",description:"So erstellen Sie ein Backup Ihrer Daten"}}},faq:{title:"Häufig gestellte Fragen",subtitle:"Finden Sie schnelle Antworten auf häufige Fragen",searchPlaceholder:"Fragen durchsuchen...",noResults:"Keine Ergebnisse gefunden",items:{whatIsNexo:{question:"Was ist Nexo?",answer:"Nexo ist eine umfassende Finanzverwaltungs-App, die Ihnen hilft, Ihre Finanzen, Rechnungen, Steuern und mehr zu verwalten."},howToAddEntry:{question:"Wie füge ich einen Eintrag hinzu?",answer:'Gehen Sie zur Finanzen-Seite und klicken Sie auf "Eintrag hinzufügen". Füllen Sie die erforderlichen Felder aus und speichern Sie.'},howToScanBill:{question:"Wie scanne ich eine Rechnung?",answer:'Gehen Sie zur Rechnungen-Seite und klicken Sie auf "Rechnung scannen". Verwenden Sie Ihre Kamera, um die Rechnung zu fotografieren.'},howToBackup:{question:"Wie erstelle ich ein Backup?",answer:"Gehen Sie zu Einstellungen > Backup oder verwenden Sie das User-Menü > Daten exportieren."},howToChangeLanguage:{question:"Wie ändere ich die Sprache?",answer:"Klicken Sie auf das Sprach-Icon in der Topbar und wählen Sie Ihre gewünschte Sprache aus."},howToUseAI:{question:"Wie nutze ich den KI-Assistenten?",answer:'Klicken Sie auf "Assistent" im User-Menü oder verwenden Sie das Chat-Icon. Stellen Sie Fragen zu Ihren Finanzen oder bitten Sie um Hilfe.'}}}}},en:{translation:{nav:{dashboard:"Dashboard",calendar:"Calendar",reminders:"Reminders",finance:"Finance",people:"People",bills:"Bills",documents:"Documents",shopping:"Shopping List",taxes:"Taxes",assistant:"Assistant",settings:"Settings",logout:"Logout"},auth:{login:{title:"Login",description:"Sign in to your Nexo account",email:"Email",emailPlaceholder:"your@email.com",password:"Password",passwordPlaceholder:"••••••••",submit:"Sign In",submitting:"Signing in...",success:"Successfully signed in",error:"Sign in failed: {{message}}",googleButton:"Sign in with Google",googleSuccess:"Successfully signed in with Google",googleError:"Google sign in failed: {{message}}",internalError:"An internal error occurred. Please try again or use email login.",popupBlocked:"Popup was blocked. Please allow popups for this site.",loginCancelled:"Login cancelled.",noAccount:"Don't have an account?",registerLink:"Register now",or:"Or",continueText:"Sign in to continue",desktopLink:"Open Desktop Version"},register:{title:"Register",description:"Create a new Nexo account",name:"Name",namePlaceholder:"John Doe",email:"Email",emailPlaceholder:"your@email.com",password:"Password",passwordPlaceholder:"••••••••",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"••••••••",submit:"Create Account",submitting:"Creating...",success:"Account created successfully",error:"Registration failed: {{message}}",googleButton:"Register with Google",googleSuccess:"Successfully registered with Google",googleError:"Google registration failed: {{message}}",hasAccount:"Already have an account?",loginLink:"Sign in now",or:"Or",desktopLink:"Open Desktop Version",validation:{nameRequired:"Please enter your name",passwordsNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",emailInvalid:"Invalid email address",passwordInvalid:"Invalid password"}}},dashboard:{title:"Dashboard",upcomingEvents:"Upcoming Appointments & Payments",appointments:"Appointments & Tasks",pendingBills:"Pending Bills",noAppointments:"No upcoming appointments",noBills:"No pending bills",viewAll:"View all",financeOverview:"Finance Overview (Current Month)",taxStatus:"Tax Status",quickActions:"Quick Actions",noEvents:"No upcoming events",addReminder:"Add Reminder",addExpense:"Add Expense",addEntry:"Add Entry",viewFinances:"View Finances",viewTaxProfile:"View Tax Profile",vsLastMonth:"{{percent}}% vs. last month"},bills:{title:"Bills",description:"Manage your bills and payment reminders",add:"Add Bill",edit:"Edit Bill",scan:"Scan",scanInvoice:"Scan Invoice",total:"Total",open:"Open",overdue:"Overdue",paid:"Paid",pending:"Pending",paidTab:"Paid",noPending:"No pending bills",noPaid:"No paid bills yet",addFirst:"Add first bill",pendingPayments:"Pending Payments",search:"Search...",filterStatus:"Status",titleField:"Title / Description",titlePlaceholder:"e.g. Electricity bill March",amount:"Amount",currency:"Currency",dueDate:"Due Date",paymentDetails:"Payment Details",creditor:"Creditor",reference:"Reference / Message",recurrence:"Recurrence",noRecurrence:"No recurrence",quarterly:"Quarterly",notes:"Notes",notesPlaceholder:"Optional notes...",dialogDescription:"Enter the bill details",markAsPaid:"Mark as paid",markedAsPaid:"Marked as paid and expense created",created:"Bill created",updated:"Bill updated",deleted:"Bill deleted",confirmDelete:"Are you sure you want to delete this bill?",dataImported:"Bill data imported",status:{paid:"Paid",overdue:"Overdue",dueSoon:"Due Soon",pending:"Open"},errors:{required:"Please fill in all required fields."},titleAndAmountRequired:"Please enter title and amount",scanError:"Error scanning",manual:"Manual",image:"Image",scanQrCode:"Scan QR Code",bills:"Bills",openAmount:"Open Bills"},finance:{pageTitle:"Finance",pageDescription:"Manage your income and expenses",overview:"Overview",income:"Income",expenses:"Expenses",people:"Invoices",shoppingList:"Shopping List",totalIncome:"Total Income",totalExpenses:"Total Expenses",balance:"Balance",noEntries:"No entries yet",addEntry:"Add Entry",addIncomeButton:"Add Income",addExpenseButton:"Add Expense",category:"Category",amount:"Amount",date:"Date",description:"Description",status:"Status",open:"Open",paid:"Paid",person:"Person",addPerson:"Add Person",personName:"Name",personAdded:"Person added successfully",namePlaceholder:"Enter name",phone:"Phone",noPeople:"No people added yet",openAmount:"Open Amount",viewDetails:"View Details",notes:"Notes",paymentMethod:"Payment Method",personDeleted:"Person deleted successfully",invoices:"Invoices",addInvoice:"Add Invoice",editInvoice:"Edit Invoice",deleteInvoice:"Delete Invoice",invoiceAmount:"Amount",invoiceDescription:"Description",invoiceDate:"Date",invoiceStatus:"Status",invoiceAdded:"Invoice added successfully",invoiceUpdated:"Invoice updated successfully",invoiceDeleted:"Invoice deleted successfully",statusUpdated:"Status updated successfully",noInvoices:"No invoices yet",postponed:"Postponed",confirmDelete:"Are you sure you want to delete this invoice?",confirmDeletePerson:"Are you sure you want to delete this person and all associated invoices?",totalInvoices:"Total Invoices",openInvoices:"Open Invoices",errors:{nameRequired:"Name is required",amountRequired:"Amount is required",descriptionRequired:"Description is required"},filterByCategory:"Filter by category",allCategories:"All categories",showingCategory:"Showing",noIncome:"No income entries",monthlyOverview:"Monthly Overview",last6Months:"Income vs. Expenses over the last 6 months",exportSuccess:"Export successful",exportError:"Export failed",recurring:"Recurring",recurrenceRule:"Recurrence Rule",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly",recurringHint:"This entry will be automatically recreated.",budget:"Budget",budgets:"Budgets",setBudget:"Set Budget",budgetAmount:"Budget Amount",budgetUsed:"Used",budgetRemaining:"Remaining",budgetExceeded:"Budget exceeded",noBudgets:"No budgets set yet",addBudget:"Add Budget",editBudget:"Edit Budget",deleteBudget:"Delete Budget",budgetPeriod:"Period",categoryBreakdown:"Expenses by Category"},invoice:{scanTitle:"Scan Invoice",scanDescription:"Upload an image of the invoice or scan the QR code.",upload:"Upload",camera:"Camera",manual:"Manual",dropOrClick:"Drop image here or click",supportedFormats:"JPG, PNG or PDF",clickToChange:"Click to choose another image",processing:"Processing...",startCamera:"Start Camera",capture:"Capture",qrCodeData:"QR Code Data",pasteQrData:"Paste QR code data here...",parseQr:"Parse QR Code",dataExtracted:"Data extracted",amount:"Amount",creditor:"Recipient",reference:"Reference",message:"Message",useData:"Use Data",scan:"Scan",scanInvoice:"Scan Invoice",paymentDetails:"Payment Details",dataImported:"Data has been imported",qrDetected:"QR code detected!",qrNotSwiss:"QR code detected, but not a Swiss payment QR.",noQrFound:"No QR code found. You can enter the data manually.",manualEntry:"QR code detection not available. Please enter the data manually.",qrParsed:"QR code data successfully parsed!",invalidQr:"Invalid QR code data.",invalidFileType:"Invalid file type. Please upload an image or PDF.",processingError:"Error processing image.",cameraError:"Could not start camera.",enterQrData:"Please enter the QR code data.",browserNotSupported:"QR code detection is not supported in this browser. Please use Chrome or Edge.",autoScanning:"Auto-detection active...",cameraInactive:"Camera not active",autoScanHint:"The QR code will be automatically detected once it appears in the camera view."},shopping:{title:"Shopping List",description:"Manage your shopping and budget",addItem:"Add Item",item:"Item",quantity:"Quantity",estimatedPrice:"Estimated Price",actualPrice:"Actual Price",category:"Category",notBought:"Not Bought",bought:"Bought",totalBudget:"Total Budget",spent:"Spent",remaining:"Remaining",noItems:"No items in the list",markAsBought:"Mark as Bought",createExpense:"Create Expense",itemNameRequired:"Please enter item name",itemAdded:"Item added",error:"Error: ",noProductInfo:"No product information recognized",productInfoRecognized:"Product information recognized",analysisError:"Analysis error: ",storeRequired:"Please specify store for all groups",itemNameRequiredForAll:"Please enter item name for all items",itemsAdded:"{{count}} items added",listNameRequired:"Please enter list name",listCreated:"List created",atLeastOneListRequired:"At least one list must exist",listDeleted:"List deleted",listUpdated:"List updated",pleaseSelectAtLeastOne:"Please select at least one item",itemsDeleted:"{{count}} items deleted",boughtItemsDeleted:"Bought items deleted",cameraError:"Camera Error",cameraPermissionDenied:"Camera permission denied. Please allow in browser settings.",noCameraFound:"No camera found",cameraInUse:"Camera already in use",cameraNotSupported:"Camera support not available",cameraInitSlow:"Camera initialization too slow",itemsRecognized:"{{count}} items recognized!",ocrNotAvailable:"OCR not available. Google Cloud Vision API must be enabled.",googleBillingRequired:"Google Cloud Billing required",textRecognizedNoItems:"Text recognized but no items found. Try better image quality.",noItemsRecognizedBetterQuality:"No items recognized. Please use better image quality.",newItemsRecognized:"{{count}} new items recognized!",allItemsAlreadyInList:"All items already in list",allItemsAlreadyRecognized:"All items already recognized",noItemsRecognized:"No items recognized",itemNotRecognized:"Item not recognized",noItemsScanned:"No items scanned",categories:{food:"Food",drinks:"Drinks",household:"Household",hygiene:"Hygiene",pet:"Pet Supplies",other:"Other"},list:"Shopping List",itemsOpen:"items open",empty:"List is empty",selectAll:"Select All",deselectAll:"Deselect All",selected:"selected",standard:"(Default)",receiptSaved:"Receipt saved!",addedToFinance:"Added to Finance!",purchaseAt:"Purchase at"},reminders:{title:"Reminders",add:"Add Reminder",edit:"Edit Reminder",description:"Manage your appointments, payments and tasks",pageTitle:"Reminders",pageDescription:"Manage your appointments and tasks",dialogDescription:"Create a new reminder for appointments, payments or tasks",reminderTitle:"Title",titleField:"Title",titlePlaceholder:"e.g. Dentist appointment",addReminder:"Add Reminder",type:"Type",types:{termin:"Appointment",zahlung:"Payment",aufgabe:"Task"},appointment:"Appointment",payment:"Payment",task:"Task",dueDate:"Due Date",allDay:"All Day",status:{label:"Status",offen:"Open",erledigt:"Completed",überfällig:"Overdue",open:"Open",done:"Completed",overdue:"Overdue"},open:"Open",completed:"Completed",overdue:"Overdue",amount:"Amount",currency:"Currency",notes:"Notes",notesPlaceholder:"Optional notes...",recurrence:"Recurrence",noRecurrence:"No recurrence",noReminders:"No reminders",stats:{total:"Total",open:"Open",done:"Completed",overdue:"Overdue"},total:"Total",pendingPayments:"Pending Payments",search:"Search",searchPlaceholder:"Search...",filterAll:"All",filterType:"Type",filterStatus:"Status",upcoming:"Upcoming",past:"Past",noUpcoming:"No upcoming reminders",noPast:"No past reminders",addFirst:"Create first reminder",markDone:"Mark as completed",markAsDone:"Mark as completed",markOpen:"Reopen",reopen:"Reopen",markedAsDone:"Marked as completed",reopened:"Reopened",confirmDelete:"Delete reminder?",confirmDeleteDescription:"Are you sure you want to delete this reminder? This action cannot be undone.",noRemindersFound:"No reminders found",exportCSV:"Export as CSV",created:"Reminder created",updated:"Reminder updated",deleted:"Reminder deleted",statusUpdated:"Status updated",errors:{required:"Please fill in all required fields."}},documents:{title:"Documents",upload:"Upload Document",uploadProgress:"Upload Progress",noDocuments:"No documents found",view:"View",viewDocument:"View document {{fileName}}",deleteDocument:"Delete document {{fileName}}",assign:"Assign Document",assignDescription:"Select a person and folder for this document",selectPerson:"Select Person",folder:"Folder",allFolders:"All Folders",preview:"Document Preview",analysisResult:"Analysis Result",amount:"Amount",dueDate:"Due Date",description:"Description",unknown:"Unknown",saved:"Document saved",deleted:"Document deleted",folders:{invoices:"Invoices",appointments:"Appointments",contracts:"Contracts",other:"Other"},errors:{loadError:"Error loading documents",fileTooLarge:"File is too large. Maximum 10MB allowed.",analysisError:"Error analyzing",readError:"Error reading file",saveError:"Error saving",fillAllFields:"Please fill in all fields"}},people:{title:"People & Debts",addPerson:"Add Person",editPerson:"Edit Person",addPersonDescription:"Create a new person with name, email, phone number and optional notes",editPersonDescription:"Edit the information of the selected person",household:"Household",external:"External",noPeopleFound:"No people found",name:"Name",type:"Type",email:"Email",phone:"Phone",relationship:"Relationship",currency:"Currency",notes:"Notes",notesPlaceholder:"Notes...",child:"Child",claims:"Claims",liabilities:"Liabilities",invoices:"Invoices",invoicesDescription:"Manage invoices for this person",invoicesComingSoon:"Invoice management will be available in a future version.",personAdded:"Person added",personUpdated:"Person updated",personDeleted:"Person deleted",confirmDelete:"Delete person?",confirmDeleteDescription:"Are you sure you want to delete this person? This action cannot be undone.",types:{household:"Household",external:"External Person",child:"Child"},relationships:{both:"Both",creditor:"Creditor",debtor:"Debtor"},errors:{nameRequired:"Please enter a name",invalidEmail:"Invalid email address",invalidPhone:"Invalid phone number"}},taxes:{title:"Taxes",description:"Manage your tax profiles for different years",year:"Tax Year",canton:"Canton",selectCanton:"Select Canton",noCanton:"No canton selected",status:{unvollständig:"Incomplete",vollständig:"Complete",eingereicht:"Submitted",draft:"Draft",submitted:"Submitted",completed:"Completed"},addProfile:"New Tax Profile",newProfile:"New Tax Profile",editProfile:"Edit Tax Profile",noProfiles:"No tax profiles",createFirst:"Create your first tax profile to get started.",profileDescription:"Enter your tax data for the selected year",profileCreated:"Tax profile created successfully",profileUpdated:"Tax profile updated successfully",profileDeleted:"Tax profile deleted successfully",statusUpdated:"Status updated successfully",errorCreating:"Error creating profile",errorUpdating:"Error updating profile",errorDeleting:"Error deleting profile",confirmDelete:"Delete tax profile?",confirmDeleteDescription:"Are you sure you want to delete this tax profile? This action cannot be undone.",personalInfo:"Personal Info",maritalStatus:"Marital Status",selectMaritalStatus:"Select",single:"Single",married:"Married",divorced:"Divorced",widowed:"Widowed",registeredPartnership:"Registered Partnership",children:"Children",incomeSection:"Income",grossIncome:"Gross Income",otherIncome:"Other Income",other:"other",deductionsSection:"Deductions",deductions:"Deductions",totalDeductions:"Total Deductions (CHF)",taxableIncome:"Taxable Income",notes:"Notes",notesPlaceholder:"Additional information..."},settings:{title:"Settings",description:"Manage your account settings",profile:"Profile",profileDescription:"Manage your personal information",name:"Name",namePlaceholder:"Your name",email:"Email",emailHint:"Email cannot be changed",preferences:"Preferences",preferencesDescription:"Customize your app settings",language:"Language",languageChanged:"Language changed",german:"Deutsch",english:"English",currency:"Currency",canton:"Canton",selectCanton:"Select your canton",cantonHint:"Used for tax calculations",appearance:"Appearance",appearanceDescription:"Customize the look and feel of the app",darkMode:"Dark Mode",darkModeDescription:"Enable dark color scheme",theme:"Theme",light:"Light",dark:"Dark",lightThemeActivated:"Light theme activated",darkThemeActivated:"Dark theme activated",notifications:"Notifications",notificationsEnabled:"Notifications enabled",notificationsBlocked:"Notifications were blocked. Please enable in browser settings.",permissionRequired:"Permission required",notSupported:"Not supported",enabled:"Enabled",disabled:"Disabled",blocked:"Blocked",notEnabled:"Not enabled",enabling:"Enabling...",enableInBrowser:"Enable in browser settings",enableInBrowserDescription:"Please open browser settings and allow notifications for this website.",enableNotifications:"Enable notifications",notificationsDescription:"Manage your notification settings",notificationsHint:"Receive reminders for upcoming appointments and payments",biometric:"Biometric Authentication",biometricEnabled:"Biometric authentication enabled",biometricDisabled:"Biometric authentication disabled",biometricNotAvailable:"Biometric authentication is not available on this device",biometricActivationFailed:"Activation failed",enableBiometric:"Enable biometric authentication",disableBiometric:"Disable biometric authentication",registering:"Registering...",available:"Available",notAvailable:"Not available",noBiometricSensor:"No biometric sensor found on this device",weatherLocation:"Weather Location",locationLabel:'Location (e.g. "Zurich, CH" or "Berlin, DE")',locationFormat:'Format: City, Country Code (e.g. "Zurich, CH", "Berlin, DE", "New York, US")',locationSaved:"Location saved",glassEffect:"Glass Effect",glassEffectEnabled:"Glass effect enabled",glassEffectDisabled:"Glass effect disabled",enableGlassEffect:"Enable glass effect",disableGlassEffect:"Disable glass effect",desktopVersion:"Desktop Version",desktopVersionDescription:"To full view",privacy:"Privacy",help:"Help",comingSoon:"Coming in a future version",save:"Save",saved:"Settings saved",errorSaving:"Error saving settings",reset:"Reset",errors:{enableNotificationsError:"Error enabling notifications",pleaseLogin:"Please log in first",enableBiometricError:"Error enabling biometric authentication",enterLocation:"Please enter a location",saveLocationError:"Error saving location"}},aiChat:{title:"Assistant",openAssistant:"Open Assistant",history:"History",clearAll:"Clear All",clearAllConfirm:"Delete all chats?",clearAllDescription:"This action cannot be undone. All {{count}} chat{{plural}} will be permanently deleted.",clearAllDescriptionSingular:"This action cannot be undone. All {{count}} chat will be permanently deleted.",noChats:"No chat history",noChatsToDelete:"No chats to delete",newChat:"New Chat",chatHistory:"Chat History",noConversations:"No conversations yet",noChatsYet:"No chats yet",chatDeleted:"Chat deleted",errorDeletingChat:"Error deleting chat",cancel:"Cancel",confirmDelete:"Yes, delete all",deleting:"Deleting...",deleted:"{{count}} chat{{plural}} deleted",deletedSingular:"{{count}} chat deleted",deleteError:"Error deleting chats",dateToday:"Today",dateYesterday:"Yesterday",dateDaysAgo:"{{days}} days ago",conversationStarted:"New conversation started",navigateTo:"Navigate to {{label}}",messageTooLong:"Message is too long. Please shorten it to a maximum of 10,000 characters.",waitForResponse:"Please wait for the response...",fileTooLarge:"File is too large. Maximum {{maxSize}}MB allowed.",invalidFilename:"Invalid filename.",uploadingFile:"Uploading file...",uploadProgress:"Upload: {{percent}}%",invalidFileFormat:"Invalid file format",fileReadError:"Error reading file",uploadTimeout:"Upload timeout: The file is too large or the connection is too slow.",uploadConnectionTimeout:"Upload timeout: The connection is too slow.",noServerResponse:"No response from server",invalidServerResponse:"Invalid server response",fileUploadSuccess:"File uploaded successfully",uploadError:"Upload error: {{error}}",unknownError:"Unknown error",selectImage:"Please select an image (JPG, PNG, GIF, etc.)",imageTooLarge:"Image is too large. Maximum {{maxSize}}MB allowed.",uploadingImage:"Uploading image...",imageUploadProgress:"Image upload: {{percent}}%",invalidImageFormat:"Invalid image format",imageReadError:"Error reading image",imageUploadTimeout:"Upload timeout: The image is too large or the connection is too slow.",imageUploadSuccess:"Image uploaded successfully",processingRecording:"Processing recording...",stopRecordingError:"Error stopping recording",microphoneNotSupported:"Microphone access is not supported by this browser.",microphoneTimeout:"Microphone access timeout",audioTooLarge:"Audio recording is too large. Please shorten the recording.",transcribingAudio:"Transcribing audio...",transcriptionProgress:"Transcription: {{percent}}%",invalidAudioFormat:"Invalid audio format",audioReadError:"Error reading audio file",audioProcessingTimeout:"Audio processing timeout",transcriptionTimeout:"Transcription timeout: The connection is too slow.",voiceInputSuccess:"Voice input successful",noTranscription:"No transcription received",transcriptionError:"Transcription error: {{error}}",recordingError:"Recording error",maxRecordingTime:"Maximum recording time reached (5 minutes)",recordingStarted:"Recording started... (Click again to stop)",microphonePermissionDenied:"Microphone access was denied. Please allow access in browser settings.",microphoneNotFound:"No microphone found. Please connect a microphone.",microphoneError:"Microphone error: {{error}}",languageChanged:"Language changed to {{lang}}",attachFile:"Attach file",addImage:"Add image",changeLanguage:"Change language",voiceInput:"Voice input",sending:"Sending...",sendMessage:"Send message",emptyStateMessage:"Choose a question or start your own conversation",previewFile:"File Preview",previewImage:"Image Preview",previewAudio:"Audio Preview",playAudio:"Play audio",pauseAudio:"Pause audio",sendFile:"Send file",sendImage:"Send image",sendTranscription:"Send transcription",cancelPreview:"Cancel",removePreview:"Remove preview",newConversation:"New Conversation",suggestedPrompts:{howInvoiceManagement:"How does invoice management work?",howCreateReminder:"How do I create a reminder?",howManageFinances:"How do I manage my finances?",whatCanShoppingList:"What can I do with the shopping list?",howInstallmentSystem:"How does the installment system work?",howScanBill:"How do I scan a bill?"}},calendar:{title:"Calendar",today:"Today",todayEvents:"Today - Appointments & Events",appointmentsAndEvents:"Appointments & Events",noEventsToday:"No events on this day",quickActions:"Quick Actions",createAppointment:"Create Appointment",financeEntry:"Finance Entry",createFinanceEntry:"Create Finance Entry",createFinanceEntryDescription:"Create a new finance entry with description, amount, type and date",weather:"Weather",loadingWeather:"Loading weather data...",humidity:"Humidity",noLocationConfigured:"No location configured",pleaseEnterLocationInSettings:"Please enter a location in settings",noWeatherDataAvailable:"No weather data available",dayDialogDescription:"Details for the selected day with weather, appointments and quick actions",amount:"Amount",person:"Person",status:"Status",paid:"Paid",pending:"Pending",overdue:"Overdue",timeOptional:"Time (optional)",notesOptional:"Notes (optional)",moreDetails:"More details...",descriptionPlaceholder:"e.g. Shopping, Salary",appointmentCreated:"Appointment created",financeEntryCreated:"Finance entry created",months:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},days:{monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",sunday:"Su"},errors:{pleaseLogin:"Please log in",networkError:"Network error - Please try again",titleRequired:"Please enter a title",invalidDate:"Please enter a valid date (DD.MM.YYYY)",cannotCreateInPast:"Appointments cannot be created in the past",createAppointmentError:"Error creating appointment",descriptionRequired:"Please enter a description",invalidAmount:"Please enter a valid amount",createFinanceEntryError:"Error creating finance entry",weatherError:"Error",loadingError:"Error loading",pleaseEnterLocation:"Please enter location in settings"}},onboarding:{title:"Welcome to Nexo",stepIndicator:"Step {{step}} of {{total}}: {{description}}",steps:{personalData:"Set up your account",taxInfo:"Tax Information",children:"Children",household:"Household Members",preferences:"Preferences"},fields:{name:"Your Name",namePlaceholder:"John Doe",currency:"Currency",phone:"Phone Number (optional)",phonePlaceholder:"+1 234 567 8900",birthDate:"Date of Birth (optional)",country:"Country",countryPlaceholder:"Select country",address:"Address",street:"Street",houseNumber:"House Number",postalCode:"ZIP Code",city:"City",state:"State",county:"County (optional)",apartment:"Apartment/Unit (optional)",addressFields:{CH:{street:"Street",houseNumber:"House Number",postalCode:"Postal Code",city:"City"},DE:{street:"Street",houseNumber:"House Number",postalCode:"Postal Code",city:"City"},AT:{street:"Street",houseNumber:"House Number",postalCode:"Postal Code",city:"City"},FR:{street:"Street",houseNumber:"House Number",postalCode:"Postal Code",city:"City"},GB:{street:"Street Address",houseNumber:"House Number",postalCode:"Postcode",city:"City/Town",county:"County (optional)"},IT:{street:"Street",houseNumber:"House Number",postalCode:"Postal Code",city:"City"},ES:{street:"Street",houseNumber:"House Number",postalCode:"Postal Code",city:"City"},NL:{street:"Street",houseNumber:"House Number",postalCode:"Postcode",city:"City"},BE:{street:"Street",houseNumber:"House Number",postalCode:"Postal Code",city:"City"},US:{street:"Street Address",houseNumber:"House Number (optional)",postalCode:"ZIP Code",city:"City",state:"State",apartment:"Apartment/Unit (optional)"}},region:"Region",regionPlaceholder:"Select {{regionLabel}}",selectRegion:"Select {{regionLabel}}",regionHint:"Used for tax calculations",taxClass:"Tax Class",taxClassPlaceholder:"Select tax class",taxClassSingle:"Single",taxClassMarried:"Married",taxClassMarriedSeparated:"Married Separated",taxClassWidowed:"Widowed",numberOfTaxpayers:"Number of Taxpayers",taxYear:"Tax Year",numberOfChildren:"Number of Children",childFirstName:"First Name",childLastName:"Last Name",childBirthDate:"Date of Birth",childSchool:"School",schoolNamePlaceholder:"School Name",childSchoolGrade:"School Grade",schoolGradePlaceholder:"Select school grade",childGender:"Gender",genderMale:"Male",genderFemale:"Female",genderDiverse:"Diverse",genderOther:"Not specified",numberOfHouseholdMembers:"Number of Household Members",householdMemberName:"Household Member",householdMemberFirstName:"First Name",householdMemberLastName:"Last Name",householdMemberBirthDate:"Date of Birth",householdMemberRelationship:"Relationship",householdMemberRelationshipPlaceholder:"Select relationship",householdMemberEmail:"Email (optional)",householdMemberPhone:"Phone Number (optional)",householdMemberNotes:"Notes",relationshipPartner:"Partner",relationshipSpouse:"Spouse",relationshipParent:"Parent",relationshipSibling:"Sibling",relationshipRoommate:"Roommate",relationshipOther:"Other",language:"Language",theme:"Theme",themeSystem:"System",themeLight:"Light",themeDark:"Dark",notifications:"Enable Notifications",tutorial:"Show Getting Started Tutorial"},buttons:{skip:"Skip",next:"Next",back:"Back",complete:"Complete"},validation:{nameRequired:"Please enter your name",addressRequired:"Please enter your complete address",streetRequired:"Please enter {{label}}",houseNumberRequired:"Please enter {{label}}",postalCodeRequired:"Please enter {{label}}",cityRequired:"Please enter {{label}}",stateRequired:"Please select {{label}}",postalCodeInvalid:"Invalid format for {{label}}",countryInvalid:"Invalid country",childFirstNameRequired:"Please enter first and last name for all children",childLastNameRequired:"Please enter first and last name for all children",householdMemberNameRequired:"Please enter first and last name for all household members"},success:{completed:"Onboarding completed successfully"},error:{saving:"Error saving: {{message}}"},noRegions:"No regions available for {{country}}."},common:{add:"Add",edit:"Edit",delete:"Delete",cancel:"Cancel",save:"Save",saving:"Saving...",german:"German",english:"English",create:"Create",update:"Update",close:"Close",search:"Search",filter:"Filter",sort:"Sort",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",yes:"Yes",no:"No",help:"Help",copy:"Copy",copyUrl:"Copy URL",refresh:"Refresh",unnamed:"Unnamed",backupCreated:"Backup created successfully",backupError:"Error creating backup",exporting:"Exporting...",duplicate:"Duplicate",view:"View",download:"Download",copied:"{{label}} copied!"},userMenu:{editProfile:"Edit Profile",assistant:"Assistant",startTutorial:"Getting Started Tutorial",faq:"FAQ",exportData:"Export Data",keyboardShortcuts:"Keyboard Shortcuts",about:"About Nexo"},faq:{title:"Frequently Asked Questions",subtitle:"Find quick answers to frequently asked questions",searchPlaceholder:"Search questions...",noResults:"No results found",items:{whatIsNexo:{question:"What is Nexo?",answer:"Nexo is a comprehensive financial management app that helps you manage your finances, bills, taxes, and more."},howToAddEntry:{question:"How do I add an entry?",answer:'Go to the Finance page and click "Add Entry". Fill in the required fields and save.'},howToScanBill:{question:"How do I scan a bill?",answer:'Go to the Bills page and click "Scan Bill". Use your camera to photograph the bill.'},howToBackup:{question:"How do I create a backup?",answer:"Go to Settings > Backup or use the User Menu > Export Data."},howToChangeLanguage:{question:"How do I change the language?",answer:"Click on the language icon in the topbar and select your desired language."},howToUseAI:{question:"How do I use the AI assistant?",answer:'Click on "Assistant" in the User Menu or use the chat icon. Ask questions about your finances or request help.'},howToAddPerson:{question:"How do I add a person?",answer:'Go to the People page and click "Add Person". Choose between household member or external person.'},howToCreateTaxProfile:{question:"How do I create a tax profile?",answer:'Go to the Taxes page and click "Create Tax Profile". Fill in the required information.'}}}}},es:{translation:{onboarding:{title:"Bienvenido a Nexo",stepIndicator:"Paso {{step}} de {{total}}: {{description}}",steps:{personalData:"Configura tu cuenta",taxInfo:"Información fiscal",children:"Niños",household:"Miembros del hogar",preferences:"Preferencias"},fields:{name:"Tu nombre",namePlaceholder:"Juan Pérez",currency:"Moneda",phone:"Número de teléfono (opcional)",phonePlaceholder:"+34 612 345 678",birthDate:"Fecha de nacimiento (opcional)",country:"País",countryPlaceholder:"Seleccionar país",address:"Dirección",street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad",state:"Estado",county:"Condado (opcional)",apartment:"Apartamento/Unidad (opcional)",addressFields:{CH:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},DE:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},AT:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},FR:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},GB:{street:"Dirección",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad/Pueblo",county:"Condado (opcional)"},IT:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},ES:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},NL:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},BE:{street:"Calle",houseNumber:"Número",postalCode:"Código postal",city:"Ciudad"},US:{street:"Dirección",houseNumber:"Número (opcional)",postalCode:"Código postal",city:"Ciudad",state:"Estado",apartment:"Apartamento/Unidad (opcional)"}},region:"Región",regionPlaceholder:"Seleccionar {{regionLabel}}",selectRegion:"Seleccionar {{regionLabel}}",regionHint:"Se utiliza para cálculos fiscales",taxClass:"Clase fiscal",taxClassPlaceholder:"Seleccionar clase fiscal",language:"Idioma",theme:"Tema",themeSystem:"Sistema",themeLight:"Claro",themeDark:"Oscuro",notifications:"Activar notificaciones",tutorial:"Mostrar tutorial de inicio"},buttons:{skip:"Omitir",next:"Siguiente",back:"Atrás",complete:"Completar"},validation:{nameRequired:"Por favor ingresa tu nombre",addressRequired:"Por favor ingresa tu dirección completa",streetRequired:"Por favor ingresa {{label}}",houseNumberRequired:"Por favor ingresa {{label}}",postalCodeRequired:"Por favor ingresa {{label}}",cityRequired:"Por favor ingresa {{label}}",stateRequired:"Por favor selecciona {{label}}",postalCodeInvalid:"Formato inválido para {{label}}",countryInvalid:"País inválido",childFirstNameRequired:"Por favor ingresa el nombre y apellido de todos los hijos",childLastNameRequired:"Por favor ingresa el nombre y apellido de todos los hijos",householdMemberNameRequired:"Por favor ingresa un nombre para todos los miembros del hogar"},success:{completed:"Configuración completada exitosamente"},error:{saving:"Error al guardar: {{message}}"},noRegions:"No hay regiones disponibles para {{country}}."},nav:{dashboard:"Panel",calendar:"Calendario",reminders:"Recordatorios",finance:"Finanzas",people:"Personas",bills:"Facturas",documents:"Documentos",shopping:"Lista de compras",taxes:"Impuestos",assistant:"Asistente",settings:"Configuración",logout:"Cerrar sesión"},dashboard:{title:"Panel",upcomingEvents:"Próximos eventos y pagos",upcomingReminders:"Próximos eventos y pagos",appointments:"Citas y tareas",pendingBills:"Facturas pendientes",noAppointments:"No hay citas próximas",noBills:"No hay facturas pendientes",viewAll:"Ver todo",financeOverview:"Resumen financiero (mes actual)",taxStatus:"Estado fiscal",quickActions:"Acciones rápidas",noEvents:"No hay eventos próximos",noReminders:"No hay recordatorios próximos",addReminder:"Añadir recordatorio",addExpense:"Añadir gasto",addEntry:"Añadir entrada",viewFinances:"Ver finanzas",viewTaxProfile:"Ver perfil fiscal",overdueCount:"{{count}} vencido",daysOverdue:"{{days}} días vencido",dueToday:"Vence hoy",dueInDays:"Vence en {{days}} días",noDate:"Sin fecha",billNoDueDate:'"{{title}}" no tiene fecha de vencimiento',billAriaLabel:"Factura: {{description}}"},bills:{title:"Facturas",description:"Gestiona tus facturas y recordatorios de pago",add:"Añadir factura",edit:"Editar factura",scan:"Escanear",scanInvoice:"Escanear factura",total:"Total",open:"Abierto",overdue:"Vencido",paid:"Pagado",pending:"Pendiente",paidTab:"Pagado",noPending:"No hay facturas pendientes",noPaid:"Aún no hay facturas pagadas",addFirst:"Añadir primera factura",pendingPayments:"Pagos pendientes",search:"Buscar...",filterStatus:"Estado",titleField:"Título / Descripción",titlePlaceholder:"Ej. Factura de luz marzo",amount:"Importe",currency:"Moneda",dueDate:"Fecha de vencimiento",paymentDetails:"Detalles de pago",creditor:"Beneficiario",reference:"Referencia / Mensaje",recurrence:"Recurrencia",noRecurrence:"Sin recurrencia",quarterly:"Trimestral",notes:"Notas",notesPlaceholder:"Notas opcionales...",dialogDescription:"Introduce los detalles de la factura",markAsPaid:"Marcar como pagado",markedAsPaid:"Marcado como pagado y gasto creado",created:"Factura creada",updated:"Factura actualizada",deleted:"Factura eliminada",confirmDelete:"¿Realmente deseas eliminar esta factura?",dataImported:"Datos de factura importados",status:{paid:"Pagado",overdue:"Vencido",dueSoon:"Próximo a vencer",pending:"Abierto"},errors:{required:"Por favor completa todos los campos obligatorios."},person:"Persona"},shopping:{title:"Lista de compras",description:"Gestiona tus listas de compras",addItem:"Añadir artículo",addList:"Nueva lista",deleteList:"Eliminar lista",listName:"Nombre de la lista",listNamePlaceholder:"Ej. Supermercado",noItems:"No hay artículos",noLists:"No hay listas",addFirst:"Añadir primer artículo",itemName:"Nombre del artículo",itemNamePlaceholder:"Ej. Leche",quantity:"Cantidad",quantityPlaceholder:"1",unit:"Unidad",notes:"Notas",notesPlaceholder:"Notas opcionales...",bought:"Comprado",notBought:"No comprado",markAsBought:"Marcar como comprado",markAsNotBought:"Marcar como no comprado",deleteItem:"Eliminar artículo",confirmDelete:"¿Eliminar este artículo?",created:"Artículo añadido",updated:"Artículo actualizado",deleted:"Artículo eliminado",search:"Buscar...",filter:"Filtrar",all:"Todos",boughtOnly:"Solo comprados",notBoughtOnly:"Solo no comprados"},reminders:{title:"Recordatorios",description:"Gestiona tus recordatorios y tareas",add:"Añadir recordatorio",edit:"Editar recordatorio",delete:"Eliminar recordatorio",noReminders:"No hay recordatorios",addFirst:"Añadir primer recordatorio",titleField:"Título",titlePlaceholder:"Ej. Llamar al médico",descriptionField:"Descripción",descriptionPlaceholder:"Detalles adicionales...",dueDate:"Fecha de vencimiento",priority:"Prioridad",priorityLow:"Baja",priorityMedium:"Media",priorityHigh:"Alta",completed:"Completado",notCompleted:"No completado",markAsCompleted:"Marcar como completado",markAsNotCompleted:"Marcar como no completado",created:"Recordatorio creado",updated:"Recordatorio actualizado",deleted:"Recordatorio eliminado",confirmDelete:"¿Eliminar este recordatorio?",search:"Buscar...",filter:"Filtrar",all:"Todos",completedOnly:"Solo completados",notCompletedOnly:"Solo no completados"},calendar:{title:"Calendario",description:"Gestiona tus eventos y citas",add:"Añadir evento",edit:"Editar evento",delete:"Eliminar evento",noEvents:"No hay eventos",addFirst:"Añadir primer evento",titleField:"Título",titlePlaceholder:"Ej. Reunión",descriptionField:"Descripción",descriptionPlaceholder:"Detalles adicionales...",startDate:"Fecha de inicio",endDate:"Fecha de fin",allDay:"Todo el día",type:"Tipo",typeAppointment:"Cita",typeReminder:"Recordatorio",location:"Ubicación",locationPlaceholder:"Ej. Oficina",created:"Evento creado",updated:"Evento actualizado",deleted:"Evento eliminado",confirmDelete:"¿Eliminar este evento?",search:"Buscar...",filter:"Filtrar",all:"Todos",appointmentsOnly:"Solo citas",remindersOnly:"Solo recordatorios"},finance:{title:"Finanzas",description:"Gestiona tus ingresos y gastos",add:"Añadir entrada",edit:"Editar entrada",delete:"Eliminar entrada",noEntries:"No hay entradas",addFirst:"Añadir primera entrada",titleField:"Título",titlePlaceholder:"Ej. Salario",amount:"Importe",currency:"Moneda",date:"Fecha",category:"Categoría",categoryIncome:"Ingreso",categoryExpense:"Gasto",notes:"Notas",notesPlaceholder:"Notas opcionales...",created:"Entrada creada",updated:"Entrada actualizada",deleted:"Entrada eliminada",confirmDelete:"¿Eliminar esta entrada?",search:"Buscar...",filter:"Filtrar",all:"Todos",incomeOnly:"Solo ingresos",expenseOnly:"Solo gastos",totalIncome:"Ingresos totales",totalExpense:"Gastos totales",balance:"Balance"},taxes:{title:"Impuestos",description:"Gestiona tus perfiles fiscales",add:"Añadir perfil fiscal",edit:"Editar perfil fiscal",delete:"Eliminar perfil fiscal",noProfiles:"No hay perfiles fiscales",addFirst:"Añadir primer perfil fiscal",year:"Año",region:"Región",taxClass:"Clase fiscal",grossIncome:"Ingresos brutos",deductions:"Deducciones",taxableIncome:"Ingresos imponibles",notes:"Notas",notesPlaceholder:"Notas opcionales...",created:"Perfil fiscal creado",updated:"Perfil fiscal actualizado",deleted:"Perfil fiscal eliminado",confirmDelete:"¿Eliminar este perfil fiscal?"},people:{title:"Personas",description:"Gestiona las personas en tu hogar",add:"Añadir persona",edit:"Editar persona",delete:"Eliminar persona",noPeople:"No hay personas",addFirst:"Añadir primera persona",name:"Nombre",namePlaceholder:"Ej. Juan Pérez",email:"Email",emailPlaceholder:"ejemplo@email.com",phone:"Teléfono",phonePlaceholder:"+34 612 345 678",currency:"Moneda",notes:"Notas",notesPlaceholder:"Notas opcionales...",created:"Persona añadida",updated:"Persona actualizada",deleted:"Persona eliminada",confirmDelete:"¿Eliminar esta persona?"},documents:{title:"Documentos",description:"Gestiona tus documentos",add:"Añadir documento",edit:"Editar documento",delete:"Eliminar documento",noDocuments:"No hay documentos",addFirst:"Añadir primer documento",titleField:"Título",titlePlaceholder:"Ej. Contrato",descriptionField:"Descripción",descriptionPlaceholder:"Detalles adicionales...",file:"Archivo",upload:"Subir archivo",created:"Documento añadido",updated:"Documento actualizado",deleted:"Documento eliminado",confirmDelete:"¿Eliminar este documento?",scan:"Escanear",scanReceipt:"Escanear recibo"},settings:{title:"Configuración",description:"Gestiona la configuración de tu cuenta",profile:"Perfil",profileDescription:"Gestiona tu información personal",name:"Nombre",namePlaceholder:"Tu nombre",email:"Email",emailHint:"El email no se puede cambiar",preferences:"Preferencias",preferencesDescription:"Personaliza la configuración de la app",language:"Idioma",german:"Alemán",english:"Inglés",spanish:"Español",dutch:"Holandés",italian:"Italiano",french:"Francés",currency:"Moneda",swissFranc:"Franco suizo",euro:"Euro",usDollar:"Dólar estadounidense",appearance:"Apariencia",appearanceDescription:"Personaliza el aspecto de la app",darkMode:"Modo oscuro",darkModeDescription:"Activar esquema de colores oscuro",theme:"Tema",notifications:"Notificaciones",notificationsDescription:"Gestiona la configuración de notificaciones",enableNotifications:"Activar notificaciones",notificationsHint:"Recibe recordatorios para citas y pagos próximos"},aiChat:{title:"Asistente",clearAll:"Limpiar todo",clearAllConfirm:"¿Eliminar todos los chats?",clearAllDescription:"Esta acción no se puede deshacer. Todos los {{count}} chat{{plural}} se eliminarán permanentemente.",clearAllDescriptionSingular:"Esta acción no se puede deshacer. Todos los {{count}} chat se eliminarán permanentemente.",emptyStateMessage:"Elige una pregunta o haz la tuya",noChats:"No hay historial de chat",noChatsToDelete:"No hay chats para eliminar",newChat:"Nuevo chat",newConversation:"Nueva conversación",chatHistory:"Historial de chat",history:"Historial",noConversations:"Aún no hay conversaciones",cancel:"Cancelar",confirmDelete:"Sí, eliminar todo",deleting:"Eliminando...",deleted:"{{count}} chat{{plural}} eliminados",deletedSingular:"{{count}} chat eliminado",deleteError:"Error al eliminar chats",dateToday:"Hoy",dateYesterday:"Ayer",dateDaysAgo:"Hace {{days}} días",conversationStarted:"Nueva conversación iniciada"},common:{loading:"Cargando...",error:"Error",success:"Éxito",save:"Guardar",cancel:"Cancelar",add:"Añadir",edit:"Editar",delete:"Eliminar",search:"Buscar",filter:"Filtrar",sort:"Ordenar",create:"Crear",update:"Actualizar",close:"Cerrar",confirm:"Confirmar",yes:"Sí",no:"No",all:"Todos",details:"Detalles",logout:"Cerrar sesión",help:"Ayuda",copy:"Copiar",copyUrl:"Copiar URL",refresh:"Actualizar",unnamed:"Sin nombre",backupCreated:"Respaldo creado exitosamente",backupError:"Error al crear el respaldo",exporting:"Exportando...",duplicate:"Duplicar",view:"Ver",download:"Descargar",copied:"¡{{label}} copiado!"},userMenu:{editProfile:"Editar perfil",assistant:"Asistente",startTutorial:"Tutorial de primeros pasos",faq:"Preguntas frecuentes",exportData:"Exportar datos",keyboardShortcuts:"Atajos de teclado",about:"Acerca de Nexo"},faq:{title:"Preguntas frecuentes",subtitle:"Encuentra respuestas rápidas a preguntas frecuentes",searchPlaceholder:"Buscar preguntas...",noResults:"No se encontraron resultados",items:{whatIsNexo:{question:"¿Qué es Nexo?",answer:"Nexo es una aplicación integral de gestión financiera que te ayuda a gestionar tus finanzas, facturas, impuestos y más."},howToAddEntry:{question:"¿Cómo añado una entrada?",answer:'Ve a la página de Finanzas y haz clic en "Añadir entrada". Completa los campos requeridos y guarda.'},howToScanBill:{question:"¿Cómo escaneo una factura?",answer:'Ve a la página de Facturas y haz clic en "Escanear factura". Usa tu cámara para fotografiar la factura.'},howToBackup:{question:"¿Cómo creo una copia de seguridad?",answer:"Ve a Configuración > Copia de seguridad o usa el Menú de usuario > Exportar datos."},howToChangeLanguage:{question:"¿Cómo cambio el idioma?",answer:"Haz clic en el icono de idioma en la barra superior y selecciona tu idioma deseado."},howToUseAI:{question:"¿Cómo uso el asistente de IA?",answer:'Haz clic en "Asistente" en el Menú de usuario o usa el icono de chat. Haz preguntas sobre tus finanzas o solicita ayuda.'},howToAddPerson:{question:"¿Cómo añado una persona?",answer:'Ve a la página de Personas y haz clic en "Añadir persona". Elige entre miembro del hogar o persona externa.'},howToCreateTaxProfile:{question:"¿Cómo creo un perfil fiscal?",answer:'Ve a la página de Impuestos y haz clic en "Crear perfil fiscal". Completa la información requerida.'}}}}},nl:{translation:{onboarding:{title:"Welkom bij Nexo",stepIndicator:"Stap {{step}} van {{total}}: {{description}}",steps:{personalData:"Stel je account in",taxInfo:"Belastinginformatie",children:"Kinderen",household:"Gezinsleden",preferences:"Voorkeuren"},fields:{name:"Je naam",namePlaceholder:"Jan Jansen",currency:"Valuta",phone:"Telefoonnummer (optioneel)",phonePlaceholder:"+31 6 12345678",birthDate:"Geboortedatum (optioneel)",country:"Land",countryPlaceholder:"Selecteer land",address:"Adres",street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats",state:"Provincie",county:"County (optioneel)",apartment:"Appartement/Unit (optioneel)",addressFields:{CH:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},DE:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},AT:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},FR:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},GB:{street:"Adres",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Stad/Plaats",county:"County (optioneel)"},IT:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},ES:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},NL:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},BE:{street:"Straat",houseNumber:"Huisnummer",postalCode:"Postcode",city:"Plaats"},US:{street:"Adres",houseNumber:"Huisnummer (optioneel)",postalCode:"Postcode",city:"Plaats",state:"Staat",apartment:"Appartement/Unit (optioneel)"}},region:"Regio",regionPlaceholder:"Selecteer {{regionLabel}}",selectRegion:"Selecteer {{regionLabel}}",regionHint:"Gebruikt voor belastingberekeningen",taxClass:"Belastingklasse",taxClassPlaceholder:"Selecteer belastingklasse",language:"Taal",theme:"Thema",themeSystem:"Systeem",themeLight:"Licht",themeDark:"Donker",notifications:"Meldingen inschakelen",tutorial:"Aan de slag-tutorial tonen"},buttons:{skip:"Overslaan",next:"Volgende",back:"Terug",complete:"Voltooien"},validation:{nameRequired:"Voer je naam in",addressRequired:"Voer je volledige adres in",streetRequired:"Voer {{label}} in",houseNumberRequired:"Voer {{label}} in",postalCodeRequired:"Voer {{label}} in",cityRequired:"Voer {{label}} in",stateRequired:"Selecteer {{label}}",postalCodeInvalid:"Ongeldig formaat voor {{label}}",countryInvalid:"Ongeldig land",childFirstNameRequired:"Voer voor alle kinderen voor- en achternaam in",childLastNameRequired:"Voer voor alle kinderen voor- en achternaam in",householdMemberNameRequired:"Voer een naam in voor alle huisgenoten"},success:{completed:"Setup succesvol voltooid"},error:{saving:"Fout bij opslaan: {{message}}"},noRegions:"Geen regio's beschikbaar voor {{country}}."},nav:{dashboard:"Dashboard",calendar:"Kalender",reminders:"Herinneringen",finance:"Financiën",people:"Personen",bills:"Rekeningen",documents:"Documenten",shopping:"Boodschappenlijst",taxes:"Belastingen",assistant:"Assistent",settings:"Instellingen",logout:"Uitloggen"},dashboard:{title:"Dashboard",upcomingEvents:"Aankomende afspraken en betalingen",upcomingReminders:"Aankomende afspraken en betalingen",appointments:"Afspraken en taken",pendingBills:"Openstaande rekeningen",noAppointments:"Geen aankomende afspraken",noBills:"Geen openstaande rekeningen",viewAll:"Alles bekijken",financeOverview:"Financieel overzicht (huidige maand)",taxStatus:"Belastingstatus",quickActions:"Snelle acties",noEvents:"Geen aankomende gebeurtenissen",noReminders:"Geen aankomende herinneringen",addReminder:"Herinnering toevoegen",addExpense:"Uitgave toevoegen",addEntry:"Invoer toevoegen",viewFinances:"Financiën bekijken",viewTaxProfile:"Belastingprofiel bekijken",overdueCount:"{{count}} achterstallig",daysOverdue:"{{days}} dagen achterstallig",dueToday:"Vervalt vandaag",dueInDays:"Vervalt over {{days}} dagen",noDate:"Geen datum",billNoDueDate:'"{{title}}" heeft geen vervaldatum',billAriaLabel:"Rekening: {{description}}"},bills:{title:"Rekeningen",description:"Beheer je rekeningen en betalingsherinneringen",add:"Rekening toevoegen",edit:"Rekening bewerken",scan:"Scannen",scanInvoice:"Rekening scannen",total:"Totaal",open:"Open",overdue:"Achterstallig",paid:"Betaald",pending:"In behandeling",paidTab:"Betaald",noPending:"Geen openstaande rekeningen",noPaid:"Nog geen betaalde rekeningen",addFirst:"Eerste rekening toevoegen",pendingPayments:"Openstaande betalingen",search:"Zoeken...",filterStatus:"Status",titleField:"Titel / Beschrijving",titlePlaceholder:"Bijv. Elektriciteitsrekening maart",amount:"Bedrag",currency:"Valuta",dueDate:"Vervaldatum",paymentDetails:"Betalingsgegevens",creditor:"Ontvanger",reference:"Referentie / Mededeling",recurrence:"Herhaling",noRecurrence:"Geen herhaling",quarterly:"Driemaandelijks",notes:"Notities",notesPlaceholder:"Optionele notities...",dialogDescription:"Voer de rekeninggegevens in",markAsPaid:"Markeren als betaald",markedAsPaid:"Gemarkeerd als betaald en uitgave aangemaakt",created:"Rekening aangemaakt",updated:"Rekening bijgewerkt",deleted:"Rekening verwijderd",confirmDelete:"Wil je deze rekening echt verwijderen?",dataImported:"Rekeninggegevens geïmporteerd",status:{paid:"Betaald",overdue:"Achterstallig",dueSoon:"Binnenkort vervalend",pending:"Open"},errors:{required:"Vul alle verplichte velden in."},person:"Persoon"},shopping:{title:"Boodschappenlijst",description:"Beheer je boodschappenlijsten",addItem:"Item toevoegen",addList:"Nieuwe lijst",deleteList:"Lijst verwijderen",listName:"Lijstnaam",listNamePlaceholder:"Bijv. Supermarkt",noItems:"Geen items",noLists:"Geen lijsten",addFirst:"Eerste item toevoegen",itemName:"Itemnaam",itemNamePlaceholder:"Bijv. Melk",quantity:"Hoeveelheid",quantityPlaceholder:"1",unit:"Eenheid",notes:"Notities",notesPlaceholder:"Optionele notities...",bought:"Gekocht",notBought:"Niet gekocht",markAsBought:"Markeren als gekocht",markAsNotBought:"Markeren als niet gekocht",deleteItem:"Item verwijderen",confirmDelete:"Dit item verwijderen?",created:"Item toegevoegd",updated:"Item bijgewerkt",deleted:"Item verwijderd",search:"Zoeken...",filter:"Filteren",all:"Alles",boughtOnly:"Alleen gekocht",notBoughtOnly:"Alleen niet gekocht"},reminders:{title:"Herinneringen",description:"Beheer je herinneringen en taken",add:"Herinnering toevoegen",edit:"Herinnering bewerken",delete:"Herinnering verwijderen",noReminders:"Geen herinneringen",addFirst:"Eerste herinnering toevoegen",titleField:"Titel",titlePlaceholder:"Bijv. Arts bellen",descriptionField:"Beschrijving",descriptionPlaceholder:"Extra details...",dueDate:"Vervaldatum",priority:"Prioriteit",priorityLow:"Laag",priorityMedium:"Gemiddeld",priorityHigh:"Hoog",completed:"Voltooid",notCompleted:"Niet voltooid",markAsCompleted:"Markeren als voltooid",markAsNotCompleted:"Markeren als niet voltooid",created:"Herinnering aangemaakt",updated:"Herinnering bijgewerkt",deleted:"Herinnering verwijderd",confirmDelete:"Deze herinnering verwijderen?",search:"Zoeken...",filter:"Filteren",all:"Alles",completedOnly:"Alleen voltooid",notCompletedOnly:"Alleen niet voltooid"},calendar:{title:"Kalender",description:"Beheer je evenementen en afspraken",add:"Evenement toevoegen",edit:"Evenement bewerken",delete:"Evenement verwijderen",noEvents:"Geen evenementen",addFirst:"Eerste evenement toevoegen",titleField:"Titel",titlePlaceholder:"Bijv. Vergadering",descriptionField:"Beschrijving",descriptionPlaceholder:"Extra details...",startDate:"Startdatum",endDate:"Einddatum",allDay:"Hele dag",type:"Type",typeAppointment:"Afspraak",typeReminder:"Herinnering",location:"Locatie",locationPlaceholder:"Bijv. Kantoor",created:"Evenement aangemaakt",updated:"Evenement bijgewerkt",deleted:"Evenement verwijderd",confirmDelete:"Dit evenement verwijderen?",search:"Zoeken...",filter:"Filteren",all:"Alles",appointmentsOnly:"Alleen afspraken",remindersOnly:"Alleen herinneringen"},finance:{title:"Financiën",description:"Beheer je inkomsten en uitgaven",add:"Invoer toevoegen",edit:"Invoer bewerken",delete:"Invoer verwijderen",noEntries:"Geen invoeren",addFirst:"Eerste invoer toevoegen",titleField:"Titel",titlePlaceholder:"Bijv. Salaris",amount:"Bedrag",currency:"Valuta",date:"Datum",category:"Categorie",categoryIncome:"Inkomen",categoryExpense:"Uitgave",notes:"Notities",notesPlaceholder:"Optionele notities...",created:"Invoer aangemaakt",updated:"Invoer bijgewerkt",deleted:"Invoer verwijderd",confirmDelete:"Deze invoer verwijderen?",search:"Zoeken...",filter:"Filteren",all:"Alles",incomeOnly:"Alleen inkomsten",expenseOnly:"Alleen uitgaven",totalIncome:"Totaal inkomen",totalExpense:"Totale uitgaven",balance:"Saldo"},taxes:{title:"Belastingen",description:"Beheer je belastingprofielen",add:"Belastingprofiel toevoegen",edit:"Belastingprofiel bewerken",delete:"Belastingprofiel verwijderen",noProfiles:"Geen belastingprofielen",addFirst:"Eerste belastingprofiel toevoegen",year:"Jaar",region:"Regio",taxClass:"Belastingklasse",grossIncome:"Bruto-inkomen",deductions:"Aftrekposten",taxableIncome:"Belastbaar inkomen",notes:"Notities",notesPlaceholder:"Optionele notities...",created:"Belastingprofiel aangemaakt",updated:"Belastingprofiel bijgewerkt",deleted:"Belastingprofiel verwijderd",confirmDelete:"Dit belastingprofiel verwijderen?"},people:{title:"Personen",description:"Beheer de personen in je huishouden",add:"Persoon toevoegen",edit:"Persoon bewerken",delete:"Persoon verwijderen",noPeople:"Geen personen",addFirst:"Eerste persoon toevoegen",name:"Naam",namePlaceholder:"Bijv. Jan Jansen",email:"Email",emailPlaceholder:"voorbeeld@email.com",phone:"Telefoon",phonePlaceholder:"+31 6 12345678",currency:"Valuta",notes:"Notities",notesPlaceholder:"Optionele notities...",created:"Persoon toegevoegd",updated:"Persoon bijgewerkt",deleted:"Persoon verwijderd",confirmDelete:"Deze persoon verwijderen?"},documents:{title:"Documenten",description:"Beheer je documenten",add:"Document toevoegen",edit:"Document bewerken",delete:"Document verwijderen",noDocuments:"Geen documenten",addFirst:"Eerste document toevoegen",titleField:"Titel",titlePlaceholder:"Bijv. Contract",descriptionField:"Beschrijving",descriptionPlaceholder:"Extra details...",file:"Bestand",upload:"Bestand uploaden",created:"Document toegevoegd",updated:"Document bijgewerkt",deleted:"Document verwijderd",confirmDelete:"Dit document verwijderen?",scan:"Scannen",scanReceipt:"Bon scannen"},settings:{title:"Instellingen",description:"Beheer je accountinstellingen",profile:"Profiel",profileDescription:"Beheer je persoonlijke informatie",name:"Naam",namePlaceholder:"Je naam",email:"Email",emailHint:"Email kan niet worden gewijzigd",preferences:"Voorkeuren",preferencesDescription:"Pas je app-instellingen aan",language:"Taal",german:"Duits",english:"Engels",spanish:"Spaans",dutch:"Nederlands",italian:"Italiaans",french:"Frans",currency:"Valuta",swissFranc:"Zwitserse frank",euro:"Euro",usDollar:"Amerikaanse dollar",appearance:"Weergave",appearanceDescription:"Pas het uiterlijk van de app aan",darkMode:"Donkere modus",darkModeDescription:"Donker kleurenschema inschakelen",theme:"Thema",notifications:"Meldingen",notificationsDescription:"Beheer je meldingsinstellingen",enableNotifications:"Meldingen inschakelen",notificationsHint:"Ontvang herinneringen voor aankomende afspraken en betalingen"},aiChat:{title:"Assistent",clearAll:"Alles wissen",clearAllConfirm:"Alle chats verwijderen?",clearAllDescription:"Deze actie kan niet ongedaan worden gemaakt. Alle {{count}} chat{{plural}} worden permanent verwijderd.",clearAllDescriptionSingular:"Deze actie kan niet ongedaan worden gemaakt. Alle {{count}} chat wordt permanent verwijderd.",emptyStateMessage:"Kies een vraag of stel je eigen vraag",noChats:"Geen chatgeschiedenis",noChatsToDelete:"Geen chats om te verwijderen",newChat:"Nieuwe chat",newConversation:"Nieuwe conversatie",chatHistory:"Chatgeschiedenis",history:"Geschiedenis",noConversations:"Nog geen conversaties",cancel:"Annuleren",confirmDelete:"Ja, alles verwijderen",deleting:"Verwijderen...",deleted:"{{count}} chat{{plural}} verwijderd",deletedSingular:"{{count}} chat verwijderd",deleteError:"Fout bij verwijderen van chats",dateToday:"Vandaag",dateYesterday:"Gisteren",dateDaysAgo:"{{days}} dagen geleden",conversationStarted:"Nieuwe conversatie gestart"},common:{loading:"Laden...",error:"Fout",success:"Succes",save:"Opslaan",cancel:"Annuleren",add:"Toevoegen",edit:"Bewerken",delete:"Verwijderen",search:"Zoeken",filter:"Filteren",sort:"Sorteren",create:"Aanmaken",update:"Bijwerken",close:"Sluiten",confirm:"Bevestigen",yes:"Ja",no:"Nee",all:"Alles",details:"Details",logout:"Uitloggen",help:"Help",unnamed:"Naamloos",backupCreated:"Back-up succesvol aangemaakt",backupError:"Fout bij het aanmaken van back-up",exporting:"Exporteren...",duplicate:"Dupliceren",view:"Bekijken",download:"Downloaden",copied:"{{label}} gekopieerd!"},userMenu:{editProfile:"Profiel bewerken",assistant:"Assistent",startTutorial:"Aan de slag tutorial",faq:"Veelgestelde vragen",exportData:"Gegevens exporteren",keyboardShortcuts:"Sneltoetsen",about:"Over Nexo"},faq:{title:"Veelgestelde vragen",subtitle:"Vind snelle antwoorden op veelgestelde vragen",searchPlaceholder:"Zoek vragen...",noResults:"Geen resultaten gevonden",items:{whatIsNexo:{question:"Wat is Nexo?",answer:"Nexo is een uitgebreide financiële beheerapp die u helpt uw financiën, rekeningen, belastingen en meer te beheren."},howToAddEntry:{question:"Hoe voeg ik een item toe?",answer:'Ga naar de Financiën-pagina en klik op "Item toevoegen". Vul de vereiste velden in en sla op.'},howToScanBill:{question:"Hoe scan ik een rekening?",answer:'Ga naar de Rekeningen-pagina en klik op "Rekening scannen". Gebruik uw camera om de rekening te fotograferen.'},howToBackup:{question:"Hoe maak ik een back-up?",answer:"Ga naar Instellingen > Back-up of gebruik het Gebruikersmenu > Gegevens exporteren."},howToChangeLanguage:{question:"Hoe verander ik de taal?",answer:"Klik op het taalpictogram in de bovenbalk en selecteer uw gewenste taal."},howToUseAI:{question:"Hoe gebruik ik de AI-assistent?",answer:'Klik op "Assistent" in het Gebruikersmenu of gebruik het chatpictogram. Stel vragen over uw financiën of vraag om hulp.'},howToAddPerson:{question:"Hoe voeg ik een persoon toe?",answer:'Ga naar de Personen-pagina en klik op "Persoon toevoegen". Kies tussen huishoudlid of externe persoon.'},howToCreateTaxProfile:{question:"Hoe maak ik een belastingprofiel?",answer:'Ga naar de Belastingen-pagina en klik op "Belastingprofiel maken". Vul de vereiste informatie in.'}}}}},it:{translation:{onboarding:{title:"Benvenuto in Nexo",stepIndicator:"Passo {{step}} di {{total}}: {{description}}",steps:{personalData:"Configura il tuo account",taxInfo:"Informazioni fiscali",children:"Bambini",household:"Membri della famiglia",preferences:"Preferenze"},fields:{name:"Il tuo nome",namePlaceholder:"Mario Rossi",currency:"Valuta",phone:"Numero di telefono (opzionale)",phonePlaceholder:"+39 345 123 4567",birthDate:"Data di nascita (opzionale)",country:"Paese",countryPlaceholder:"Seleziona paese",address:"Indirizzo",street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città",state:"Stato",county:"Contea (opzionale)",apartment:"Appartamento/Unità (opzionale)",addressFields:{CH:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},DE:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},AT:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},FR:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},GB:{street:"Indirizzo",houseNumber:"Numero civico",postalCode:"CAP",city:"Città/Paese",county:"Contea (opzionale)"},IT:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},ES:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},NL:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},BE:{street:"Via",houseNumber:"Numero civico",postalCode:"CAP",city:"Città"},US:{street:"Indirizzo",houseNumber:"Numero civico (opzionale)",postalCode:"CAP",city:"Città",state:"Stato",apartment:"Appartamento/Unità (opzionale)"}},region:"Regione",regionPlaceholder:"Seleziona {{regionLabel}}",selectRegion:"Seleziona {{regionLabel}}",regionHint:"Utilizzato per i calcoli fiscali",taxClass:"Classe fiscale",taxClassPlaceholder:"Seleziona classe fiscale",language:"Lingua",theme:"Tema",themeSystem:"Sistema",themeLight:"Chiaro",themeDark:"Scuro",notifications:"Abilita notifiche",tutorial:"Mostra tutorial introduttivo"},buttons:{skip:"Salta",next:"Avanti",back:"Indietro",complete:"Completa"},validation:{nameRequired:"Inserisci il tuo nome",addressRequired:"Inserisci il tuo indirizzo completo",streetRequired:"Inserisci {{label}}",houseNumberRequired:"Inserisci {{label}}",postalCodeRequired:"Inserisci {{label}}",cityRequired:"Inserisci {{label}}",stateRequired:"Seleziona {{label}}",postalCodeInvalid:"Formato non valido per {{label}}",countryInvalid:"Paese non valido",childFirstNameRequired:"Inserisci nome e cognome per tutti i figli",childLastNameRequired:"Inserisci nome e cognome per tutti i figli",householdMemberNameRequired:"Inserisci un nome per tutti i membri del nucleo familiare"},success:{completed:"Configurazione completata con successo"},error:{saving:"Errore nel salvataggio: {{message}}"},noRegions:"Nessuna regione disponibile per {{country}}."},nav:{dashboard:"Dashboard",calendar:"Calendario",reminders:"Promemoria",finance:"Finanze",people:"Persone",bills:"Fatture",documents:"Documenti",shopping:"Lista della spesa",taxes:"Tasse",assistant:"Assistente",settings:"Impostazioni",logout:"Esci"},dashboard:{title:"Dashboard",upcomingEvents:"Prossimi eventi e pagamenti",upcomingReminders:"Prossimi eventi e pagamenti",appointments:"Appuntamenti e attività",pendingBills:"Fatture in sospeso",noAppointments:"Nessun appuntamento in arrivo",noBills:"Nessuna fattura in sospeso",viewAll:"Visualizza tutto",financeOverview:"Panoramica finanziaria (mese corrente)",taxStatus:"Stato fiscale",quickActions:"Azioni rapide",noEvents:"Nessun evento in arrivo",noReminders:"Nessun promemoria in arrivo",addReminder:"Aggiungi promemoria",addExpense:"Aggiungi spesa",addEntry:"Aggiungi voce",viewFinances:"Visualizza finanze",viewTaxProfile:"Visualizza profilo fiscale",overdueCount:"{{count}} scaduto",daysOverdue:"{{days}} giorni scaduto",dueToday:"Scade oggi",dueInDays:"Scade tra {{days}} giorni",noDate:"Nessuna data",billNoDueDate:'"{{title}}" non ha una data di scadenza',billAriaLabel:"Fattura: {{description}}"},bills:{title:"Fatture",description:"Gestisci le tue fatture e i promemoria di pagamento",add:"Aggiungi fattura",edit:"Modifica fattura",scan:"Scansiona",scanInvoice:"Scansiona fattura",total:"Totale",open:"Aperto",overdue:"Scaduto",paid:"Pagato",pending:"In attesa",paidTab:"Pagato",noPending:"Nessuna fattura in sospeso",noPaid:"Nessuna fattura pagata ancora",addFirst:"Aggiungi prima fattura",pendingPayments:"Pagamenti in sospeso",search:"Cerca...",filterStatus:"Stato",titleField:"Titolo / Descrizione",titlePlaceholder:"Es. Bolletta elettrica marzo",amount:"Importo",currency:"Valuta",dueDate:"Data di scadenza",paymentDetails:"Dettagli di pagamento",creditor:"Beneficiario",reference:"Riferimento / Messaggio",recurrence:"Ricorrenza",noRecurrence:"Nessuna ricorrenza",quarterly:"Trimestrale",notes:"Note",notesPlaceholder:"Note opzionali...",dialogDescription:"Inserisci i dettagli della fattura",markAsPaid:"Segna come pagato",markedAsPaid:"Segnato come pagato e spesa creata",created:"Fattura creata",updated:"Fattura aggiornata",deleted:"Fattura eliminata",confirmDelete:"Vuoi davvero eliminare questa fattura?",dataImported:"Dati fattura importati",status:{paid:"Pagato",overdue:"Scaduto",dueSoon:"In scadenza",pending:"Aperto"},errors:{required:"Compila tutti i campi obbligatori."},person:"Persona"},shopping:{title:"Lista della spesa",description:"Gestisci le tue liste della spesa",addItem:"Aggiungi articolo",addList:"Nuova lista",deleteList:"Elimina lista",listName:"Nome lista",listNamePlaceholder:"Es. Supermercato",noItems:"Nessun articolo",noLists:"Nessuna lista",addFirst:"Aggiungi primo articolo",itemName:"Nome articolo",itemNamePlaceholder:"Es. Latte",quantity:"Quantità",quantityPlaceholder:"1",unit:"Unità",notes:"Note",notesPlaceholder:"Note opzionali...",bought:"Acquistato",notBought:"Non acquistato",markAsBought:"Segna come acquistato",markAsNotBought:"Segna come non acquistato",deleteItem:"Elimina articolo",confirmDelete:"Eliminare questo articolo?",created:"Articolo aggiunto",updated:"Articolo aggiornato",deleted:"Articolo eliminato",search:"Cerca...",filter:"Filtra",all:"Tutti",boughtOnly:"Solo acquistati",notBoughtOnly:"Solo non acquistati"},reminders:{title:"Promemoria",description:"Gestisci i tuoi promemoria e attività",add:"Aggiungi promemoria",edit:"Modifica promemoria",delete:"Elimina promemoria",noReminders:"Nessun promemoria",addFirst:"Aggiungi primo promemoria",titleField:"Titolo",titlePlaceholder:"Es. Chiamare il medico",descriptionField:"Descrizione",descriptionPlaceholder:"Dettagli aggiuntivi...",dueDate:"Data di scadenza",priority:"Priorità",priorityLow:"Bassa",priorityMedium:"Media",priorityHigh:"Alta",completed:"Completato",notCompleted:"Non completato",markAsCompleted:"Segna come completato",markAsNotCompleted:"Segna come non completato",created:"Promemoria creato",updated:"Promemoria aggiornato",deleted:"Promemoria eliminato",confirmDelete:"Eliminare questo promemoria?",search:"Cerca...",filter:"Filtra",all:"Tutti",completedOnly:"Solo completati",notCompletedOnly:"Solo non completati"},calendar:{title:"Calendario",description:"Gestisci i tuoi eventi e appuntamenti",add:"Aggiungi evento",edit:"Modifica evento",delete:"Elimina evento",noEvents:"Nessun evento",addFirst:"Aggiungi primo evento",titleField:"Titolo",titlePlaceholder:"Es. Riunione",descriptionField:"Descrizione",descriptionPlaceholder:"Dettagli aggiuntivi...",startDate:"Data di inizio",endDate:"Data di fine",allDay:"Tutto il giorno",type:"Tipo",typeAppointment:"Appuntamento",typeReminder:"Promemoria",location:"Posizione",locationPlaceholder:"Es. Ufficio",created:"Evento creato",updated:"Evento aggiornato",deleted:"Evento eliminato",confirmDelete:"Eliminare questo evento?",search:"Cerca...",filter:"Filtra",all:"Tutti",appointmentsOnly:"Solo appuntamenti",remindersOnly:"Solo promemoria"},finance:{title:"Finanze",description:"Gestisci le tue entrate e spese",add:"Aggiungi voce",edit:"Modifica voce",delete:"Elimina voce",noEntries:"Nessuna voce",addFirst:"Aggiungi prima voce",titleField:"Titolo",titlePlaceholder:"Es. Stipendio",amount:"Importo",currency:"Valuta",date:"Data",category:"Categoria",categoryIncome:"Entrata",categoryExpense:"Spesa",notes:"Note",notesPlaceholder:"Note opzionali...",created:"Voce creata",updated:"Voce aggiornata",deleted:"Voce eliminata",confirmDelete:"Eliminare questa voce?",search:"Cerca...",filter:"Filtra",all:"Tutti",incomeOnly:"Solo entrate",expenseOnly:"Solo spese",totalIncome:"Entrate totali",totalExpense:"Spese totali",balance:"Saldo"},taxes:{title:"Tasse",description:"Gestisci i tuoi profili fiscali",add:"Aggiungi profilo fiscale",edit:"Modifica profilo fiscale",delete:"Elimina profilo fiscale",noProfiles:"Nessun profilo fiscale",addFirst:"Aggiungi primo profilo fiscale",year:"Anno",region:"Regione",taxClass:"Classe fiscale",grossIncome:"Reddito lordo",deductions:"Deduzioni",taxableIncome:"Reddito imponibile",notes:"Note",notesPlaceholder:"Note opzionali...",created:"Profilo fiscale creato",updated:"Profilo fiscale aggiornato",deleted:"Profilo fiscale eliminato",confirmDelete:"Eliminare questo profilo fiscale?"},people:{title:"Persone",description:"Gestisci le persone nella tua famiglia",add:"Aggiungi persona",edit:"Modifica persona",delete:"Elimina persona",noPeople:"Nessuna persona",addFirst:"Aggiungi prima persona",name:"Nome",namePlaceholder:"Es. Mario Rossi",email:"Email",emailPlaceholder:"esempio@email.com",phone:"Telefono",phonePlaceholder:"+39 345 123 4567",currency:"Valuta",notes:"Note",notesPlaceholder:"Note opzionali...",created:"Persona aggiunta",updated:"Persona aggiornata",deleted:"Persona eliminata",confirmDelete:"Eliminare questa persona?"},documents:{title:"Documenti",description:"Gestisci i tuoi documenti",add:"Aggiungi documento",edit:"Modifica documento",delete:"Elimina documento",noDocuments:"Nessun documento",addFirst:"Aggiungi primo documento",titleField:"Titolo",titlePlaceholder:"Es. Contratto",descriptionField:"Descrizione",descriptionPlaceholder:"Dettagli aggiuntivi...",file:"File",upload:"Carica file",created:"Documento aggiunto",updated:"Documento aggiornato",deleted:"Documento eliminato",confirmDelete:"Eliminare questo documento?",scan:"Scansiona",scanReceipt:"Scansiona scontrino"},settings:{title:"Impostazioni",description:"Gestisci le impostazioni del tuo account",profile:"Profilo",profileDescription:"Gestisci le tue informazioni personali",name:"Nome",namePlaceholder:"Il tuo nome",email:"Email",emailHint:"L'email non può essere modificata",preferences:"Preferenze",preferencesDescription:"Personalizza le impostazioni dell'app",language:"Lingua",german:"Tedesco",english:"Inglese",spanish:"Spagnolo",dutch:"Olandese",italian:"Italiano",french:"Francese",currency:"Valuta",swissFranc:"Franco svizzero",euro:"Euro",usDollar:"Dollaro americano",appearance:"Aspetto",appearanceDescription:"Personalizza l'aspetto dell'app",darkMode:"Modalità scura",darkModeDescription:"Abilita schema colori scuro",theme:"Tema",notifications:"Notifiche",notificationsDescription:"Gestisci le impostazioni delle notifiche",enableNotifications:"Abilita notifiche",notificationsHint:"Ricevi promemoria per appuntamenti e pagamenti in arrivo"},aiChat:{title:"Assistente",clearAll:"Cancella tutto",clearAllConfirm:"Eliminare tutte le chat?",clearAllDescription:"Questa azione non può essere annullata. Tutte le {{count}} chat{{plural}} verranno eliminate permanentemente.",clearAllDescriptionSingular:"Questa azione non può essere annullata. Tutte le {{count}} chat verranno eliminate permanentemente.",emptyStateMessage:"Scegli una domanda o fai la tua",noChats:"Nessuna cronologia chat",noChatsToDelete:"Nessuna chat da eliminare",newChat:"Nuova chat",newConversation:"Nuova conversazione",chatHistory:"Cronologia chat",history:"Cronologia",noConversations:"Nessuna conversazione ancora",cancel:"Annulla",confirmDelete:"Sì, elimina tutto",deleting:"Eliminazione...",deleted:"{{count}} chat{{plural}} eliminate",deletedSingular:"{{count}} chat eliminata",deleteError:"Errore nell'eliminazione delle chat",dateToday:"Oggi",dateYesterday:"Ieri",dateDaysAgo:"{{days}} giorni fa",conversationStarted:"Nuova conversazione avviata"},common:{loading:"Caricamento...",error:"Errore",success:"Successo",save:"Salva",cancel:"Annulla",add:"Aggiungi",edit:"Modifica",delete:"Elimina",search:"Cerca",filter:"Filtra",sort:"Ordina",create:"Crea",update:"Aggiorna",close:"Chiudi",confirm:"Conferma",yes:"Sì",no:"No",all:"Tutti",details:"Dettagli",logout:"Esci",help:"Aiuto",copy:"Copia",copyUrl:"Copia URL",refresh:"Aggiorna",unnamed:"Senza nome",backupCreated:"Backup creato con successo",backupError:"Errore durante la creazione del backup",exporting:"Esportazione...",duplicate:"Duplica",view:"Visualizza",download:"Scarica",copied:"{{label}} copiato!"},userMenu:{editProfile:"Modifica profilo",assistant:"Assistente",startTutorial:"Tutorial introduttivo",faq:"Domande frequenti",exportData:"Esporta dati",keyboardShortcuts:"Scelte rapide da tastiera",about:"Informazioni su Nexo"},faq:{title:"Domande frequenti",subtitle:"Trova risposte rapide alle domande frequenti",searchPlaceholder:"Cerca domande...",noResults:"Nessun risultato trovato",items:{whatIsNexo:{question:"Cos'è Nexo?",answer:"Nexo è un'app completa di gestione finanziaria che ti aiuta a gestire le tue finanze, bollette, tasse e altro ancora."},howToAddEntry:{question:"Come aggiungo una voce?",answer:'Vai alla pagina Finanze e clicca su "Aggiungi voce". Compila i campi richiesti e salva.'},howToScanBill:{question:"Come scansiono una bolletta?",answer:'Vai alla pagina Bollette e clicca su "Scansiona bolletta". Usa la tua fotocamera per fotografare la bolletta.'},howToBackup:{question:"Come creo un backup?",answer:"Vai a Impostazioni > Backup o usa il Menu utente > Esporta dati."},howToChangeLanguage:{question:"Come cambio la lingua?",answer:"Clicca sull'icona della lingua nella barra superiore e seleziona la lingua desiderata."},howToUseAI:{question:"Come uso l'assistente AI?",answer:`Clicca su "Assistente" nel Menu utente o usa l'icona della chat. Fai domande sulle tue finanze o richiedi aiuto.`},howToAddPerson:{question:"Come aggiungo una persona?",answer:'Vai alla pagina Persone e clicca su "Aggiungi persona". Scegli tra membro della famiglia o persona esterna.'},howToCreateTaxProfile:{question:"Come creo un profilo fiscale?",answer:'Vai alla pagina Tasse e clicca su "Crea profilo fiscale". Compila le informazioni richieste.'}}}}},fr:{translation:{onboarding:{title:"Bienvenue sur Nexo",stepIndicator:"Étape {{step}} sur {{total}}: {{description}}",steps:{personalData:"Configurez votre compte",taxInfo:"Informations fiscales",children:"Enfants",household:"Membres du foyer",preferences:"Préférences"},fields:{name:"Votre nom",namePlaceholder:"Jean Dupont",currency:"Devise",phone:"Numéro de téléphone (optionnel)",phonePlaceholder:"+33 6 12 34 56 78",birthDate:"Date de naissance (optionnel)",country:"Pays",countryPlaceholder:"Sélectionner un pays",address:"Adresse",street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville",state:"État",county:"Comté (optionnel)",apartment:"Appartement/Unité (optionnel)",addressFields:{CH:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},DE:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},AT:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},FR:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},GB:{street:"Adresse",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville/Commune",county:"Comté (optionnel)"},IT:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},ES:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},NL:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},BE:{street:"Rue",houseNumber:"Numéro",postalCode:"Code postal",city:"Ville"},US:{street:"Adresse",houseNumber:"Numéro (optionnel)",postalCode:"Code postal",city:"Ville",state:"État",apartment:"Appartement/Unité (optionnel)"}},region:"Région",regionPlaceholder:"Sélectionner {{regionLabel}}",selectRegion:"Sélectionner {{regionLabel}}",regionHint:"Utilisé pour les calculs fiscaux",taxClass:"Classe fiscale",taxClassPlaceholder:"Sélectionner une classe fiscale",language:"Langue",theme:"Thème",themeSystem:"Système",themeLight:"Clair",themeDark:"Sombre",notifications:"Activer les notifications",tutorial:"Afficher le tutoriel de démarrage"},buttons:{skip:"Passer",next:"Suivant",back:"Retour",complete:"Terminer"},validation:{nameRequired:"Veuillez entrer votre nom",addressRequired:"Veuillez entrer votre adresse complète",streetRequired:"Veuillez entrer {{label}}",houseNumberRequired:"Veuillez entrer {{label}}",postalCodeRequired:"Veuillez entrer {{label}}",cityRequired:"Veuillez entrer {{label}}",stateRequired:"Veuillez sélectionner {{label}}",postalCodeInvalid:"Format invalide pour {{label}}",countryInvalid:"Pays invalide",childFirstNameRequired:"Veuillez entrer le prénom et le nom de tous les enfants",childLastNameRequired:"Veuillez entrer le prénom et le nom de tous les enfants",householdMemberNameRequired:"Veuillez entrer un nom pour tous les membres du foyer"},success:{completed:"Configuration terminée avec succès"},error:{saving:"Erreur lors de l'enregistrement: {{message}}"},noRegions:"Aucune région disponible pour {{country}}."},nav:{dashboard:"Tableau de bord",calendar:"Calendrier",reminders:"Rappels",finance:"Finances",people:"Personnes",bills:"Factures",documents:"Documents",shopping:"Liste de courses",taxes:"Impôts",assistant:"Assistant",settings:"Paramètres",logout:"Déconnexion"},dashboard:{title:"Tableau de bord",upcomingEvents:"Événements et paiements à venir",upcomingReminders:"Événements et paiements à venir",appointments:"Rendez-vous et tâches",pendingBills:"Factures en attente",noAppointments:"Aucun rendez-vous à venir",noBills:"Aucune facture en attente",viewAll:"Voir tout",financeOverview:"Aperçu financier (mois en cours)",taxStatus:"Statut fiscal",quickActions:"Actions rapides",noEvents:"Aucun événement à venir",noReminders:"Aucun rappel à venir",addReminder:"Ajouter un rappel",addExpense:"Ajouter une dépense",addEntry:"Ajouter une entrée",viewFinances:"Voir les finances",viewTaxProfile:"Voir le profil fiscal",overdueCount:"{{count}} en retard",daysOverdue:"{{days}} jours en retard",dueToday:"Échéance aujourd'hui",dueInDays:"Échéance dans {{days}} jours",noDate:"Aucune date",billNoDueDate:`"{{title}}" n'a pas de date d'échéance`,billAriaLabel:"Facture: {{description}}"},bills:{title:"Factures",description:"Gérez vos factures et rappels de paiement",add:"Ajouter une facture",edit:"Modifier la facture",scan:"Scanner",scanInvoice:"Scanner la facture",total:"Total",open:"Ouvert",overdue:"En retard",paid:"Payé",pending:"En attente",paidTab:"Payé",noPending:"Aucune facture en attente",noPaid:"Aucune facture payée pour le moment",addFirst:"Ajouter la première facture",pendingPayments:"Paiements en attente",search:"Rechercher...",filterStatus:"Statut",titleField:"Titre / Description",titlePlaceholder:"Ex. Facture d'électricité mars",amount:"Montant",currency:"Devise",dueDate:"Date d'échéance",paymentDetails:"Détails de paiement",creditor:"Bénéficiaire",reference:"Référence / Message",recurrence:"Récurrence",noRecurrence:"Aucune récurrence",quarterly:"Trimestriel",notes:"Notes",notesPlaceholder:"Notes optionnelles...",dialogDescription:"Saisissez les détails de la facture",markAsPaid:"Marquer comme payé",markedAsPaid:"Marqué comme payé et dépense créée",created:"Facture créée",updated:"Facture mise à jour",deleted:"Facture supprimée",confirmDelete:"Voulez-vous vraiment supprimer cette facture?",dataImported:"Données de facture importées",status:{paid:"Payé",overdue:"En retard",dueSoon:"Bientôt échéance",pending:"Ouvert"},errors:{required:"Veuillez remplir tous les champs obligatoires."},person:"Personne"},shopping:{title:"Liste de courses",description:"Gérez vos listes de courses",addItem:"Ajouter un article",addList:"Nouvelle liste",deleteList:"Supprimer la liste",listName:"Nom de la liste",listNamePlaceholder:"Ex. Supermarché",noItems:"Aucun article",noLists:"Aucune liste",addFirst:"Ajouter le premier article",itemName:"Nom de l'article",itemNamePlaceholder:"Ex. Lait",quantity:"Quantité",quantityPlaceholder:"1",unit:"Unité",notes:"Notes",notesPlaceholder:"Notes optionnelles...",bought:"Acheté",notBought:"Non acheté",markAsBought:"Marquer comme acheté",markAsNotBought:"Marquer comme non acheté",deleteItem:"Supprimer l'article",confirmDelete:"Supprimer cet article?",created:"Article ajouté",updated:"Article mis à jour",deleted:"Article supprimé",search:"Rechercher...",filter:"Filtrer",all:"Tous",boughtOnly:"Seulement achetés",notBoughtOnly:"Seulement non achetés"},reminders:{title:"Rappels",description:"Gérez vos rappels et tâches",add:"Ajouter un rappel",edit:"Modifier le rappel",delete:"Supprimer le rappel",noReminders:"Aucun rappel",addFirst:"Ajouter le premier rappel",titleField:"Titre",titlePlaceholder:"Ex. Appeler le médecin",descriptionField:"Description",descriptionPlaceholder:"Détails supplémentaires...",dueDate:"Date d'échéance",priority:"Priorité",priorityLow:"Basse",priorityMedium:"Moyenne",priorityHigh:"Haute",completed:"Terminé",notCompleted:"Non terminé",markAsCompleted:"Marquer comme terminé",markAsNotCompleted:"Marquer comme non terminé",created:"Rappel créé",updated:"Rappel mis à jour",deleted:"Rappel supprimé",confirmDelete:"Supprimer ce rappel?",search:"Rechercher...",filter:"Filtrer",all:"Tous",completedOnly:"Seulement terminés",notCompletedOnly:"Seulement non terminés"},calendar:{title:"Calendrier",description:"Gérez vos événements et rendez-vous",add:"Ajouter un événement",edit:"Modifier l'événement",delete:"Supprimer l'événement",noEvents:"Aucun événement",addFirst:"Ajouter le premier événement",titleField:"Titre",titlePlaceholder:"Ex. Réunion",descriptionField:"Description",descriptionPlaceholder:"Détails supplémentaires...",startDate:"Date de début",endDate:"Date de fin",allDay:"Toute la journée",type:"Type",typeAppointment:"Rendez-vous",typeReminder:"Rappel",location:"Lieu",locationPlaceholder:"Ex. Bureau",created:"Événement créé",updated:"Événement mis à jour",deleted:"Événement supprimé",confirmDelete:"Supprimer cet événement?",search:"Rechercher...",filter:"Filtrer",all:"Tous",appointmentsOnly:"Seulement rendez-vous",remindersOnly:"Seulement rappels"},finance:{title:"Finances",description:"Gérez vos revenus et dépenses",add:"Ajouter une entrée",edit:"Modifier l'entrée",delete:"Supprimer l'entrée",noEntries:"Aucune entrée",addFirst:"Ajouter la première entrée",titleField:"Titre",titlePlaceholder:"Ex. Salaire",amount:"Montant",currency:"Devise",date:"Date",category:"Catégorie",categoryIncome:"Revenu",categoryExpense:"Dépense",notes:"Notes",notesPlaceholder:"Notes optionnelles...",created:"Entrée créée",updated:"Entrée mise à jour",deleted:"Entrée supprimée",confirmDelete:"Supprimer cette entrée?",search:"Rechercher...",filter:"Filtrer",all:"Tous",incomeOnly:"Seulement revenus",expenseOnly:"Seulement dépenses",totalIncome:"Revenus totaux",totalExpense:"Dépenses totales",balance:"Solde"},taxes:{title:"Impôts",description:"Gérez vos profils fiscaux",add:"Ajouter un profil fiscal",edit:"Modifier le profil fiscal",delete:"Supprimer le profil fiscal",noProfiles:"Aucun profil fiscal",addFirst:"Ajouter le premier profil fiscal",year:"Année",region:"Région",taxClass:"Classe fiscale",grossIncome:"Revenu brut",deductions:"Déductions",taxableIncome:"Revenu imposable",notes:"Notes",notesPlaceholder:"Notes optionnelles...",created:"Profil fiscal créé",updated:"Profil fiscal mis à jour",deleted:"Profil fiscal supprimé",confirmDelete:"Supprimer ce profil fiscal?"},people:{title:"Personnes",description:"Gérez les personnes de votre foyer",add:"Ajouter une personne",edit:"Modifier la personne",delete:"Supprimer la personne",noPeople:"Aucune personne",addFirst:"Ajouter la première personne",name:"Nom",namePlaceholder:"Ex. Jean Dupont",email:"Email",emailPlaceholder:"exemple@email.com",phone:"Téléphone",phonePlaceholder:"+33 6 12 34 56 78",currency:"Devise",notes:"Notes",notesPlaceholder:"Notes optionnelles...",created:"Personne ajoutée",updated:"Personne mise à jour",deleted:"Personne supprimée",confirmDelete:"Supprimer cette personne?"},documents:{title:"Documents",description:"Gérez vos documents",add:"Ajouter un document",edit:"Modifier le document",delete:"Supprimer le document",noDocuments:"Aucun document",addFirst:"Ajouter le premier document",titleField:"Titre",titlePlaceholder:"Ex. Contrat",descriptionField:"Description",descriptionPlaceholder:"Détails supplémentaires...",file:"Fichier",upload:"Télécharger le fichier",created:"Document ajouté",updated:"Document mis à jour",deleted:"Document supprimé",confirmDelete:"Supprimer ce document?",scan:"Scanner",scanReceipt:"Scanner le reçu"},settings:{title:"Paramètres",description:"Gérez les paramètres de votre compte",profile:"Profil",profileDescription:"Gérez vos informations personnelles",name:"Nom",namePlaceholder:"Votre nom",email:"Email",emailHint:"L'email ne peut pas être modifié",preferences:"Préférences",preferencesDescription:"Personnalisez les paramètres de l'app",language:"Langue",german:"Allemand",english:"Anglais",spanish:"Espagnol",dutch:"Néerlandais",italian:"Italien",french:"Français",currency:"Devise",swissFranc:"Franc suisse",euro:"Euro",usDollar:"Dollar américain",appearance:"Apparence",appearanceDescription:"Personnalisez l'apparence de l'app",darkMode:"Mode sombre",darkModeDescription:"Activer le schéma de couleurs sombre",theme:"Thème",notifications:"Notifications",notificationsDescription:"Gérez les paramètres de notification",enableNotifications:"Activer les notifications",notificationsHint:"Recevez des rappels pour les rendez-vous et paiements à venir"},aiChat:{title:"Assistant",clearAll:"Tout effacer",clearAllConfirm:"Supprimer toutes les conversations?",clearAllDescription:"Cette action ne peut pas être annulée. Toutes les {{count}} conversation{{plural}} seront définitivement supprimées.",clearAllDescriptionSingular:"Cette action ne peut pas être annulée. Toutes les {{count}} conversation sera définitivement supprimée.",emptyStateMessage:"Choisissez une question ou posez la vôtre",noChats:"Aucun historique de conversation",noChatsToDelete:"Aucune conversation à supprimer",newChat:"Nouvelle conversation",newConversation:"Nouvelle conversation",chatHistory:"Historique des conversations",history:"Historique",noConversations:"Aucune conversation pour le moment",cancel:"Annuler",confirmDelete:"Oui, tout supprimer",deleting:"Suppression...",deleted:"{{count}} conversation{{plural}} supprimée{{plural}}",deletedSingular:"{{count}} conversation supprimée",deleteError:"Erreur lors de la suppression des conversations",dateToday:"Aujourd'hui",dateYesterday:"Hier",dateDaysAgo:"Il y a {{days}} jours",conversationStarted:"Nouvelle conversation démarrée"},common:{loading:"Chargement...",error:"Erreur",success:"Succès",save:"Enregistrer",cancel:"Annuler",add:"Ajouter",edit:"Modifier",delete:"Supprimer",search:"Rechercher",filter:"Filtrer",sort:"Trier",create:"Créer",update:"Mettre à jour",close:"Fermer",confirm:"Confirmer",yes:"Oui",no:"Non",all:"Tous",details:"Détails",logout:"Déconnexion",help:"Aide",copy:"Copier",copyUrl:"Copier l'URL",refresh:"Actualiser",unnamed:"Sans nom",backupCreated:"Sauvegarde créée avec succès",backupError:"Erreur lors de la création de la sauvegarde",exporting:"Exportation...",duplicate:"Dupliquer",view:"Voir",download:"Télécharger",copied:"{{label}} copié!"},userMenu:{editProfile:"Modifier le profil",assistant:"Assistant",startTutorial:"Tutoriel de démarrage",faq:"FAQ",exportData:"Exporter les données",keyboardShortcuts:"Raccourcis clavier",about:"À propos de Nexo"},faq:{title:"Questions fréquemment posées",subtitle:"Trouvez des réponses rapides aux questions fréquemment posées",searchPlaceholder:"Rechercher des questions...",noResults:"Aucun résultat trouvé",items:{whatIsNexo:{question:"Qu'est-ce que Nexo?",answer:"Nexo est une application complète de gestion financière qui vous aide à gérer vos finances, factures, impôts et plus encore."},howToAddEntry:{question:"Comment ajouter une entrée?",answer:'Allez à la page Finances et cliquez sur "Ajouter une entrée". Remplissez les champs requis et enregistrez.'},howToScanBill:{question:"Comment scanner une facture?",answer:'Allez à la page Factures et cliquez sur "Scanner la facture". Utilisez votre appareil photo pour photographier la facture.'},howToBackup:{question:"Comment créer une sauvegarde?",answer:"Allez à Paramètres > Sauvegarde ou utilisez le Menu utilisateur > Exporter les données."},howToChangeLanguage:{question:"Comment changer la langue?",answer:"Cliquez sur l'icône de langue dans la barre supérieure et sélectionnez votre langue souhaitée."},howToUseAI:{question:"Comment utiliser l'assistant IA?",answer:`Cliquez sur "Assistant" dans le Menu utilisateur ou utilisez l'icône de chat. Posez des questions sur vos finances ou demandez de l'aide.`},howToAddPerson:{question:"Comment ajouter une personne?",answer:'Allez à la page Personnes et cliquez sur "Ajouter une personne". Choisissez entre membre du ménage ou personne externe.'},howToCreateTaxProfile:{question:"Comment créer un profil fiscal?",answer:'Allez à la page Impôts et cliquez sur "Créer un profil fiscal". Remplissez les informations requises.'}}}}}},Kt=()=>{if(typeof window>"u")return"de";try{const a=(navigator.language||navigator.userLanguage||"de").split("-")[0].toLowerCase();return{de:"de",en:"en",es:"es",nl:"nl",it:"it",fr:"fr"}[a]||"de"}catch(t){return console.error("Error detecting browser language:",t),"de"}},er=()=>{try{const t=localStorage.getItem("i18nextLng");if(t&&["de","en","es","nl","it","fr"].includes(t))return t;const a=Kt();return localStorage.setItem("i18nextLng",a),a}catch(t){return console.error("Error loading language from localStorage:",t),Kt()}};ra.use(Aa).init({resources:Xn,lng:er(),fallbackLng:"de",interpolation:{escapeValue:!1}});ra.on("languageChanged",t=>{try{localStorage.setItem("i18nextLng",t)}catch(a){console.error("Error saving language to localStorage:",a)}});const tr=({...t})=>{const{theme:a="system"}=Ya();return e.jsx(An,{theme:a,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})},ma=En(void 0);function ar({children:t,defaultTheme:a="light",switchable:c=!1}){const{settings:r,updateSettings:l}=ut(),[u,f]=g(()=>{if(c){const n=r?.theme;if(n&&(n==="light"||n==="dark"))return n;const j=localStorage.getItem("theme");return j&&(j==="light"||j==="dark")?j:(j&&l&&(l({theme:j}).catch(console.error),localStorage.removeItem("theme")),a)}return a});ve(()=>{c&&r?.theme&&(r.theme==="light"||r.theme==="dark")&&f(r.theme)},[r?.theme,c]),ve(()=>{const n=document.documentElement;u==="dark"?n.classList.add("dark"):n.classList.remove("dark"),c&&l&&(l({theme:u}).catch(console.error),localStorage.setItem("theme",u))},[u,c,l]);const N=c?()=>{f(n=>n==="light"?"dark":"light")}:void 0;return e.jsx(ma.Provider,{value:{theme:u,toggleTheme:N,switchable:c},children:t})}function ha(){const t=Pn(ma);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function nr(t,a){const c={...a,timestamp:new Date().toISOString(),userAgent:typeof window<"u"?window.navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0};console.error("Error:",{message:t.message,stack:t.stack,...c})}class rr extends Rn{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,c){nr(a,{componentStack:c.componentStack,errorBoundary:!0}),this.setState({error:a,errorInfo:c})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx(sr,{error:this.state.error,errorInfo:this.state.errorInfo,onReset:this.handleReset}):this.props.children}}function sr({error:t,errorInfo:a,onReset:c}){const[,r]=Me();return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(qe,{className:"w-full max-w-md",children:[e.jsxs(Ea,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(sa,{className:"w-8 h-8 text-destructive"}),e.jsx(Pa,{children:"Ein Fehler ist aufgetreten"})]}),e.jsx(Ra,{children:"Die Anwendung ist auf einen unerwarteten Fehler gestossen. Bitte versuchen Sie es erneut."})]}),e.jsxs(Oe,{className:"space-y-4",children:[!1,e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(V,{onClick:c,className:"w-full h-10 min-h-[44px]",variant:"default",children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Erneut versuchen"]}),e.jsxs(V,{onClick:()=>{r("/"),c()},className:"w-full h-10 min-h-[44px]",variant:"outline",children:[e.jsx(ia,{className:"w-4 h-4 mr-2"}),"Zur Startseite"]})]})]})]})})}function ir(){const{t}=ge(),{data:a=[],isLoading:c}=Xt(),{data:r=[],isLoading:l}=Dt({status:"offen"}),{data:u=[],isLoading:f}=Ta(),{totalIncome:N,totalExpenses:n,balance:j,monthlyTrend:k}=ie(()=>{const h=new Date,x=h.getMonth(),L=h.getFullYear(),W=x===0?11:x-1,D=x===0?L-1:L,ae=a.filter(R=>{const q=R.date?.toDate?R.date.toDate():new Date(R.date);return R.type==="einnahme"&&q.getMonth()===x&&q.getFullYear()===L}).reduce((R,q)=>R+q.amount,0)/100,M=a.filter(R=>{const q=R.date?.toDate?R.date.toDate():new Date(R.date);return R.type==="ausgabe"&&R.status==="paid"&&q.getMonth()===x&&q.getFullYear()===L}).reduce((R,q)=>R+q.amount,0)/100,re=a.filter(R=>{const q=R.date?.toDate?R.date.toDate():new Date(R.date);return R.type==="einnahme"&&q.getMonth()===W&&q.getFullYear()===D}).reduce((R,q)=>R+q.amount,0)/100,T=a.filter(R=>{const q=R.date?.toDate?R.date.toDate():new Date(R.date);return R.type==="ausgabe"&&R.status==="paid"&&q.getMonth()===W&&q.getFullYear()===D}).reduce((R,q)=>R+q.amount,0)/100,X=a.filter(R=>R.type==="einnahme").reduce((R,q)=>R+q.amount,0)/100,_=a.filter(R=>R.type==="ausgabe"&&R.status==="paid").reduce((R,q)=>R+q.amount,0)/100,Z=re>0?(ae-re)/re*100:0,Q=T>0?(M-T)/T*100:0;return{totalIncome:X,totalExpenses:_,balance:X-_,monthlyTrend:{income:Z,expenses:Q,currentMonthIncome:ae,currentMonthExpenses:M}}},[a]),C=r.filter(h=>h.status==="offen").length,E=u.filter(h=>!h.bought).length,S=h=>`CHF ${h.toFixed(2)}`,U=c||l||f;return e.jsx(Ne,{title:t("dashboard.title"),showSidebar:!0,children:U?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mobile-card mb-4 bg-primary text-primary-foreground",children:[e.jsx(ee,{className:"h-4 w-20 mb-2 bg-primary-foreground/20"}),e.jsx(ee,{className:"h-9 w-32 mb-4 bg-primary-foreground/20"}),e.jsxs("div",{className:"flex gap-6 mt-4 pt-4 border-t border-primary-foreground/20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{className:"h-3 w-16 mb-1 bg-primary-foreground/20"}),e.jsx(ee,{className:"h-6 w-24 bg-primary-foreground/20"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ee,{className:"h-3 w-16 mb-1 bg-primary-foreground/20"}),e.jsx(ee,{className:"h-6 w-24 bg-primary-foreground/20"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsx(ee,{className:"h-20 w-full rounded-lg"}),e.jsx(ee,{className:"h-20 w-full rounded-lg"})]}),e.jsx(ee,{className:"h-4 w-24 mb-4"}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(ee,{className:"h-16 w-full rounded-lg"}),e.jsx(ee,{className:"h-16 w-full rounded-lg"}),e.jsx(ee,{className:"h-16 w-full rounded-lg"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mobile-card mb-4 bg-primary text-primary-foreground",children:[e.jsx("p",{className:"text-sm opacity-70 mb-2",children:t("finance.balance","Saldo")}),e.jsx("p",{className:"text-3xl font-semibold mb-4",children:S(j)}),e.jsxs("div",{className:"flex gap-6 mt-4 pt-4 border-t border-primary-foreground/20",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs opacity-60 mb-1",children:t("finance.income","Einnahmen")}),e.jsxs("p",{className:"text-lg font-medium flex items-center gap-1.5",children:[e.jsx(jt,{className:"w-5 h-5 opacity-70"}),S(N)]}),k.income!==0&&e.jsxs("p",{className:`text-xs mt-1 flex items-center gap-1 ${k.income>0?"text-green-300":"text-red-300"}`,children:[k.income>0?e.jsx(wt,{className:"w-3 h-3"}):e.jsx(Bt,{className:"w-3 h-3"}),t("dashboard.vsLastMonth",{percent:Math.abs(k.income).toFixed(1)})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs opacity-60 mb-1",children:t("finance.expenses","Ausgaben")}),e.jsxs("p",{className:"text-lg font-medium flex items-center gap-1.5",children:[e.jsx(kt,{className:"w-5 h-5 opacity-70"}),S(n)]}),k.expenses!==0&&e.jsxs("p",{className:`text-xs mt-1 flex items-center gap-1 ${k.expenses<0?"text-green-300":"text-red-300"}`,children:[k.expenses<0?e.jsx(Bt,{className:"w-3 h-3"}):e.jsx(wt,{className:"w-3 h-3"}),t("dashboard.vsLastMonth",{percent:Math.abs(k.expenses).toFixed(1)})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsx(Ke,{href:"/reminders",children:e.jsxs("div",{className:"mobile-card flex items-center gap-3 active:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-status-warning flex items-center justify-center",children:e.jsx(St,{className:"w-5 h-5 status-warning"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-semibold",children:C}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("reminders.open","Offen")})]})]})}),e.jsx(Ke,{href:"/shopping",children:e.jsxs("div",{className:"mobile-card flex items-center gap-3 active:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-status-success flex items-center justify-center",children:e.jsx(It,{className:"w-5 h-5 status-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-semibold",children:E}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("shopping.items","Artikel")})]})]})})]}),e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-4 uppercase tracking-wider",children:t("dashboard.quickActions","Schnellzugriff")}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(Ke,{href:"/finance",className:"block",children:e.jsxs("div",{className:"mobile-card flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(oa,{className:"w-6 h-6 text-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-base",children:t("nav.finance","Finanzen")}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[a.length," ",t("finance.entries","Einträge")]})]})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 ml-2"})]})}),e.jsx(Ke,{href:"/bills",className:"block",children:e.jsxs("div",{className:"mobile-card flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(Ze,{className:"w-6 h-6 text-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-base",children:t("nav.bills","Rechnungen")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:t("bills.manage","Verwalten")})]})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 ml-2"})]})}),e.jsx(Ke,{href:"/shopping",className:"block",children:e.jsxs("div",{className:"mobile-card flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:e.jsx(It,{className:"w-6 h-6 text-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-base",children:t("nav.shopping","Einkaufsliste")}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[E," ",t("shopping.itemsOpen","offen")]})]})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground flex-shrink-0 ml-2"})]})})]})]})})}function or({onRefresh:t,threshold:a=80,disabled:c=!1}){const[r,l]=g({isRefreshing:!1,pullDistance:0,canRefresh:!1}),u=Re(0),f=Re(0),N=Re(!1),n=Re(null);ve(()=>{if(c)return;const C=n.current;if(!C)return;const E=h=>{C.scrollTop===0&&(u.current=h.touches[0].clientY,N.current=!0)},S=h=>{if(!N.current)return;f.current=h.touches[0].clientY;const x=Math.max(0,f.current-u.current);x>0&&(h.preventDefault(),l({isRefreshing:!1,pullDistance:x,canRefresh:x>=a}))},U=async()=>{if(N.current)if(N.current=!1,r.canRefresh&&!r.isRefreshing){l({isRefreshing:!0,pullDistance:a,canRefresh:!0});try{await t()}catch(h){console.error("[PullToRefresh] Error:",h)}finally{l({isRefreshing:!1,pullDistance:0,canRefresh:!1})}}else l({isRefreshing:!1,pullDistance:0,canRefresh:!1})};return C.addEventListener("touchstart",E,{passive:!1}),C.addEventListener("touchmove",S,{passive:!1}),C.addEventListener("touchend",U),()=>{C.removeEventListener("touchstart",E),C.removeEventListener("touchmove",S),C.removeEventListener("touchend",U)}},[c,t,a,r.canRefresh,r.isRefreshing]);const j=Math.min(r.pullDistance/a,1),k=r.pullDistance>0||r.isRefreshing;return{containerRef:n,isRefreshing:r.isRefreshing,pullProgress:j,shouldShowIndicator:k,pullDistance:r.pullDistance}}function pa(t,a){const{headers:c,rows:r,title:l}=t,u=[];l&&(u.push(l),u.push("")),u.push(c.join(",")),r.forEach(k=>{const C=k.map(E=>{const S=String(E);return S.includes(",")||S.includes('"')||S.includes(`
`)?`"${S.replace(/"/g,'""')}"`:S});u.push(C.join(","))});const f="\uFEFF"+u.join(`
`),N=new Blob([f],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(N),j=document.createElement("a");j.href=n,j.download=a||`export_${new Date().toISOString().split("T")[0]}.csv`,j.click(),URL.revokeObjectURL(n)}function lr(t,a){const{headers:c,rows:r,title:l}=t;let u=`
    <!DOCTYPE html>
    <html lang="de">
    <head>
      <meta charset="UTF-8">
      <title>${l||"Export"}</title>
      <style>
        @media print {
          @page {
            margin: 1cm;
          }
        }
        body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          padding: 20px;
          color: #333;
        }
        h1 {
          margin-bottom: 20px;
          font-size: 24px;
        }
        table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 20px;
        }
        th, td {
          border: 1px solid #ddd;
          padding: 8px 12px;
          text-align: left;
        }
        th {
          background-color: #f5f5f5;
          font-weight: 600;
        }
        tr:nth-child(even) {
          background-color: #f9f9f9;
        }
        .footer {
          margin-top: 30px;
          text-align: center;
          font-size: 12px;
          color: #666;
        }
      </style>
    </head>
    <body>
      ${l?`<h1>${l}</h1>`:""}
      <table>
        <thead>
          <tr>
            ${c.map(j=>`<th>${j}</th>`).join("")}
          </tr>
        </thead>
        <tbody>
          ${r.map(j=>`
            <tr>
              ${j.map(k=>`<td>${String(k)}</td>`).join("")}
            </tr>
          `).join("")}
        </tbody>
      </table>
      <div class="footer">
        <p>Exportiert am ${new Date().toLocaleDateString("de-CH",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}</p>
      </div>
    </body>
    </html>
  `;const f=new Blob([u],{type:"text/html;charset=utf-8"}),N=URL.createObjectURL(f),n=window.open(N,"_blank");if(!n)throw new Error("Pop-up blockiert. Bitte erlauben Sie Pop-ups für diese Website.");n.onload=()=>{setTimeout(()=>{n.print(),setTimeout(()=>URL.revokeObjectURL(N),1e3)},250)}}function cr(t){const a=["Datum","Typ","Kategorie","Betrag (CHF)","Zahlungsmethode","Status","Notizen"],c=t.map(r=>{const u=(r.date?.toDate?r.date.toDate():new Date(r.date)).toLocaleDateString("de-CH"),f=r.type==="einnahme"?"Einnahme":"Ausgabe",N=(r.amount/100).toFixed(2),n=r.status==="paid"?"Bezahlt":r.type==="einnahme"?"-":"Offen";return[u,f,r.category||"",N,r.paymentMethod||"",n,r.notes||""]});pa({headers:a,rows:c,title:"Finanzübersicht"},`finanzen_${new Date().toISOString().split("T")[0]}.csv`)}function dr(t,a){const c=["Datum","Typ","Kategorie","Betrag (CHF)","Status"],r=t.map(l=>{const f=(l.date?.toDate?l.date.toDate():new Date(l.date)).toLocaleDateString("de-CH"),N=l.type==="einnahme"?"Einnahme":"Ausgabe",n=(l.amount/100).toFixed(2),j=l.status==="paid"?"Bezahlt":l.type==="einnahme"?"-":"Offen";return[f,N,l.category||"",n,j]});a&&(r.push(["","","ZUSAMMENFASSUNG","",""]),r.push(["","","Einnahmen",`CHF ${a.income.toFixed(2)}`,""]),r.push(["","","Ausgaben",`CHF ${a.expenses.toFixed(2)}`,""]),r.push(["","","Saldo",`CHF ${a.balance.toFixed(2)}`,""])),lr({headers:c,rows:r,title:"Finanzübersicht"})}function ur(t){const a=["Titel","Typ","Fälligkeitsdatum","Betrag (CHF)","Status","Notizen"],c=t.map(r=>{const u=(r.dueDate instanceof Date?r.dueDate:new Date(r.dueDate)).toLocaleDateString("de-CH",{day:"2-digit",month:"2-digit",year:"numeric"}),f=r.amount?(r.amount/100).toFixed(2):"",N={termin:"Termin",zahlung:"Zahlung",aufgabe:"Aufgabe"};return[r.title,N[r.type]||r.type,u,f,r.status==="erledigt"?"Erledigt":r.status==="überfällig"?"Überfällig":"Offen",r.notes||""]});pa({headers:a,rows:c,title:"Erinnerungen"},`erinnerungen_${new Date().toISOString().split("T")[0]}.csv`)}const mr=t=>({income:[t("finance.categories.income.salary"),t("finance.categories.income.freelance"),t("finance.categories.income.investment"),t("finance.categories.income.gift"),t("finance.categories.income.other")],expense:[t("finance.categories.expense.food"),t("finance.categories.expense.transport"),t("finance.categories.expense.housing"),t("finance.categories.expense.entertainment"),t("finance.categories.expense.health"),t("finance.categories.expense.clothing"),t("finance.categories.expense.education"),t("finance.categories.expense.bill"),t("finance.categories.expense.other")]});function hr(){const{t}=ge(),{data:a=[],isLoading:c,refetch:r}=Xt(),l=mr(t),[u,f]=g("all"),[N,n]=g(!1),[j,k]=g("ausgabe"),[C,E]=g(""),[S,U]=g("all"),[h,x]=g("all"),[L,W]=g(!1),{containerRef:D,isRefreshing:ae,pullProgress:M,shouldShowIndicator:re}=or({onRefresh:async()=>{await r()},disabled:c}),[T,X]=g({category:"",amount:"",date:$e(new Date),notes:"",paymentMethod:t("finance.paymentMethods.card"),isRecurring:!1,recurrenceRule:"monthly"}),_=ie(()=>a.filter(m=>m.type==="einnahme"),[a]),Z=ie(()=>a.filter(m=>m.type==="ausgabe"),[a]),Q=ie(()=>_.reduce((m,v)=>m+v.amount,0)/100,[_]),R=ie(()=>Z.filter(m=>m.status==="paid").reduce((m,v)=>m+v.amount,0)/100,[Z]),q=Q-R,be=ie(()=>{const m={},v=new Date;for(let P=5;P>=0;P--){const Y=new Date(v.getFullYear(),v.getMonth()-P,1),ue=`${Y.getFullYear()}-${String(Y.getMonth()+1).padStart(2,"0")}`;m[ue]={income:0,expenses:0}}return a.forEach(P=>{const Y=P.date&&typeof P.date=="object"&&"toDate"in P.date?P.date.toDate():new Date(P.date),ue=`${Y.getFullYear()}-${String(Y.getMonth()+1).padStart(2,"0")}`;if(m[ue]){const fe=P.amount/100;P.type==="einnahme"?m[ue].income+=fe:P.type==="ausgabe"&&P.status==="paid"&&(m[ue].expenses+=fe)}}),Object.entries(m).map(([P,Y])=>{const[ue,fe]=P.split("-");return{month:new Date(parseInt(ue),parseInt(fe)-1).toLocaleDateString("de-CH",{month:"short",year:"2-digit"}),income:Math.round(Y.income*100)/100,expenses:Math.round(Y.expenses*100)/100}})},[a]),y=ie(()=>{const m={};return Z.filter(v=>v.status==="paid").forEach(v=>{const P=v.amount/100;m[v.category]=(m[v.category]||0)+P}),Object.entries(m).map(([v,P])=>({name:v,value:Math.round(P*100)/100})).sort((v,P)=>P.value-v.value).slice(0,8)},[Z]),F=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899","#06b6d4"],d=ie(()=>{const m=new Set;return a.forEach(v=>{v.category&&m.add(v.category)}),Array.from(m).sort()},[a]),i=ie(()=>{let m=a;switch(u){case"income":m=_;break;case"expenses":m=Z;break;default:m=a}if(S!=="all"&&(m=m.filter(v=>v.category===S)),h!=="all"){const v=new Date,P=new Date;switch(h){case"week":P.setDate(v.getDate()-7);break;case"month":P.setMonth(v.getMonth()-1);break;case"year":P.setFullYear(v.getFullYear()-1);break}m=m.filter(Y=>(Y.date&&typeof Y.date=="object"&&"toDate"in Y.date?Y.date.toDate():new Date(Y.date))>=P)}if(C.trim()){const v=C.toLowerCase();m=m.filter(P=>P.category?.toLowerCase().includes(v)||P.notes?.toLowerCase().includes(v)||P.paymentMethod?.toLowerCase().includes(v))}return m.sort((v,P)=>{const Y=v.date&&typeof v.date=="object"&&"toDate"in v.date?v.date.toDate():new Date(v.date);return(P.date&&typeof P.date=="object"&&"toDate"in P.date?P.date.toDate():new Date(P.date)).getTime()-Y.getTime()})},[u,a,_,Z,S,h,C]),w=m=>`CHF ${(m/100).toFixed(2)}`,K=m=>{try{return(m?.toDate?m.toDate():new Date(m)).toLocaleDateString("de-CH",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},J=async(m,v)=>{try{await Ba(m,{status:v}),b.success(t(v==="paid"?"finance.markedAsPaid":"finance.statusChanged")),await r()}catch(P){b.error(t("finance.error")+P.message)}},ye=async()=>{if(!T.category||!T.amount){b.error(t("finance.categoryAndAmountRequired"));return}try{await Rt({type:j,category:T.category,amount:Math.round(parseFloat(T.amount)*100),currency:"CHF",date:new Date(T.date),paymentMethod:T.paymentMethod,notes:T.notes,status:j==="ausgabe"?"open":void 0,isRecurring:T.isRecurring,recurrenceRule:T.isRecurring?T.recurrenceRule:void 0}),b.success(j==="einnahme"?"Einnahme hinzugefügt":"Ausgabe hinzugefügt"),pe(),n(!1),X({category:"",amount:"",date:$e(new Date),notes:"",paymentMethod:t("finance.paymentMethods.card"),isRecurring:!1,recurrenceRule:"monthly"}),await r()}catch(m){b.error(Te(m)),me()}},se=m=>{k(m),X({category:"",amount:"",date:$e(new Date),notes:"",paymentMethod:t("finance.paymentMethods.card"),isRecurring:!1,recurrenceRule:"monthly"}),n(!0)};return e.jsxs(Ne,{title:t("nav.finance","Finanzen"),showSidebar:!0,children:[re&&e.jsx("div",{className:"fixed top-16 left-0 right-0 flex items-center justify-center z-40 transition-all duration-200 pointer-events-none",style:{transform:`translateY(${Math.max(-60,M*60-60)}px)`,opacity:Math.min(M*1.5,1)},children:e.jsxs("div",{className:"bg-background border border-border shadow-lg rounded-lg px-4 py-2 flex items-center gap-2",children:[e.jsx(At,{className:`w-5 h-5 text-primary transition-transform ${ae?"animate-spin":""}`,style:{transform:`rotate(${M*180}deg)`}}),e.jsx("span",{className:"text-sm font-medium",children:ae?t("finance.refreshing"):M>=1?t("finance.releaseToRefresh"):t("finance.pullToRefresh")})]})}),e.jsxs("div",{ref:D,className:"h-full overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"mobile-card text-center py-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1.5",children:t("finance.income","Einnahmen")}),e.jsx("p",{className:"text-lg font-semibold status-success",children:Q.toFixed(0)})]}),e.jsxs("div",{className:"mobile-card text-center py-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1.5",children:t("finance.expenses","Ausgaben")}),e.jsx("p",{className:"text-lg font-semibold status-error",children:R.toFixed(0)})]}),e.jsxs("div",{className:"mobile-card text-center py-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1.5",children:t("finance.balance","Saldo")}),e.jsx("p",{className:`text-lg font-semibold ${q>=0?"status-success":"status-error"}`,children:q.toFixed(0)})]})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("button",{onClick:()=>{$(),se("einnahme")},className:"flex-1 mobile-card flex items-center justify-center gap-2 py-4 border-l-2 border-l-green-600 active:opacity-80 transition-opacity min-h-[56px]",children:[e.jsx(jt,{className:"w-5 h-5 status-success"}),e.jsx("span",{className:"font-medium text-sm",children:t("finance.addIncome")})]}),e.jsxs("button",{onClick:()=>{$(),se("ausgabe")},className:"flex-1 mobile-card flex items-center justify-center gap-2 py-4 border-l-2 border-l-red-600 active:opacity-80 transition-opacity min-h-[56px]",children:[e.jsx(kt,{className:"w-5 h-5 status-error"}),e.jsx("span",{className:"font-medium text-sm",children:t("finance.addExpense")})]})]}),e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(ne,{type:"text",placeholder:t("finance.searchPlaceholder"),value:C,onChange:m=>E(m.target.value),className:"pl-10 pr-10 mobile-input"}),C&&e.jsx("button",{onClick:()=>E(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-muted transition-colors","aria-label":t("finance.clearSearch"),children:e.jsx(Le,{className:"w-4 h-4 text-muted-foreground"})})]}),e.jsxs("button",{onClick:()=>{$(),W(!L)},className:"w-full mobile-card flex items-center justify-between py-3 active:opacity-80 transition-opacity",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_a,{className:"w-5 h-5 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-sm",children:"Filter"}),(S!=="all"||h!=="all")&&e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"})]}),e.jsx(je,{className:`w-5 h-5 text-muted-foreground transition-transform ${L?"rotate-90":""}`})]}),L&&e.jsxs("div",{className:"mobile-card p-4 space-y-4 animate-in slide-in-from-top-2",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground mb-2 block",children:"Kategorie"}),e.jsxs(oe,{value:S,onValueChange:U,children:[e.jsx(le,{className:"mobile-input",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"all",children:"Alle Kategorien"}),d.map(m=>e.jsx(I,{value:m,children:m},m))]})]})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground mb-2 block",children:"Zeitraum"}),e.jsxs(oe,{value:h,onValueChange:m=>x(m),children:[e.jsx(le,{className:"mobile-input",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"all",children:"Alle Zeit"}),e.jsx(I,{value:"week",children:"Letzte 7 Tage"}),e.jsx(I,{value:"month",children:"Letzter Monat"}),e.jsx(I,{value:"year",children:"Letztes Jahr"})]})]})]}),(S!=="all"||h!=="all")&&e.jsx("button",{onClick:()=>{$(),U("all"),x("all")},className:"w-full py-2 px-4 rounded-lg bg-muted text-foreground font-medium active:opacity-80 transition-opacity",children:"Filter zurücksetzen"})]})]}),e.jsx("div",{className:"flex gap-3 mb-4 overflow-x-auto hide-scrollbar",children:[{key:"all",label:t("finance.all","Alle")},{key:"income",label:t("finance.income","Einnahmen")},{key:"expenses",label:t("finance.expenses","Ausgaben")}].map(m=>e.jsx("button",{onClick:()=>{$(),f(m.key)},className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${u===m.key?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:m.label},m.key))}),be.length>0&&e.jsxs("div",{className:"mobile-card mb-4 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"w-5 h-5 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-base",children:t("finance.monthlyOverview","Monatsübersicht")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{$(),cr(i),pe()},className:"p-2 rounded-lg bg-muted hover:bg-muted/80 transition-colors","aria-label":"Als CSV exportieren",children:e.jsx(it,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{$(),dr(i,{income:Q,expenses:R,balance:q}),pe()},className:"p-2 rounded-lg bg-muted hover:bg-muted/80 transition-colors","aria-label":"Als PDF exportieren",children:e.jsx(it,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"h-[250px] w-full",children:e.jsx(Gt,{width:"100%",height:"100%",children:e.jsxs(Bn,{data:be,margin:{top:10,right:10,left:-20,bottom:5},children:[e.jsx(In,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),e.jsx(zn,{dataKey:"month",fontSize:11,tickLine:!1,axisLine:!1,tick:{fill:"hsl(var(--muted-foreground))"}}),e.jsx(Ln,{fontSize:11,tickLine:!1,axisLine:!1,tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:m=>`${m}`}),e.jsx(Vt,{formatter:m=>[`CHF ${m.toFixed(2)}`,""],contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",fontSize:"12px"},labelStyle:{color:"hsl(var(--foreground))",fontWeight:600}}),e.jsx(Mn,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"circle"}),e.jsx(Ut,{dataKey:"income",name:t("finance.income","Einnahmen"),fill:"#22c55e",radius:[4,4,0,0],isAnimationActive:!0}),e.jsx(Ut,{dataKey:"expenses",name:t("finance.expenses","Ausgaben"),fill:"#ef4444",radius:[4,4,0,0],isAnimationActive:!0})]})})})]}),y.length>0&&u==="expenses"&&e.jsxs("div",{className:"mobile-card mb-4 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(wt,{className:"w-5 h-5 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold text-base",children:t("finance.categoryBreakdown","Ausgaben nach Kategorie")})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"h-[200px] w-full",children:e.jsx(Gt,{width:"100%",height:"100%",children:e.jsxs(qn,{children:[e.jsx(On,{data:y,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",isAnimationActive:!0,children:y.map((m,v)=>e.jsx(Hn,{fill:F[v%F.length]},`cell-${v}`))}),e.jsx(Vt,{formatter:m=>[`CHF ${m.toFixed(2)}`,""],contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",fontSize:"12px"}})]})})}),e.jsx("div",{className:"space-y-2",children:y.slice(0,6).map((m,v)=>{const P=R>0?m.value/R*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:F[v%F.length]}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:m.name}),e.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[P.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full",style:{width:`${P}%`,backgroundColor:F[v%F.length]}})}),e.jsxs("span",{className:"text-xs font-medium text-foreground min-w-[60px] text-right",children:["CHF ",m.value.toFixed(2)]})]})]})]},m.name)})})]})]}),c?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("common.loading","Laden...")}):i.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("finance.noEntries","Keine Einträge")}):e.jsx("div",{className:"space-y-3",children:i.map(m=>{const v=m.type==="einnahme",P=m.status==="paid",Y=[{id:"duplicate",label:t("common.duplicate","Duplizieren"),icon:e.jsx(Xa,{className:"w-4 h-4"}),onClick:async()=>{$();try{await Rt({...m,date:new Date}),b.success(t("common.duplicated","Dupliziert")),pe(),await r()}catch(ue){b.error(Te(ue)),me()}}},{id:"delete",label:t("common.delete","Löschen"),icon:e.jsx(Ie,{className:"w-4 h-4"}),onClick:async()=>{if($(),confirm(t("common.confirmDelete","Möchten Sie wirklich löschen?")))try{await Fa(m.id),b.success(t("common.deleted","Gelöscht")),pe(),await r()}catch(ue){b.error(Te(ue)),me()}},variant:"destructive"}];return e.jsx(Qe,{actions:Y,children:e.jsxs("div",{className:`mobile-card flex items-center justify-between py-3 ${v?"border-l-2 border-l-green-600":"border-l-2 border-l-red-600"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${v?"bg-status-success":"bg-status-error"}`,children:v?e.jsx(jt,{className:"w-5 h-5 status-success"}):e.jsx(kt,{className:"w-5 h-5 status-error"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:m.category}),m.isRecurring&&e.jsx(zt,{className:"w-3 h-3 text-muted-foreground","aria-label":"Wiederkehrend"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:K(m.date)}),m.isRecurring&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Wiederholt: ",m.recurrenceRule==="daily"?"Täglich":m.recurrenceRule==="weekly"?"Wöchentlich":m.recurrenceRule==="monthly"?"Monatlich":m.recurrenceRule==="yearly"?"Jährlich":""]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${v?"status-success":"status-error"}`,children:[v?"+":"-",w(m.amount)]}),!v&&e.jsx("button",{onClick:()=>{$(),J(m.id,P?"open":"paid")},className:`text-xs px-2 py-0.5 rounded mt-1 ${P?"bg-status-success status-success":"bg-status-warning status-warning"}`,"aria-label":`Status für ${m.category} ändern`,"aria-pressed":P,children:P?t("finance.paid","Bezahlt"):t("finance.open","Offen")})]})]})},m.id)})}),N&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-end",children:e.jsxs("div",{className:"bg-background w-full rounded-t-2xl p-6 safe-bottom animate-in slide-in-from-bottom",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:j==="einnahme"?"Neue Einnahme":"Neue Ausgabe"}),e.jsx("button",{onClick:()=>n(!1),className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Kategorie"}),e.jsxs(oe,{value:T.category,onValueChange:m=>X({...T,category:m}),children:[e.jsx(le,{className:"mobile-input mt-1",children:e.jsx(ce,{placeholder:"Kategorie wählen"})}),e.jsx(de,{children:(j==="einnahme"?l.income:l.expense).map(m=>e.jsx(I,{value:m,children:m},m))})]})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Betrag (CHF)"}),e.jsx(ne,{type:"number",value:T.amount,onChange:m=>X({...T,amount:m.target.value}),placeholder:"0.00",className:"mobile-input mt-1",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Datum"}),e.jsx(ne,{type:"text",placeholder:"DD.MM.YYYY",value:rt(T.date),onChange:m=>{const v=st(m.target.value);v&&X({...T,date:v})},onBlur:m=>{!st(m.target.value)&&T.date&&(m.target.value=rt(T.date))},className:"mobile-input mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Zahlungsmethode"}),e.jsxs(oe,{value:T.paymentMethod,onValueChange:m=>X({...T,paymentMethod:m}),children:[e.jsx(le,{className:"mobile-input mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:t("finance.paymentMethods.card"),children:t("finance.paymentMethods.card")}),e.jsx(I,{value:t("finance.paymentMethods.cash"),children:t("finance.paymentMethods.cash")}),e.jsx(I,{value:t("finance.paymentMethods.transfer"),children:t("finance.paymentMethods.transfer")}),e.jsx(I,{value:t("finance.paymentMethods.twint"),children:t("finance.paymentMethods.twint")})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Notizen (optional)"}),e.jsx(ne,{value:T.notes,onChange:m=>X({...T,notes:m.target.value}),placeholder:"Zusätzliche Infos...",className:"mobile-input mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zt,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm font-medium",children:"Wiederkehrend"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatisch wiederholen"})]})]}),e.jsx(ea,{checked:T.isRecurring,onCheckedChange:m=>X({...T,isRecurring:m})})]}),T.isRecurring&&e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Wiederholung"}),e.jsxs(oe,{value:T.recurrenceRule,onValueChange:m=>X({...T,recurrenceRule:m}),children:[e.jsx(le,{className:"mobile-input mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"daily",children:"Täglich"}),e.jsx(I,{value:"weekly",children:"Wöchentlich"}),e.jsx(I,{value:"monthly",children:"Monatlich"}),e.jsx(I,{value:"yearly",children:"Jährlich"})]})]})]}),e.jsx(V,{onClick:ye,className:`w-auto mx-auto mobile-btn mt-4 ${j==="einnahme"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:j==="einnahme"?"Einnahme hinzufügen":"Ausgabe hinzufügen"})]})]})}),!N&&e.jsx("button",{onClick:()=>{$(),se("ausgabe")},className:"fixed right-4 bottom-20 w-14 h-14 rounded-full bg-primary text-primary-foreground shadow-lg flex items-center justify-center active:opacity-80 transition-opacity safe-bottom",children:e.jsx(He,{className:"w-6 h-6"})})]})]})}function pr(){const{t}=ge(),{data:a=[],isLoading:c,refetch:r}=Dt({}),[l,u]=g(!1),[f,N]=g(!1),[n,j]=g(!1),[k,C]=g({title:"",amount:"",dueDate:$e(new Date),iban:"",reference:""}),E=Re(null),S=Re(null),U=Re(null),h=Re(null),x=ie(()=>a.filter(y=>y.type==="zahlung"),[a]),L=x.filter(y=>y.status==="offen"),W=x.filter(y=>y.status==="erledigt"),D=L.reduce((y,F)=>y+(F.amount||0),0)/100,ae=y=>`CHF ${(y/100).toFixed(2)}`,M=y=>{try{return(y?.toDate?y.toDate():new Date(y)).toLocaleDateString("de-CH",{day:"2-digit",month:"2-digit"})}catch{return"N/A"}},re=async y=>{try{await vt(y,{status:"erledigt"}),b.success("Als bezahlt markiert"),pe(),await r()}catch(F){b.error(Te(F)),me()}},T=y=>{try{return(y?.toDate?y.toDate():new Date(y))<new Date}catch{return!1}},X=async()=>{if(!k.title||!k.amount){b.error(t("bills.titleAndAmountRequired")),me();return}try{await ta({title:k.title,type:"zahlung",status:"offen",amount:Math.round(parseFloat(k.amount)*100),dueDate:k.dueDate?new Date(k.dueDate):new Date,description:k.iban?`IBAN: ${k.iban}`:""}),b.success(t("bills.created")),pe(),u(!1),C({title:"",amount:"",dueDate:$e(new Date),iban:"",reference:""}),await r()}catch(y){b.error(Te(y)),me()}},_=async()=>{try{const y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});h.current=y,E.current&&(E.current.srcObject=y),N(!0),pe()}catch(y){b.error(Te(y)),me()}},Z=()=>{h.current&&(h.current.getTracks().forEach(y=>y.stop()),h.current=null),N(!1)},Q=()=>{if(E.current&&S.current){const y=E.current,F=S.current;F.width=y.videoWidth,F.height=y.videoHeight;const d=F.getContext("2d");d&&(d.drawImage(y,0,0),q(F))}},R=y=>{const F=y.target.files?.[0];if(F){const d=new FileReader;d.onload=i=>{const w=new Image;w.onload=()=>{if(S.current){const K=S.current;K.width=w.width,K.height=w.height;const J=K.getContext("2d");J&&(J.drawImage(w,0,0),q(K))}},w.src=i.target?.result},d.readAsDataURL(F)}},q=async y=>{j(!0);try{if("BarcodeDetector"in window){const d=await new window.BarcodeDetector({formats:["qr_code"]}).detect(y);if(d.length>0){const i=d[0].rawValue;be(i),b.success("QR-Code erkannt"),Z()}else b.error("Kein QR-Code gefunden")}else b.error("QR-Code Erkennung nicht unterstützt")}catch{b.error(t("bills.scanError"))}finally{j(!1)}},be=y=>{try{const F=y.split(`
`);if(F.length>10){const d=F[3]||"",i=F[18]||"",w=F[28]||"";C(K=>({...K,iban:d,amount:i,reference:w,title:"Gescannte Rechnung"})),u(!0)}}catch{}};return e.jsxs(Ne,{title:t("nav.bills","Rechnungen"),showSidebar:!0,children:[e.jsxs("div",{className:"mobile-card mb-4 bg-primary text-primary-foreground",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Ze,{className:"w-6 h-6 opacity-70"}),e.jsx("p",{className:"text-sm opacity-70 font-medium",children:t("bills.openAmount","Offene Rechnungen")})]}),e.jsxs("p",{className:"text-3xl font-semibold mb-2",children:["CHF ",D.toFixed(2)]}),e.jsxs("p",{className:"text-sm opacity-60",children:[L.length," ",t("bills.bills")]})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("button",{onClick:()=>{$(),u(!0)},className:"flex-1 mobile-card flex items-center justify-center gap-2 py-4 active:opacity-80 transition-opacity min-h-[56px]","aria-label":t("bills.addManually"),children:[e.jsx(He,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium text-sm",children:t("bills.manual")})]}),e.jsxs("button",{onClick:()=>{$(),_()},className:"flex-1 mobile-card flex items-center justify-center gap-2 py-4 active:opacity-80 transition-opacity min-h-[56px]","aria-label":t("bills.scanQrCode"),children:[e.jsx(en,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium text-sm",children:t("bills.scanButton")})]}),e.jsxs("button",{onClick:()=>{$(),U.current?.click()},className:"flex-1 mobile-card flex items-center justify-center gap-2 py-4 active:opacity-80 transition-opacity min-h-[56px]","aria-label":t("bills.uploadImage"),children:[e.jsx(la,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium text-sm",children:t("bills.image")})]}),e.jsx("input",{ref:U,type:"file",accept:"image/*",className:"hidden",onChange:R})]}),c?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(y=>e.jsx("div",{className:"mobile-card p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ee,{className:"h-4 w-3/4"}),e.jsx(ee,{className:"h-3 w-1/2"})]}),e.jsx(ee,{className:"h-8 w-20 ml-4"})]})},y))}):L.length===0?e.jsxs("div",{className:"mobile-card text-center py-8",children:[e.jsx(Ae,{className:"w-10 h-10 mx-auto status-success mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:t("bills.allPaid","Alle Rechnungen bezahlt")})]}):e.jsx("div",{className:"space-y-3 mb-4",children:L.map(y=>{const F=T(y.dueDate),d=[{id:"mark-paid",label:t("bills.markAsPaid","Als bezahlt markieren"),icon:e.jsx(tt,{className:"w-4 h-4"}),onClick:()=>{$(),re(y.id)}}];return e.jsx(Qe,{actions:d,children:e.jsxs("div",{className:`mobile-card flex items-center justify-between py-3 ${F?"border-l-2 border-l-red-500":""}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${F?"bg-status-error":"bg-status-warning"}`,children:F?e.jsx(sa,{className:"w-5 h-5 status-error"}):e.jsx(ot,{className:"w-5 h-5 status-warning"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:y.title}),e.jsxs("p",{className:`text-xs ${F?"status-error":"text-muted-foreground"}`,children:[F?"Überfällig • ":"",M(y.dueDate)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold",children:ae(y.amount||0)}),e.jsx("button",{onClick:()=>{$(),re(y.id)},className:"w-10 h-10 rounded-lg bg-status-success flex items-center justify-center status-success active:opacity-80 transition-opacity","aria-label":`${y.title} als bezahlt markieren`,children:e.jsx(Ae,{className:"w-5 h-5"})})]})]})},y.id)})}),W.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wider",children:[t("bills.paid")," (",W.length,")"]}),e.jsx("div",{className:"space-y-3 opacity-60",children:W.slice(0,5).map(y=>e.jsxs("div",{className:"mobile-card flex items-center justify-between py-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-status-success flex items-center justify-center",children:e.jsx(Ae,{className:"w-5 h-5 status-success"})}),e.jsx("p",{className:"font-medium line-through",children:y.title})]}),e.jsx("p",{className:"text-muted-foreground",children:ae(y.amount||0)})]},y.id))})]}),e.jsx("canvas",{ref:S,className:"hidden"}),l&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-end",children:e.jsxs("div",{className:"bg-background w-full rounded-t-2xl p-6 safe-bottom animate-in slide-in-from-bottom",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Neue Rechnung"}),e.jsx("button",{onClick:()=>u(!1),className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Titel"}),e.jsx(ne,{value:k.title,onChange:y=>C({...k,title:y.target.value}),placeholder:"z.B. Stromrechnung",className:"mobile-input mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Betrag (CHF)"}),e.jsx(ne,{type:"number",value:k.amount,onChange:y=>C({...k,amount:y.target.value}),placeholder:"0.00",className:"mobile-input mt-1",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"Fälligkeitsdatum"}),e.jsx(ne,{type:"text",placeholder:"DD.MM.YYYY",value:rt(k.dueDate),onChange:y=>{const F=st(y.target.value);F&&C({...k,dueDate:F})},onBlur:y=>{!st(y.target.value)&&k.dueDate&&(y.target.value=rt(k.dueDate))},className:"mobile-input mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-sm text-muted-foreground",children:"IBAN (optional)"}),e.jsx(ne,{value:k.iban,onChange:y=>C({...k,iban:y.target.value}),placeholder:"CH...",className:"mobile-input mt-1"})]}),e.jsx(V,{onClick:X,className:"w-auto mx-auto mobile-btn bg-primary text-primary-foreground mt-4",children:"Rechnung hinzufügen"})]})]})}),f&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsx("h2",{className:"text-white font-medium",children:t("bills.scanQrCode")}),e.jsx("button",{onClick:Z,className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-white"})})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-64 h-64 border-2 border-white/50 rounded-lg relative",children:n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg",children:e.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})})})})]}),e.jsx("div",{className:"p-6 flex justify-center safe-bottom",children:e.jsx("button",{onClick:Q,disabled:n,className:"w-16 h-16 rounded-full bg-white flex items-center justify-center active:opacity-80 transition-opacity",children:e.jsx(tn,{className:"w-8 h-8 text-black"})})})]}),!l&&!f&&e.jsx("button",{onClick:()=>u(!0),className:"fixed right-4 bottom-20 w-14 h-14 rounded-full bg-primary text-primary-foreground shadow-lg flex items-center justify-center active:opacity-80 transition-opacity safe-bottom",children:e.jsx(He,{className:"w-6 h-6"})})]})}async function gr(){return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission!=="denied"?await Notification.requestPermission():"denied":(console.warn("This browser does not support notifications"),"denied")}function fr(){return"Notification"in window&&"serviceWorker"in navigator}function br(){return"Notification"in window?Notification.permission:"denied"}async function ga(){if(!("serviceWorker"in navigator))return console.warn("Service Workers not supported"),null;try{const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return console.log("[Notifications] Service Worker registered:",t.scope),t.addEventListener("updatefound",()=>{const a=t.installing;a&&a.addEventListener("statechange",()=>{a.state==="installed"&&navigator.serviceWorker.controller&&console.log("[Notifications] New service worker available")})}),t}catch(t){return console.error("[Notifications] Service Worker registration failed:",t),null}}function Et(){return typeof window<"u"&&"PublicKeyCredential"in window&&typeof PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable=="function"}async function fa(){if(!Et())return!1;try{return await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch(t){return console.error("[Biometric] Error checking availability:",t),!1}}async function xr(t,a){if(!Et())return{success:!1,error:"Biometric authentication is not supported on this device"};if(!await fa())return{success:!1,error:"No biometric authenticator available on this device"};try{const r={challenge:Uint8Array.from(crypto.getRandomValues(new Uint8Array(32))),rp:{name:"Nexo",id:window.location.hostname},user:{id:Uint8Array.from(t,f=>f.charCodeAt(0)),name:a,displayName:a},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},timeout:6e4,attestation:"direct"},l=await navigator.credentials.create({publicKey:r});return l?{success:!0,credentialId:Buffer.from(l.rawId).toString("base64")}:{success:!1,error:"Failed to create credential"}}catch(r){console.error("[Biometric] Registration error:",r);let l="Biometric registration failed";return r.name==="NotAllowedError"?l="Biometric registration was cancelled or denied":r.name==="InvalidStateError"?l="Biometric credential already exists":r.name==="NotSupportedError"&&(l="Biometric authentication is not supported"),{success:!1,error:l}}}function vr(){const{settings:t,updateSettings:a,isLoading:c}=ut(),[r,l]=g(()=>t?.biometricEnabled!==void 0?t.biometricEnabled:localStorage.getItem("biometricEnabled")==="true");return ve(()=>{if(!c&&t?.biometricEnabled!==void 0)l(t.biometricEnabled);else if(!c&&!t?.biometricEnabled){const N=localStorage.getItem("biometricEnabled");if(N!==null){const n=N==="true";a({biometricEnabled:n}).then(()=>{localStorage.removeItem("biometricEnabled")}).catch(console.error),l(n)}}},[t?.biometricEnabled,c,a]),{isEnabled:r,enable:async()=>{l(!0),await a({biometricEnabled:!0}),localStorage.setItem("biometricEnabled","true")},disable:async()=>{l(!1),await a({biometricEnabled:!1}),localStorage.setItem("biometricEnabled","false")}}}function yr(){const{t}=ge(),[a,c]=g("default"),[r,l]=g(!1),[u,f]=g(!1);ve(()=>{l(fr()),c(br())},[]);const N=async()=>{f(!0);try{$(),await ga();const k=await gr();c(k),k==="granted"?(b.success(t("settings.notificationsEnabled","Benachrichtigungen aktiviert")),pe()):k==="denied"?(b.error(t("settings.notificationsBlocked","Benachrichtigungen wurden blockiert. Bitte in den Browser-Einstellungen aktivieren.")),me()):b.info(t("settings.permissionRequired","Berechtigung erforderlich"))}catch{b.error(t("settings.errors.enableNotificationsError","Fehler beim Aktivieren der Benachrichtigungen")),me()}finally{f(!1)}};if(!r)return e.jsx("div",{className:"mobile-card w-full flex items-center justify-between py-4 opacity-50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(St,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.notifications","Benachrichtigungen")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("settings.notSupported","Nicht unterstützt")})]})]})});const n=a==="granted",j=a==="denied";return e.jsxs("div",{className:"mobile-card w-full py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(St,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.notifications","Benachrichtigungen")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n?t("settings.enabled","Aktiviert"):j?t("settings.blocked","Blockiert"):t("settings.notEnabled","Nicht aktiviert")})]})]}),n?e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4 text-white"})}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center",children:e.jsx(Le,{className:"w-4 h-4 text-white"})})]}),!n&&e.jsx("button",{onClick:N,disabled:u||j,className:"w-full py-2 px-4 rounded-lg bg-primary text-primary-foreground font-medium active:opacity-80 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:u?t("settings.enabling","Aktiviere..."):j?t("settings.enableInBrowser","In Browser-Einstellungen aktivieren"):t("settings.enableNotifications","Benachrichtigungen aktivieren")}),j&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t("settings.enableInBrowserDescription","Bitte öffnen Sie die Browser-Einstellungen und erlauben Sie Benachrichtigungen für diese Website.")})]})}function Nr(){const{t}=ge(),{user:a}=Ge(),{isEnabled:c,enable:r,disable:l}=vr(),[u,f]=g(!1),[N,n]=g(!1),[j,k]=g(!1);ve(()=>{(async()=>{const S=Et();if(f(S),S){const U=await fa();n(U)}})()},[]);const C=async()=>{if(c){await l(),b.success(t("settings.biometricDisabled","Biometrische Authentifizierung deaktiviert")),pe();return}if(!N){b.error(t("settings.biometricNotAvailable","Biometrische Authentifizierung ist auf diesem Gerät nicht verfügbar")),me();return}k(!0);try{if($(),!a){b.error(t("settings.errors.pleaseLogin","Bitte melden Sie sich zuerst an")),me();return}const E=await xr(a.uid,a.displayName||a.email||t("common.user","User"));E.success?(await r(),b.success(t("settings.biometricEnabled","Biometrische Authentifizierung aktiviert")),pe()):(b.error(E.error||t("settings.biometricActivationFailed","Aktivierung fehlgeschlagen")),me())}catch{b.error(t("settings.errors.enableBiometricError","Fehler beim Aktivieren der biometrischen Authentifizierung")),me()}finally{k(!1)}};return u?e.jsxs("div",{className:"mobile-card w-full py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(cn,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.biometric","Biometrische Authentifizierung")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c?t("settings.enabled","Aktiviert"):N?t("settings.available","Verfügbar"):t("settings.notAvailable","Nicht verfügbar")})]})]}),c?e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4 text-white"})}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center",children:e.jsx(Le,{className:"w-4 h-4 text-white"})})]}),N&&e.jsx("button",{onClick:C,disabled:j||isLoading,className:"w-full py-2 px-4 rounded-lg bg-primary text-primary-foreground font-medium active:opacity-80 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:j?t("settings.registering","Registriere..."):isLoading?t("common.loading","Lädt..."):c?t("settings.disableBiometric","Biometrische Authentifizierung deaktivieren"):t("settings.enableBiometric","Biometrische Authentifizierung aktivieren")}),!N&&u&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t("settings.noBiometricSensor","Kein biometrischer Sensor auf diesem Gerät gefunden.")})]}):null}function jr(){const{t}=ge(),{settings:a,updateSettings:c,isLoading:r}=ut(),[l,u]=g(!1),[f,N]=g(""),[n,j]=g(!1);ve(()=>{a?.weatherLocation&&N(a.weatherLocation)},[a]);const k=async()=>{if(!f.trim()){b.error(t("settings.errors.enterLocation","Bitte geben Sie einen Ort ein")),me();return}j(!0);try{$(),await c({weatherLocation:f.trim()}),u(!1),b.success(t("settings.locationSaved","Standort gespeichert")),pe()}catch{b.error(t("settings.errors.saveLocationError","Fehler beim Speichern des Standorts")),me()}finally{j(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>u(!0),className:"mobile-card w-full flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(dn,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.weatherLocation","Wetter-Standort")}),e.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:a?.weatherLocation||"Zurich, CH"})]})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground"})]}),l&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-end",onClick:()=>u(!1),children:e.jsxs("div",{className:"bg-background w-full rounded-t-2xl p-6 safe-bottom animate-in slide-in-from-bottom",onClick:C=>C.stopPropagation(),children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("settings.weatherLocation","Wetter-Standort")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:t("settings.locationLabel",'Ort (z.B. "Zurich, CH" oder "Berlin, DE")')}),e.jsx("input",{type:"text",value:f,onChange:C=>N(C.target.value),placeholder:"Zurich, CH",className:"w-full px-4 py-3 rounded-lg bg-muted border border-border focus:outline-none focus:ring-2 focus:ring-primary",disabled:n||r}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t("settings.locationFormat",'Format: Stadt, Ländercode (z.B. "Zurich, CH", "Berlin, DE", "New York, US")')})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:k,disabled:n||r||!f.trim(),className:"flex-1 py-3 rounded-lg bg-primary text-primary-foreground font-medium active:opacity-80 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",children:n?t("common.saving","Speichere..."):t("common.save","Speichern")}),e.jsx("button",{onClick:()=>u(!1),className:"px-6 py-3 rounded-lg bg-muted text-foreground font-medium active:opacity-80 transition-opacity min-h-[44px]",children:t("common.cancel","Abbrechen")})]})]})]})})]})}function wr(){const{t,i18n:a}=ge(),[,c]=Me(),{user:r,logout:l}=Ge(),{theme:u,toggleTheme:f}=ha(),{isEnabled:N,toggle:n}=Ia(),[j,k]=g(!1),[C,E]=g(!1),{settings:S,updateSettings:U}=ut(),h=[{code:"de",label:"Deutsch",flag:"🇨🇭"},{code:"en",label:"English",flag:"🇬🇧"},{code:"es",label:"Español",flag:"🇪🇸"},{code:"nl",label:"Nederlands",flag:"🇳🇱"},{code:"it",label:"Italiano",flag:"🇮🇹"},{code:"fr",label:"Français",flag:"🇫🇷"}],x=async M=>{a.changeLanguage(M),await U({language:M}),k(!1),b.success(t("settings.languageChanged","Sprache geändert")),pe()};ve(()=>{if(S?.language)a.changeLanguage(S.language);else{const M=localStorage.getItem("language");M&&(U({language:M}).then(()=>{localStorage.removeItem("language")}).catch(console.error),a.changeLanguage(M))}},[S?.language,U,a]);const L=()=>{f&&(f(),b.success(u==="dark"?t("settings.lightThemeActivated","Helles Design aktiviert"):t("settings.darkThemeActivated","Dunkles Design aktiviert"))),E(!1)},W=async()=>{try{l&&await l(),b.success(t("auth.loggedOut","Abgemeldet")),c("/login")}catch{b.error(t("auth.errors.logoutError","Fehler beim Abmelden"))}},D=()=>{c("/login")},ae=async()=>{await U({preferDesktop:!0}),window.location.href="https://nexo-jtsky100.web.app"};return e.jsxs(Ne,{title:t("nav.settings","Einstellungen"),showSidebar:!0,children:[e.jsxs("div",{className:"mobile-card mb-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-lg bg-muted flex items-center justify-center overflow-hidden",children:r?.photoURL?e.jsx("img",{src:r.photoURL,alt:"",className:"w-14 h-14 object-cover"}):e.jsx(ca,{className:"w-7 h-7 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold truncate",children:r?.displayName||t("common.user","Benutzer")}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:r?.email||t("auth.notLoggedIn","Nicht angemeldet")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>k(!0),className:"mobile-card w-full flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(an,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.language","Sprache")}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx("span",{children:h.find(M=>M.code===a.language)?.flag||"🌐"}),e.jsx("span",{children:h.find(M=>M.code===a.language)?.label||a.language.toUpperCase()})]})]})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsxs("button",{onClick:()=>E(!0),className:"mobile-card w-full flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:u==="dark"?e.jsx(Lt,{className:"w-5 h-5 text-foreground"}):e.jsx(Mt,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.theme","Design")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:u==="dark"?t("settings.dark","Dunkel"):t("settings.light","Hell")})]})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsxs("button",{onClick:ae,className:"mobile-card w-full flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(nn,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.desktopVersion","Desktop Version")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("settings.desktopVersionDescription","Zur vollständigen Ansicht")})]})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsx(yr,{}),e.jsx(Nr,{}),e.jsx(jr,{}),e.jsxs("div",{className:"mobile-card w-full py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(rn,{className:"w-5 h-5 text-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:t("settings.glassEffect","Glass-Effekt")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N?t("settings.enabled","Aktiviert"):t("settings.disabled","Deaktiviert")})]})]}),N?e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4 text-white"})}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center",children:e.jsx(Le,{className:"w-4 h-4 text-white"})})]}),e.jsx("button",{onClick:()=>{n(),$(),b.success(N?t("settings.glassEffectDisabled","Glass-Effekt deaktiviert"):t("settings.glassEffectEnabled","Glass-Effekt aktiviert"))},className:"w-full py-2 px-4 rounded-lg bg-primary text-primary-foreground font-medium active:opacity-80 transition-opacity min-h-[44px]",children:N?t("settings.disableGlassEffect","Glass-Effekt deaktivieren"):t("settings.enableGlassEffect","Glass-Effekt aktivieren")})]}),e.jsxs("button",{onClick:()=>b.info(t("settings.comingSoon","Kommt in einer zukünftigen Version")),className:"mobile-card w-full flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(sn,{className:"w-5 h-5 text-foreground"})}),e.jsx("div",{className:"text-left",children:e.jsx("p",{className:"font-medium",children:t("settings.privacy","Datenschutz")})})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground"})]}),e.jsxs("button",{onClick:()=>c("/help"),className:"mobile-card w-full flex items-center justify-between active:opacity-80 transition-opacity py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(da,{className:"w-5 h-5 text-foreground"})}),e.jsx("div",{className:"text-left",children:e.jsx("p",{className:"font-medium",children:t("settings.help","Hilfe")})})]}),e.jsx(je,{className:"w-5 h-5 text-muted-foreground"})]})]}),e.jsxs("button",{onClick:r?W:D,className:"mobile-card w-full flex items-center gap-3 mt-6 active:opacity-80 transition-opacity",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r?"bg-status-error":"bg-primary"}`,children:r?e.jsx(on,{className:"w-5 h-5 status-error"}):e.jsx(ln,{className:"w-5 h-5 text-primary-foreground"})}),e.jsx("p",{className:`font-medium ${r?"status-error":"text-primary"}`,children:r?t("auth.logout","Abmelden"):t("auth.login","Anmelden")})]}),e.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:"Nexo Mobile v1.0.0"}),j&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-end",onClick:()=>k(!1),children:e.jsxs("div",{className:"bg-background w-full rounded-t-2xl p-6 safe-bottom animate-in slide-in-from-bottom",onClick:M=>M.stopPropagation(),children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("settings.language","Sprache")}),e.jsx("div",{className:"space-y-2",children:h.map(M=>e.jsxs("button",{onClick:()=>x(M.code),className:`w-full mobile-card flex items-center justify-between p-4 ${a.language===M.code?"border-2 border-primary bg-primary/5":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:M.flag}),e.jsx("span",{className:"font-medium",children:M.label})]}),a.language===M.code&&e.jsx(Ae,{className:"w-5 h-5 text-primary"})]},M.code))}),e.jsx("button",{onClick:()=>k(!1),className:"w-full mt-4 py-3 text-muted-foreground font-medium",children:t("common.cancel","Abbrechen")})]})}),C&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-end",onClick:()=>E(!1),children:e.jsxs("div",{className:"bg-background w-full rounded-t-2xl p-6 safe-bottom animate-in slide-in-from-bottom",onClick:M=>M.stopPropagation(),children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:t("settings.theme","Design")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{u==="dark"?L():E(!1)},className:`w-full mobile-card flex items-center justify-between ${u==="light"?"border-primary":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t("settings.light","Hell")})]}),u==="light"&&e.jsx(Ae,{className:"w-5 h-5"})]}),e.jsxs("button",{onClick:()=>{u==="light"?L():E(!1)},className:`w-full mobile-card flex items-center justify-between ${u==="dark"?"border-primary":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Lt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:t("settings.dark","Dunkel")})]}),u==="dark"&&e.jsx(Ae,{className:"w-5 h-5"})]})]}),e.jsx("button",{onClick:()=>E(!1),className:"w-full mt-4 py-3 text-muted-foreground font-medium",children:t("common.cancel","Abbrechen")})]})})]})}function ba(t){return!t||t.trim()===""?{valid:!1,error:"E-Mail-Adresse ist erforderlich"}:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?{valid:!0}:{valid:!1,error:"Ungültige E-Mail-Adresse"}}function xa(t,a=6){return!t||t.length===0?{valid:!1,error:"Passwort ist erforderlich"}:t.length<a?{valid:!1,error:`Passwort muss mindestens ${a} Zeichen lang sein`}:{valid:!0}}function kr(){const[,t]=Me(),{loginWithGoogle:a,loginWithEmail:c}=Ge(),{t:r}=ge(),[l,u]=g(""),[f,N]=g(""),[n,j]=g(!1),k=async()=>{if(!n){j(!0);try{await a(),t("/")}catch(E){const S=E.message||r("aiChat.unknownError","Ein unbekannter Fehler ist aufgetreten");b.error(r("auth.login.googleError",{message:S}))}finally{j(!1)}}},C=async E=>{E.preventDefault();const S=ba(l);if(!S.valid){b.error(S.error||r("auth.register.validation.emailInvalid"));return}const U=xa(f);if(!U.valid){b.error(U.error||r("auth.register.validation.passwordInvalid"));return}if(!n){j(!0);try{await c(l,f),t("/")}catch(h){b.error(h.message||r("auth.login.error",{message:"Login fehlgeschlagen"}))}finally{j(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:[e.jsx("div",{className:"w-full max-w-md flex justify-end mb-4",children:e.jsx(LanguageSwitcher,{})}),e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-primary flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:"N"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Nexo"}),e.jsx("p",{className:"text-muted-foreground mb-8 text-center",children:r("auth.login.continueText")}),e.jsxs("button",{type:"button",onClick:k,disabled:n,className:"w-full h-12 px-6 rounded-lg font-medium text-base border border-border bg-background flex items-center justify-center gap-3 active:bg-muted disabled:opacity-50 mb-4",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r(n?"common.loading":"auth.login.googleButton")]}),e.jsxs("div",{className:"flex items-center gap-4 w-full mb-4",children:[e.jsx("div",{className:"flex-1 h-px bg-border"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r("auth.login.or")}),e.jsx("div",{className:"flex-1 h-px bg-border"})]}),e.jsxs("form",{onSubmit:C,className:"w-full space-y-3",children:[e.jsx("input",{type:"email",placeholder:r("auth.login.email"),value:l,onChange:E=>u(E.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"}),e.jsx("input",{type:"password",placeholder:r("auth.login.password"),value:f,onChange:E=>N(E.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"}),e.jsx("button",{type:"submit",disabled:n,className:"w-full h-12 px-6 rounded-lg font-medium text-base bg-primary text-primary-foreground active:opacity-80 disabled:opacity-50",children:r(n?"common.loading":"auth.login.submit")})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-6 text-center",children:[r("auth.login.noAccount")," ",e.jsx("button",{type:"button",onClick:()=>t("/register"),className:"text-primary underline font-medium",children:r("auth.login.registerLink")})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-4 text-center",children:e.jsx("a",{href:"https://nexo-jtsky100.web.app",className:"text-primary underline",children:r("auth.login.desktopLink")})})]})}function Sr({...t}){return e.jsx(Gn,{"data-slot":"dropdown-menu",...t})}function Cr({...t}){return e.jsx(Vn,{"data-slot":"dropdown-menu-trigger",...t})}function Dr({className:t,sideOffset:a=4,...c}){return e.jsx(Un,{children:e.jsx(Kn,{"data-slot":"dropdown-menu-content",sideOffset:a,className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...c})})}function Ar({className:t,inset:a,variant:c="default",...r}){return e.jsx(Wn,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":c,className:Ve("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function Er(){const{i18n:t}=ge(),a=[{code:"de",label:"Deutsch",flag:"🇨🇭"},{code:"en",label:"English",flag:"🇬🇧"},{code:"es",label:"Español",flag:"🇪🇸"},{code:"nl",label:"Nederlands",flag:"🇳🇱"},{code:"it",label:"Italiano",flag:"🇮🇹"},{code:"fr",label:"Français",flag:"🇫🇷"}],c=l=>{t.changeLanguage(l)},r=a.find(l=>l.code===t.language)||a[0];return e.jsxs(Sr,{children:[e.jsx(Cr,{asChild:!0,children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center gap-2 rounded-md text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 px-3",children:e.jsx("span",{className:"text-lg",children:r.flag})})}),e.jsx(Dr,{align:"end",className:"w-48",children:a.map(l=>e.jsxs(Ar,{onClick:()=>c(l.code),className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:l.flag}),e.jsx("span",{children:l.label})]}),t.language===l.code&&e.jsx(Ae,{className:"w-4 h-4 text-primary"})]},l.code))})]})}function Pr(){const[,t]=Me(),{signUp:a,signInWithGoogle:c}=Ge(),{t:r}=ge(),[l,u]=g(""),[f,N]=g(""),[n,j]=g(""),[k,C]=g(""),[E,S]=g(!1),U=async x=>{if(x.preventDefault(),!l.trim()){b.error(r("auth.register.validation.nameRequired"));return}const L=ba(f);if(!L.valid){b.error(L.error||r("auth.register.validation.emailInvalid"));return}const W=xa(n);if(!W.valid){b.error(W.error||r("auth.register.validation.passwordInvalid"));return}if(n!==k){b.error(r("auth.register.validation.passwordsNotMatch"));return}if(!E){S(!0);try{await a(f,n,l.trim()),b.success(r("auth.register.success")),t("/onboarding")}catch(D){b.error(D.message||r("auth.register.error",{message:""}))}finally{S(!1)}}},h=async()=>{if(!E){S(!0);try{await c(),b.success(r("auth.register.googleSuccess")),t("/onboarding")}catch(x){const L=x.message||r("aiChat.unknownError","Ein unbekannter Fehler ist aufgetreten");b.error(r("auth.register.googleError",{message:L}))}finally{S(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:[e.jsx("div",{className:"w-full max-w-md flex justify-end mb-4",children:e.jsx(Er,{})}),e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-primary flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-3xl font-bold text-primary-foreground",children:"N"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:r("auth.register.title")}),e.jsx("p",{className:"text-muted-foreground mb-8 text-center",children:r("auth.register.description")}),e.jsxs("button",{type:"button",onClick:h,disabled:E,className:"w-full h-12 px-6 rounded-lg font-medium text-base border border-border bg-background flex items-center justify-center gap-3 active:bg-muted disabled:opacity-50 mb-4",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),r(E?"common.loading":"auth.register.googleButton")]}),e.jsxs("div",{className:"flex items-center gap-4 w-full mb-4",children:[e.jsx("div",{className:"flex-1 h-px bg-border"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r("auth.register.or")}),e.jsx("div",{className:"flex-1 h-px bg-border"})]}),e.jsxs("form",{onSubmit:U,className:"w-full space-y-3",children:[e.jsx("input",{type:"text",placeholder:r("auth.register.name"),value:l,onChange:x=>u(x.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0}),e.jsx("input",{type:"email",placeholder:r("auth.register.email"),value:f,onChange:x=>N(x.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0}),e.jsx("input",{type:"password",placeholder:r("auth.register.password"),value:n,onChange:x=>j(x.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0}),e.jsx("input",{type:"password",placeholder:r("auth.register.confirmPassword"),value:k,onChange:x=>C(x.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0}),e.jsx("button",{type:"submit",disabled:E,className:"w-full h-12 px-6 rounded-lg font-medium text-base bg-primary text-primary-foreground active:opacity-80 disabled:opacity-50",children:r(E?"auth.register.submitting":"auth.register.submit")})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-6 text-center",children:[r("auth.register.hasAccount")," ",e.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-primary underline font-medium",children:r("auth.register.loginLink")})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-4 text-center",children:e.jsx("a",{href:"https://nexo-jtsky100.web.app",className:"text-primary underline",children:r("auth.register.desktopLink")})})]})}function Wt({size:t=200,opacity:a=.1,className:c=""}){const{theme:r}=ha(),l=r==="dark"||typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches&&r!=="light";return e.jsx("img",{src:"/brand-assets/png/transparent/ninja-base.png",alt:"NEXO Ninja Mascot",className:c,style:{width:t,height:t,opacity:a,filter:l?"invert(1)":"none"}})}function Rr(){const t=new Date().getMonth()+1;return t===12||t<=2?"winter":t>=3&&t<=5?"spring":t>=6&&t<=8?"summer":"autumn"}const Tr={winter:{background:"bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100",accent:"border-blue-200",icon:"❄",iconColor:"text-blue-400"},spring:{background:"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100",accent:"border-green-200",icon:"🌸",iconColor:"text-green-400"},summer:{background:"bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-100",accent:"border-orange-200",icon:"☀",iconColor:"text-orange-400"},autumn:{background:"bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100",accent:"border-orange-300",icon:"🍂",iconColor:"text-orange-500"}};function Fr({children:t}){const a=Rr(),c=Tr[a];return e.jsxs("div",{className:`min-h-screen ${c.background} p-6 relative overflow-hidden`,children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-8 right-4",children:e.jsx(Wt,{size:200,opacity:.08})}),e.jsx("div",{className:"absolute bottom-8 left-4",children:e.jsx(Wt,{size:150,opacity:.05})})]}),e.jsx("div",{className:`absolute top-4 right-4 text-2xl opacity-15 ${c.iconColor} z-10`,children:c.icon}),e.jsx("div",{className:"relative z-10",children:t})]})}const $t={CH:[{value:"spielgruppe",label:"Spielgruppe",age:1,level:"preschool",careType:"spielgruppe"},{value:"kita",label:"Kita / Kindertagesstätte",age:2,level:"preschool",careType:"kita"},{value:"kindergarten",label:"Kindergarten",age:4,level:"preschool",careType:"kindergarten"},{value:"hort",label:"Hort (Nachmittagsbetreuung)",age:6,level:"care",careType:"hort"},{value:"1",label:"1. Klasse",age:6,level:"primary"},{value:"2",label:"2. Klasse",age:7,level:"primary"},{value:"3",label:"3. Klasse",age:8,level:"primary"},{value:"4",label:"4. Klasse",age:9,level:"primary"},{value:"5",label:"5. Klasse",age:10,level:"primary"},{value:"6",label:"6. Klasse",age:11,level:"primary"},{value:"7",label:"7. Klasse (Oberstufe)",age:12,level:"secondary1"},{value:"8",label:"8. Klasse (Oberstufe)",age:13,level:"secondary1"},{value:"9",label:"9. Klasse (Oberstufe)",age:14,level:"secondary1"},{value:"10",label:"10. Klasse (Gymnasium, Berufsschule, etc.)",age:15,level:"secondary2"},{value:"11",label:"11. Klasse (Gymnasium, Berufsschule, etc.)",age:16,level:"secondary2"},{value:"12",label:"12. Klasse (Gymnasium, Berufsschule, etc.)",age:17,level:"secondary2"},{value:"13",label:"13. Klasse (Gymnasium, Berufsschule, etc.)",age:18,level:"secondary2"}],DE:[{value:"spielgruppe",label:"Spielgruppe",age:1,level:"preschool",careType:"spielgruppe"},{value:"kita",label:"Kita / Kindertagesstätte",age:2,level:"preschool",careType:"kita"},{value:"kindergarten",label:"Kindergarten",age:4,level:"preschool",careType:"kindergarten"},{value:"hort",label:"Hort (Nachmittagsbetreuung)",age:6,level:"care",careType:"hort"},{value:"1",label:"1. Klasse (Grundschule)",age:6,level:"primary"},{value:"2",label:"2. Klasse (Grundschule)",age:7,level:"primary"},{value:"3",label:"3. Klasse (Grundschule)",age:8,level:"primary"},{value:"4",label:"4. Klasse (Grundschule)",age:9,level:"primary"},{value:"5_haupt",label:"5. Klasse (Hauptschule)",age:10,level:"secondary1",schoolType:"hauptschule"},{value:"6_haupt",label:"6. Klasse (Hauptschule)",age:11,level:"secondary1",schoolType:"hauptschule"},{value:"7_haupt",label:"7. Klasse (Hauptschule)",age:12,level:"secondary1",schoolType:"hauptschule"},{value:"8_haupt",label:"8. Klasse (Hauptschule)",age:13,level:"secondary1",schoolType:"hauptschule"},{value:"9_haupt",label:"9. Klasse (Hauptschule)",age:14,level:"secondary1",schoolType:"hauptschule"},{value:"10_haupt",label:"10. Klasse (Hauptschule)",age:15,level:"secondary1",schoolType:"hauptschule"},{value:"5_real",label:"5. Klasse (Realschule)",age:10,level:"secondary1",schoolType:"realschule"},{value:"6_real",label:"6. Klasse (Realschule)",age:11,level:"secondary1",schoolType:"realschule"},{value:"7_real",label:"7. Klasse (Realschule)",age:12,level:"secondary1",schoolType:"realschule"},{value:"8_real",label:"8. Klasse (Realschule)",age:13,level:"secondary1",schoolType:"realschule"},{value:"9_real",label:"9. Klasse (Realschule)",age:14,level:"secondary1",schoolType:"realschule"},{value:"10_real",label:"10. Klasse (Realschule)",age:15,level:"secondary1",schoolType:"realschule"},{value:"5_gym",label:"5. Klasse (Gymnasium)",age:10,level:"secondary1",schoolType:"gymnasium"},{value:"6_gym",label:"6. Klasse (Gymnasium)",age:11,level:"secondary1",schoolType:"gymnasium"},{value:"7_gym",label:"7. Klasse (Gymnasium)",age:12,level:"secondary1",schoolType:"gymnasium"},{value:"8_gym",label:"8. Klasse (Gymnasium)",age:13,level:"secondary1",schoolType:"gymnasium"},{value:"9_gym",label:"9. Klasse (Gymnasium)",age:14,level:"secondary1",schoolType:"gymnasium"},{value:"10_gym",label:"10. Klasse (Gymnasium)",age:15,level:"secondary1",schoolType:"gymnasium"},{value:"11_gym",label:"11. Klasse (Gymnasium Oberstufe)",age:16,level:"secondary2",schoolType:"gymnasium"},{value:"12_gym",label:"12. Klasse (Gymnasium Oberstufe)",age:17,level:"secondary2",schoolType:"gymnasium"},{value:"13_gym",label:"13. Klasse (Gymnasium Oberstufe)",age:18,level:"secondary2",schoolType:"gymnasium"},{value:"5_gesamt",label:"5. Klasse (Gesamtschule)",age:10,level:"secondary1",schoolType:"gesamtschule"},{value:"6_gesamt",label:"6. Klasse (Gesamtschule)",age:11,level:"secondary1",schoolType:"gesamtschule"},{value:"7_gesamt",label:"7. Klasse (Gesamtschule)",age:12,level:"secondary1",schoolType:"gesamtschule"},{value:"8_gesamt",label:"8. Klasse (Gesamtschule)",age:13,level:"secondary1",schoolType:"gesamtschule"},{value:"9_gesamt",label:"9. Klasse (Gesamtschule)",age:14,level:"secondary1",schoolType:"gesamtschule"},{value:"10_gesamt",label:"10. Klasse (Gesamtschule)",age:15,level:"secondary1",schoolType:"gesamtschule"},{value:"11_gesamt",label:"11. Klasse (Gesamtschule)",age:16,level:"secondary2",schoolType:"gesamtschule"},{value:"12_gesamt",label:"12. Klasse (Gesamtschule)",age:17,level:"secondary2",schoolType:"gesamtschule"},{value:"13_gesamt",label:"13. Klasse (Gesamtschule)",age:18,level:"secondary2",schoolType:"gesamtschule"}],AT:[{value:"spielgruppe",label:"Spielgruppe",age:1,level:"preschool",careType:"spielgruppe"},{value:"kita",label:"Kita / Kindertagesstätte",age:2,level:"preschool",careType:"kita"},{value:"kindergarten",label:"Kindergarten",age:4,level:"preschool",careType:"kindergarten"},{value:"hort",label:"Hort (Nachmittagsbetreuung)",age:6,level:"care",careType:"hort"},{value:"1",label:"1. Klasse (Volksschule)",age:6,level:"primary"},{value:"2",label:"2. Klasse (Volksschule)",age:7,level:"primary"},{value:"3",label:"3. Klasse (Volksschule)",age:8,level:"primary"},{value:"4",label:"4. Klasse (Volksschule)",age:9,level:"primary"},{value:"5",label:"5. Klasse (Mittelschule/AHS Unterstufe)",age:10,level:"secondary1"},{value:"6",label:"6. Klasse (Mittelschule/AHS Unterstufe)",age:11,level:"secondary1"},{value:"7",label:"7. Klasse (Mittelschule/AHS Unterstufe)",age:12,level:"secondary1"},{value:"8",label:"8. Klasse (Mittelschule/AHS Unterstufe)",age:13,level:"secondary1"},{value:"9",label:"9. Klasse (AHS Oberstufe, BHS, etc.)",age:14,level:"secondary2"},{value:"10",label:"10. Klasse (AHS Oberstufe, BHS, etc.)",age:15,level:"secondary2"},{value:"11",label:"11. Klasse (AHS Oberstufe, BHS, etc.)",age:16,level:"secondary2"},{value:"12",label:"12. Klasse (AHS Oberstufe, BHS, etc.)",age:17,level:"secondary2"},{value:"13",label:"13. Klasse (AHS Oberstufe, BHS, etc.)",age:18,level:"secondary2"}],GB:[{value:"playgroup",label:"Playgroup",age:1,level:"preschool",careType:"spielgruppe"},{value:"nursery",label:"Nursery",age:2,level:"preschool",careType:"kita"},{value:"reception",label:"Reception",age:4,level:"preschool",careType:"kindergarten"},{value:"afterschool",label:"After School Club",age:5,level:"care",careType:"hort"},{value:"year1",label:"Year 1",age:5,level:"primary"},{value:"year2",label:"Year 2",age:6,level:"primary"},{value:"year3",label:"Year 3",age:7,level:"primary"},{value:"year4",label:"Year 4",age:8,level:"primary"},{value:"year5",label:"Year 5",age:9,level:"primary"},{value:"year6",label:"Year 6",age:10,level:"primary"},{value:"year7",label:"Year 7",age:11,level:"secondary1"},{value:"year8",label:"Year 8",age:12,level:"secondary1"},{value:"year9",label:"Year 9",age:13,level:"secondary1"},{value:"year10",label:"Year 10",age:14,level:"secondary1"},{value:"year11",label:"Year 11",age:15,level:"secondary1"},{value:"year12",label:"Year 12 (A-Levels, etc.)",age:16,level:"secondary2"},{value:"year13",label:"Year 13 (A-Levels, etc.)",age:17,level:"secondary2"}],NL:[{value:"peuterspeelzaal",label:"Peuterspeelzaal",age:1,level:"preschool",careType:"spielgruppe"},{value:"kinderdagverblijf",label:"Kinderdagverblijf",age:2,level:"preschool",careType:"kita"},{value:"kleuterschool",label:"Kleuterschool",age:4,level:"preschool",careType:"kindergarten"},{value:"bso",label:"Buitenschoolse opvang (BSO)",age:4,level:"care",careType:"hort"},{value:"groep1",label:"Groep 1",age:4,level:"primary"},{value:"groep2",label:"Groep 2",age:5,level:"primary"},{value:"groep3",label:"Groep 3",age:6,level:"primary"},{value:"groep4",label:"Groep 4",age:7,level:"primary"},{value:"groep5",label:"Groep 5",age:8,level:"primary"},{value:"groep6",label:"Groep 6",age:9,level:"primary"},{value:"groep7",label:"Groep 7",age:10,level:"primary"},{value:"groep8",label:"Groep 8",age:11,level:"primary"},{value:"klas1",label:"Klas 1",age:12,level:"secondary1"},{value:"klas2",label:"Klas 2",age:13,level:"secondary1"},{value:"klas3",label:"Klas 3",age:14,level:"secondary1"},{value:"klas4",label:"Klas 4",age:15,level:"secondary1"},{value:"klas5",label:"Klas 5 (VWO, HAVO, etc.)",age:16,level:"secondary2"},{value:"klas6",label:"Klas 6 (VWO, HAVO, etc.)",age:17,level:"secondary2"}],FR:[{value:"garde",label:"Garde d'enfants",age:1,level:"preschool",careType:"spielgruppe"},{value:"creche",label:"Crèche",age:2,level:"preschool",careType:"kita"},{value:"maternelle",label:"École maternelle",age:3,level:"preschool",careType:"kindergarten"},{value:"garderie",label:"Garderie (après l'école)",age:6,level:"care",careType:"hort"},{value:"cp",label:"CP (Cours Préparatoire)",age:6,level:"primary"},{value:"ce1",label:"CE1 (Cours Élémentaire 1)",age:7,level:"primary"},{value:"ce2",label:"CE2 (Cours Élémentaire 2)",age:8,level:"primary"},{value:"cm1",label:"CM1 (Cours Moyen 1)",age:9,level:"primary"},{value:"cm2",label:"CM2 (Cours Moyen 2)",age:10,level:"primary"},{value:"6eme",label:"6ème",age:11,level:"secondary1"},{value:"5eme",label:"5ème",age:12,level:"secondary1"},{value:"4eme",label:"4ème",age:13,level:"secondary1"},{value:"3eme",label:"3ème",age:14,level:"secondary1"},{value:"2nde",label:"2nde (Lycée)",age:15,level:"secondary2"},{value:"1ere",label:"1ère (Lycée)",age:16,level:"secondary2"},{value:"terminale",label:"Terminale (Baccalauréat, etc.)",age:17,level:"secondary2"}],US:[{value:"daycare",label:"Daycare",age:1,level:"preschool",careType:"spielgruppe"},{value:"preschool",label:"Preschool",age:3,level:"preschool",careType:"kita"},{value:"kindergarten_us",label:"Kindergarten",age:5,level:"preschool",careType:"kindergarten"},{value:"afterschool_us",label:"After School Program",age:6,level:"care",careType:"hort"},{value:"1st",label:"1st Grade",age:6,level:"primary"},{value:"2nd",label:"2nd Grade",age:7,level:"primary"},{value:"3rd",label:"3rd Grade",age:8,level:"primary"},{value:"4th",label:"4th Grade",age:9,level:"primary"},{value:"5th",label:"5th Grade",age:10,level:"primary"},{value:"6th",label:"6th Grade",age:11,level:"secondary1"},{value:"7th",label:"7th Grade",age:12,level:"secondary1"},{value:"8th",label:"8th Grade",age:13,level:"secondary1"},{value:"9th",label:"9th Grade (Freshman)",age:14,level:"secondary2"},{value:"10th",label:"10th Grade (Sophomore)",age:15,level:"secondary2"},{value:"11th",label:"11th Grade (Junior)",age:16,level:"secondary2"},{value:"12th",label:"12th Grade (Senior)",age:17,level:"secondary2"}],IT:[{value:"asilo_nido",label:"Asilo nido",age:1,level:"preschool",careType:"spielgruppe"},{value:"nido",label:"Nido",age:2,level:"preschool",careType:"kita"},{value:"materna",label:"Scuola materna",age:3,level:"preschool",careType:"kindergarten"},{value:"doposcuola",label:"Doposcuola",age:6,level:"care",careType:"hort"},{value:"1",label:"1a elementare",age:6,level:"primary"},{value:"2",label:"2a elementare",age:7,level:"primary"},{value:"3",label:"3a elementare",age:8,level:"primary"},{value:"4",label:"4a elementare",age:9,level:"primary"},{value:"5",label:"5a elementare",age:10,level:"primary"},{value:"6",label:"1a media",age:11,level:"secondary1"},{value:"7",label:"2a media",age:12,level:"secondary1"},{value:"8",label:"3a media",age:13,level:"secondary1"},{value:"9",label:"1a superiore (Liceo, Istituto tecnico, etc.)",age:14,level:"secondary2"},{value:"10",label:"2a superiore (Liceo, Istituto tecnico, etc.)",age:15,level:"secondary2"},{value:"11",label:"3a superiore (Liceo, Istituto tecnico, etc.)",age:16,level:"secondary2"},{value:"12",label:"4a superiore (Liceo, Istituto tecnico, etc.)",age:17,level:"secondary2"},{value:"13",label:"5a superiore (Liceo, Istituto tecnico, etc.)",age:18,level:"secondary2"}],ES:[{value:"guarderia",label:"Guardería",age:1,level:"preschool",careType:"spielgruppe"},{value:"escuela_infantil",label:"Escuela infantil",age:2,level:"preschool",careType:"kita"},{value:"educacion_infantil",label:"Educación Infantil",age:3,level:"preschool",careType:"kindergarten"},{value:"extraescolares",label:"Actividades extraescolares",age:6,level:"care",careType:"hort"},{value:"1",label:"1º Primaria",age:6,level:"primary"},{value:"2",label:"2º Primaria",age:7,level:"primary"},{value:"3",label:"3º Primaria",age:8,level:"primary"},{value:"4",label:"4º Primaria",age:9,level:"primary"},{value:"5",label:"5º Primaria",age:10,level:"primary"},{value:"6",label:"6º Primaria",age:11,level:"primary"},{value:"7",label:"1º ESO",age:12,level:"secondary1"},{value:"8",label:"2º ESO",age:13,level:"secondary1"},{value:"9",label:"3º ESO",age:14,level:"secondary1"},{value:"10",label:"4º ESO",age:15,level:"secondary1"},{value:"11",label:"1º Bachillerato",age:16,level:"secondary2"},{value:"12",label:"2º Bachillerato",age:17,level:"secondary2"}],BE:[{value:"peuteropvang",label:"Peuteropvang",age:1,level:"preschool",careType:"spielgruppe"},{value:"kinderdagverblijf_be",label:"Kinderdagverblijf",age:2,level:"preschool",careType:"kita"},{value:"kleuterschool_be",label:"Kleuterschool",age:4,level:"preschool",careType:"kindergarten"},{value:"bso_be",label:"Buitenschoolse opvang",age:6,level:"care",careType:"hort"},{value:"1",label:"1e leerjaar",age:6,level:"primary"},{value:"2",label:"2e leerjaar",age:7,level:"primary"},{value:"3",label:"3e leerjaar",age:8,level:"primary"},{value:"4",label:"4e leerjaar",age:9,level:"primary"},{value:"5",label:"5e leerjaar",age:10,level:"primary"},{value:"6",label:"6e leerjaar",age:11,level:"primary"},{value:"7",label:"1e middelbaar (ASO, TSO, BSO, etc.)",age:12,level:"secondary1"},{value:"8",label:"2e middelbaar (ASO, TSO, BSO, etc.)",age:13,level:"secondary1"},{value:"9",label:"3e middelbaar (ASO, TSO, BSO, etc.)",age:14,level:"secondary1"},{value:"10",label:"4e middelbaar (ASO, TSO, BSO, etc.)",age:15,level:"secondary1"},{value:"11",label:"5e middelbaar (ASO, TSO, BSO, etc.)",age:16,level:"secondary2"},{value:"12",label:"6e middelbaar (ASO, TSO, BSO, etc.)",age:17,level:"secondary2"}]};function Br(t){return $t[t]||$t.CH}const Zt={CH:{regionLabel:"Kanton",taxClasses:[{value:"single",label:"Ledig"},{value:"married",label:"Verheiratet"},{value:"married_separated",label:"Verheiratet getrennt"},{value:"widowed",label:"Verwitwet"}],additionalFields:[{key:"municipality",label:"Gemeinde",type:"text",required:!1,placeholder:"Gemeinde (optional)"}]},DE:{regionLabel:"Bundesland",taxClasses:[{value:"class1",label:"Steuerklasse I (Ledig)"},{value:"class2",label:"Steuerklasse II (Alleinerziehend)"},{value:"class3",label:"Steuerklasse III (Verheiratet, höheres Einkommen)"},{value:"class4",label:"Steuerklasse IV (Verheiratet, gleiches Einkommen)"},{value:"class5",label:"Steuerklasse V (Verheiratet, niedrigeres Einkommen)"},{value:"class6",label:"Steuerklasse VI (Nebentätigkeit)"}],additionalFields:[{key:"religion",label:"Konfession (für Kirchensteuer)",type:"select",required:!1,options:[{value:"none",label:"Keine"},{value:"catholic",label:"Katholisch"},{value:"protestant",label:"Evangelisch"},{value:"other",label:"Andere"}]}]},AT:{regionLabel:"Bundesland",taxClasses:[{value:"single",label:"Ledig"},{value:"married",label:"Verheiratet"},{value:"married_separated",label:"Verheiratet getrennt"},{value:"widowed",label:"Verwitwet"}],additionalFields:[{key:"religion",label:"Konfession (für Kirchensteuer)",type:"select",required:!1,options:[{value:"none",label:"Keine"},{value:"catholic",label:"Katholisch"},{value:"protestant",label:"Evangelisch"},{value:"other",label:"Andere"}]}]},GB:{regionLabel:"Region",taxClasses:[{value:"single",label:"Single"},{value:"married_joint",label:"Married (Joint)"},{value:"married_separate",label:"Married (Separate)"},{value:"widowed",label:"Widowed"}],additionalFields:[{key:"postcode",label:"Postcode",type:"text",required:!1,placeholder:"Postcode (für lokale Steuern)"},{key:"councilTaxBand",label:"Council Tax Band",type:"select",required:!1,options:[{value:"A",label:"Band A"},{value:"B",label:"Band B"},{value:"C",label:"Band C"},{value:"D",label:"Band D"},{value:"E",label:"Band E"},{value:"F",label:"Band F"},{value:"G",label:"Band G"},{value:"H",label:"Band H"}]}]},NL:{regionLabel:"Provincie",taxClasses:[{value:"single",label:"Alleenstaand"},{value:"married",label:"Gehuwd"},{value:"partner",label:"Partnerschap"}],additionalFields:[{key:"gemeente",label:"Gemeente",type:"text",required:!1,placeholder:"Gemeente (optional)"}]},FR:{regionLabel:"Region",taxClasses:[{value:"single",label:"Célibataire"},{value:"married",label:"Marié(e)"},{value:"divorced",label:"Divorcé(e)"},{value:"widowed",label:"Veuf(ve)"}]},US:{regionLabel:"State",taxClasses:[{value:"single",label:"Single"},{value:"married_joint",label:"Married Filing Jointly"},{value:"married_separate",label:"Married Filing Separately"},{value:"head_of_household",label:"Head of Household"},{value:"qualifying_widow",label:"Qualifying Widow(er)"}],additionalFields:[{key:"county",label:"County",type:"text",required:!1,placeholder:"County (optional)"}]},IT:{regionLabel:"Regione",taxClasses:[{value:"single",label:"Celibe/Nubile"},{value:"married",label:"Coniugato/a"},{value:"divorced",label:"Divorziato/a"},{value:"widowed",label:"Vedovo/a"}],additionalFields:[{key:"comune",label:"Comune",type:"text",required:!1,placeholder:"Comune (optional)"}]},ES:{regionLabel:"Comunidad Autónoma",taxClasses:[{value:"single",label:"Soltero/a"},{value:"married",label:"Casado/a"},{value:"divorced",label:"Divorciado/a"},{value:"widowed",label:"Viudo/a"}],additionalFields:[{key:"provincia",label:"Provincia",type:"text",required:!1,placeholder:"Provincia (optional)"}]},BE:{regionLabel:"Regio",taxClasses:[{value:"single",label:"Alleenstaand"},{value:"married",label:"Gehuwd"},{value:"divorced",label:"Gescheiden"},{value:"widowed",label:"Weduwe/Weduwnaar"}],additionalFields:[{key:"gemeente",label:"Gemeente",type:"text",required:!1,placeholder:"Gemeente (optional)"}]}};function xt(t){return Zt[t]||Zt.CH}const Ct=[{code:"CH",name:"Schweiz",regionLabel:"Kanton",regions:[{code:"ZH",name:"Zürich"},{code:"BE",name:"Bern"},{code:"LU",name:"Luzern"},{code:"UR",name:"Uri"},{code:"SZ",name:"Schwyz"},{code:"OW",name:"Obwalden"},{code:"NW",name:"Nidwalden"},{code:"GL",name:"Glarus"},{code:"ZG",name:"Zug"},{code:"FR",name:"Freiburg"},{code:"SO",name:"Solothurn"},{code:"BS",name:"Basel-Stadt"},{code:"BL",name:"Basel-Landschaft"},{code:"SH",name:"Schaffhausen"},{code:"AR",name:"Appenzell Ausserrhoden"},{code:"AI",name:"Appenzell Innerrhoden"},{code:"SG",name:"St. Gallen"},{code:"GR",name:"Graubünden"},{code:"AG",name:"Aargau"},{code:"TG",name:"Thurgau"},{code:"TI",name:"Tessin"},{code:"VD",name:"Waadt"},{code:"VS",name:"Wallis"},{code:"NE",name:"Neuenburg"},{code:"GE",name:"Genf"},{code:"JU",name:"Jura"}]},{code:"DE",name:"Deutschland",regionLabel:"Bundesland",regions:[{code:"BW",name:"Baden-Württemberg"},{code:"BY",name:"Bayern"},{code:"BE",name:"Berlin"},{code:"BB",name:"Brandenburg"},{code:"HB",name:"Bremen"},{code:"HH",name:"Hamburg"},{code:"HE",name:"Hessen"},{code:"MV",name:"Mecklenburg-Vorpommern"},{code:"NI",name:"Niedersachsen"},{code:"NW",name:"Nordrhein-Westfalen"},{code:"RP",name:"Rheinland-Pfalz"},{code:"SL",name:"Saarland"},{code:"SN",name:"Sachsen"},{code:"ST",name:"Sachsen-Anhalt"},{code:"SH",name:"Schleswig-Holstein"},{code:"TH",name:"Thüringen"}]},{code:"AT",name:"Österreich",regionLabel:"Bundesland",regions:[{code:"BG",name:"Burgenland"},{code:"KA",name:"Kärnten"},{code:"NO",name:"Niederösterreich"},{code:"OO",name:"Oberösterreich"},{code:"SB",name:"Salzburg"},{code:"ST",name:"Steiermark"},{code:"TI",name:"Tirol"},{code:"VB",name:"Vorarlberg"},{code:"WI",name:"Wien"}]},{code:"FR",name:"Frankreich",regionLabel:"Region",regions:[{code:"ARA",name:"Auvergne-Rhône-Alpes"},{code:"BFC",name:"Bourgogne-Franche-Comté"},{code:"BRE",name:"Bretagne"},{code:"CVL",name:"Centre-Val de Loire"},{code:"COR",name:"Corse"},{code:"GES",name:"Grand Est"},{code:"HDF",name:"Hauts-de-France"},{code:"IDF",name:"Île-de-France"},{code:"NOR",name:"Normandie"},{code:"NAQ",name:"Nouvelle-Aquitaine"},{code:"OCC",name:"Occitanie"},{code:"PDL",name:"Pays de la Loire"},{code:"PAC",name:"Provence-Alpes-Côte d'Azur"}]},{code:"GB",name:"Vereinigtes Königreich",regionLabel:"Region",regions:[{code:"ENG",name:"England"},{code:"SCT",name:"Schottland"},{code:"WLS",name:"Wales"},{code:"NIR",name:"Nordirland"}]},{code:"IT",name:"Italien",regionLabel:"Region",regions:[{code:"ABR",name:"Abruzzen"},{code:"BAS",name:"Basilikata"},{code:"CAL",name:"Kalabrien"},{code:"CAM",name:"Kampanien"},{code:"EMR",name:"Emilia-Romagna"},{code:"FVG",name:"Friaul-Julisch Venetien"},{code:"LAZ",name:"Latium"},{code:"LIG",name:"Ligurien"},{code:"LOM",name:"Lombardei"},{code:"MAR",name:"Marken"},{code:"MOL",name:"Molise"},{code:"PIE",name:"Piemont"},{code:"PUG",name:"Apulien"},{code:"SAR",name:"Sardinien"},{code:"SIC",name:"Sizilien"},{code:"TOS",name:"Toskana"},{code:"TAA",name:"Trentino-Südtirol"},{code:"UMB",name:"Umbrien"},{code:"VAO",name:"Aostatal"},{code:"VEN",name:"Venetien"}]},{code:"ES",name:"Spanien",regionLabel:"Autonome Gemeinschaft",regions:[{code:"AND",name:"Andalusien"},{code:"ARA",name:"Aragonien"},{code:"AST",name:"Asturien"},{code:"BAL",name:"Balearen"},{code:"CAN",name:"Kanarische Inseln"},{code:"CANT",name:"Kantabrien"},{code:"CLM",name:"Kastilien-La Mancha"},{code:"CYL",name:"Kastilien und León"},{code:"CAT",name:"Katalonien"},{code:"EXT",name:"Extremadura"},{code:"GAL",name:"Galicien"},{code:"MAD",name:"Madrid"},{code:"MUR",name:"Murcia"},{code:"NAV",name:"Navarra"},{code:"PV",name:"Baskenland"},{code:"RIO",name:"La Rioja"},{code:"VAL",name:"Valencia"}]},{code:"NL",name:"Niederlande",regionLabel:"Provinz",regions:[{code:"DR",name:"Drenthe"},{code:"FL",name:"Flevoland"},{code:"FR",name:"Friesland"},{code:"GE",name:"Gelderland"},{code:"GR",name:"Groningen"},{code:"LI",name:"Limburg"},{code:"NB",name:"Noord-Brabant"},{code:"NH",name:"Noord-Holland"},{code:"OV",name:"Overijssel"},{code:"UT",name:"Utrecht"},{code:"ZE",name:"Zeeland"},{code:"ZH",name:"Zuid-Holland"}]},{code:"BE",name:"Belgien",regionLabel:"Region",regions:[{code:"BRU",name:"Brüssel"},{code:"VLG",name:"Flandern"},{code:"WAL",name:"Wallonien"}]},{code:"US",name:"Vereinigte Staaten",regionLabel:"Bundesstaat",regions:[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"Kalifornien"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}]}],nt=new Date().getFullYear(),Ir=Array.from({length:10},(t,a)=>nt-a),zr={CH:{language:"de",currency:"CHF"},DE:{language:"de",currency:"EUR"},AT:{language:"de",currency:"EUR"},FR:{language:"fr",currency:"EUR"},GB:{language:"en",currency:"GBP"},IT:{language:"it",currency:"EUR"},ES:{language:"es",currency:"EUR"},NL:{language:"nl",currency:"EUR"},BE:{language:"nl",currency:"EUR"},US:{language:"en",currency:"USD"}},Lr=[{code:"de",name:"Deutsch"},{code:"en",name:"English"},{code:"es",name:"Español"},{code:"nl",name:"Nederlands"},{code:"it",name:"Italiano"},{code:"fr",name:"Français"}],Qt={CH:{street:{key:"street",label:"Strasse",placeholder:"Musterstrasse",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Hausnummer",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"PLZ",placeholder:"8000",required:!0,type:"text",validation:t=>/^\d{4}$/.test(t),maxLength:4},city:{key:"city",label:"Ort",placeholder:"Zürich",required:!0,type:"text"}},DE:{street:{key:"street",label:"Strasse",placeholder:"Musterstrasse",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Hausnummer",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"PLZ",placeholder:"10115",required:!0,type:"text",validation:t=>/^\d{5}$/.test(t),maxLength:5},city:{key:"city",label:"Ort",placeholder:"Berlin",required:!0,type:"text"}},AT:{street:{key:"street",label:"Strasse",placeholder:"Musterstrasse",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Hausnummer",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"PLZ",placeholder:"1010",required:!0,type:"text",validation:t=>/^\d{4}$/.test(t),maxLength:4},city:{key:"city",label:"Ort",placeholder:"Wien",required:!0,type:"text"}},FR:{street:{key:"street",label:"Rue",placeholder:"Rue de la Paix",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Numéro",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"Code postal",placeholder:"75001",required:!0,type:"text",validation:t=>/^\d{5}$/.test(t),maxLength:5},city:{key:"city",label:"Ville",placeholder:"Paris",required:!0,type:"text"}},GB:{street:{key:"street",label:"Street Address",placeholder:"10 Downing Street",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"House Number",placeholder:"10",required:!1,type:"text"},postalCode:{key:"postalCode",label:"Postcode",placeholder:"SW1A 2AA",required:!0,type:"text",validation:t=>/^[A-Z]{1,2}\d{1,2}[A-Z]?\s?\d[A-Z]{2}$/i.test(t)},city:{key:"city",label:"City/Town",placeholder:"London",required:!0,type:"text"},county:{key:"county",label:"County (optional)",placeholder:"Greater London",required:!1,type:"text"}},IT:{street:{key:"street",label:"Via",placeholder:"Via Roma",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Numero civico",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"CAP",placeholder:"00118",required:!0,type:"text",validation:t=>/^\d{5}$/.test(t),maxLength:5},city:{key:"city",label:"Città",placeholder:"Roma",required:!0,type:"text"}},ES:{street:{key:"street",label:"Calle",placeholder:"Calle Mayor",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Número",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"Código postal",placeholder:"28001",required:!0,type:"text",validation:t=>/^\d{5}$/.test(t),maxLength:5},city:{key:"city",label:"Ciudad",placeholder:"Madrid",required:!0,type:"text"}},NL:{street:{key:"street",label:"Straat",placeholder:"Hoofdstraat",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Huisnummer",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"Postcode",placeholder:"1234 AB",required:!0,type:"text",validation:t=>/^\d{4}\s?[A-Z]{2}$/i.test(t),maxLength:7},city:{key:"city",label:"Plaats",placeholder:"Amsterdam",required:!0,type:"text"}},BE:{street:{key:"street",label:"Rue/Straat",placeholder:"Rue de la Loi",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"Numéro/Huisnummer",placeholder:"12",required:!0,type:"text"},postalCode:{key:"postalCode",label:"Code postal/Postcode",placeholder:"1000",required:!0,type:"text",validation:t=>/^\d{4}$/.test(t),maxLength:4},city:{key:"city",label:"Ville/Stad",placeholder:"Bruxelles",required:!0,type:"text"}},US:{street:{key:"street",label:"Street Address",placeholder:"123 Main Street",required:!0,type:"text"},houseNumber:{key:"houseNumber",label:"House Number (optional)",placeholder:"123",required:!1,type:"text"},apartment:{key:"apartment",label:"Apartment/Unit (optional)",placeholder:"Apt 4B",required:!1,type:"text"},city:{key:"city",label:"City",placeholder:"New York",required:!0,type:"text"},state:{key:"state",label:"State",placeholder:"Select State",required:!0,type:"select",options:Ct.find(t=>t.code==="US")?.regions.map(t=>({value:t.code,label:t.name}))||[]},postalCode:{key:"postalCode",label:"ZIP Code",placeholder:"10001",required:!0,type:"text",validation:t=>/^\d{5}(-\d{4})?$/.test(t),maxLength:10}}};function Yt(t){let a=t.replace(/[^\d+]/g,"");a.includes("+")&&a.indexOf("+")>0&&(a=a.replace(/\+/g,""),a="+"+a),a.length>0&&a[0]!=="+"&&a.includes("+")&&(a=a.replace(/\+/g,""));const c=a.replace(/\D/g,""),r=a.startsWith("+");if(!c)return r?"+":"";let l=r?"+":"",u=c;if(r&&u.length>0){let f=1;if(u.startsWith("1")&&u.length>1)f=1;else if(u.length>=2){const N=u[0];if(N>="2"&&N<="9")f=2;else if(N==="2"&&u.length>=3){const n=u.substring(0,3);parseInt(n)>=200&&parseInt(n)<=299?f=3:f=2}else f=2}l+=u.substring(0,f),u=u.substring(f)}if(u.length>0)for(l+=" ";u.length>0;){let f=3;u.length<=4?f=2:u.length<=6?f=3:u.length<=8?f=(l.split(" ").length-1)%2===0?3:2:f=3;const N=u.substring(0,Math.min(f,u.length));l+=N,u=u.substring(N.length),u.length>0&&(l+=" ")}return l}function Mr(){const[,t]=Me(),{user:a}=Ge(),[c,r]=g(1),[l,u]=g(!1),[f,N]=g(!0),{t:n,i18n:j}=ge(),k=()=>{switch(c){case 1:return n("onboarding.steps.personalData");case 2:return n("onboarding.steps.taxInfo");case 3:return n("onboarding.steps.children");case 4:return n("onboarding.steps.household");case 5:return n("onboarding.steps.preferences");default:return""}},[C,E]=g(""),[S,U]=g("CHF"),[h,x]=g(""),[L,W]=g(""),[D,ae]=g(""),[M,re]=g(""),[T,X]=g(""),[_,Z]=g(""),[Q,R]=g(""),[q,be]=g(""),[y,F]=g(""),[d,i]=g("CH"),[w,K]=g(""),[J,ye]=g(""),[se,m]=g({}),[v,P]=g(1),[Y,ue]=g(nt.toString()),[fe,Ye]=g(0),[p,B]=g([]),[G,xe]=g(0),[te,O]=g([]),[Ee,Fe]=g("de"),[ht,va]=g("system"),[pt,ya]=g(!0),[gt,Na]=g(!0);ve(()=>{(async()=>{if(!a){t("/login");return}try{const s=await ua(at(et,"users",a.uid));if(s.exists()&&s.data().onboardingCompleted){t("/");return}a.displayName&&E(a.displayName)}catch(s){console.error("Error checking onboarding status:",s)}finally{N(!1)}})()},[a,t]),ve(()=>{fe>0?B(o=>{const s=[...o];for(;s.length<fe;)s.push({firstName:"",lastName:""});for(;s.length>fe;)s.pop();return s}):B([])},[fe]),ve(()=>{G>0?O(o=>{const s=[...o];for(;s.length<G;)s.push({firstName:"",lastName:"",birthDate:"",relationship:"",email:"",phone:"",notes:""});for(;s.length>G;)s.pop();return s}):O([])},[G]);const Pt=o=>{const s=Qt[o]||Qt.CH;if(!s)return null;const A=n(`onboarding.fields.addressFields.${o}`,{returnObjects:!0});if(typeof A=="string"||!A)return s;const z={street:{...s.street,label:A.street||s.street.label},houseNumber:{...s.houseNumber,label:A.houseNumber||s.houseNumber.label},postalCode:{...s.postalCode,label:A.postalCode||s.postalCode.label},city:{...s.city,label:A.city||s.city.label}};return s.state&&(z.state={...s.state,label:A.state||s.state.label}),s.county&&(z.county={...s.county,label:A.county||s.county.label}),s.apartment&&(z.apartment={...s.apartment,label:A.apartment||s.apartment.label}),z},ja=o=>{const s=Pt(o);return s?s.street.required&&!D.trim()?{valid:!1,error:n("onboarding.validation.streetRequired",{label:s.street.label})}:s.houseNumber.required&&!M.trim()?{valid:!1,error:n("onboarding.validation.houseNumberRequired",{label:s.houseNumber.label})}:s.postalCode.required&&!T.trim()?{valid:!1,error:n("onboarding.validation.postalCodeRequired",{label:s.postalCode.label})}:s.city.required&&!_.trim()?{valid:!1,error:n("onboarding.validation.cityRequired",{label:s.city.label})}:s.state?.required&&!Q.trim()?{valid:!1,error:n("onboarding.validation.stateRequired",{label:s.state.label})}:s.postalCode.validation&&T.trim()&&!s.postalCode.validation(T.trim())?{valid:!1,error:n("onboarding.validation.postalCodeInvalid",{label:s.postalCode.label})}:{valid:!0}:{valid:!1,error:n("onboarding.validation.countryInvalid")}},wa=()=>{if(c===1){if(!C.trim()){b.error(n("onboarding.validation.nameRequired"));return}const o=ja(d);if(!o.valid){b.error(o.error||n("onboarding.validation.addressRequired"));return}r(2)}else if(c===2)r(3);else if(c===3){if(fe>0&&p.filter(s=>!s.firstName.trim()||!s.lastName.trim()).length>0){b.error(n("onboarding.validation.childFirstNameRequired"));return}r(4)}else if(c===4){if(G>0&&te.filter(s=>!s.firstName.trim()||!s.lastName.trim()).length>0){b.error(n("onboarding.validation.householdMemberNameRequired"));return}r(5)}},ka=()=>{c>1&&r(c-1)},Sa=async()=>{if(a)try{u(!0),await Ht(at(et,"users",a.uid),{onboardingCompleted:!0,name:C.trim()||a.displayName||a.email?.split("@")[0]||"User",currency:S,phone:h.trim()||null,birthDate:L||null,street:D.trim()||null,houseNumber:M.trim()||null,postalCode:T.trim()||null,city:_.trim()||null,state:Q.trim()||null,county:q.trim()||null,apartment:y.trim()||null,country:d||null,region:w||null,taxClass:J||null,numberOfTaxpayers:v||1,taxYear:Y?parseInt(Y,10):nt,language:Ee||"de",theme:ht||"system",notificationsEnabled:pt!==!1,tutorialEnabled:gt!==!1,createdAt:new Date,updatedAt:new Date},{merge:!0}),b.success("Onboarding abgeschlossen"),t("/")}catch(o){b.error(n("onboarding.error.saving",{message:o.message}))}finally{u(!1)}},Ca=async()=>{if(a)try{if(u(!0),await Ht(at(et,"users",a.uid),{onboardingCompleted:!0,name:C.trim()||a.displayName||a.email?.split("@")[0]||"User",currency:S,phone:h.trim()||null,birthDate:L||null,street:D.trim()||null,houseNumber:M.trim()||null,postalCode:T.trim()||null,city:_.trim()||null,state:Q.trim()||null,county:q.trim()||null,apartment:y.trim()||null,country:d||null,region:w||null,taxClass:J||null,numberOfTaxpayers:v||1,taxYear:Y?parseInt(Y,10):nt,language:Ee||"de",theme:ht||"system",notificationsEnabled:pt!==!1,tutorialEnabled:gt!==!1,createdAt:new Date,updatedAt:new Date},{merge:!0}),fe>0){const o=p.filter(s=>s.firstName.trim()&&s.lastName.trim()).map(s=>yt({name:`${s.firstName.trim()} ${s.lastName.trim()}`,currency:S,notes:[s.birthDate?`Geburtsdatum: ${s.birthDate}`:null,s.school?`Schule: ${s.school}`:null,s.schoolGrade?`Schulstufe: ${s.schoolGrade}`:null,s.gender?`Geschlecht: ${s.gender==="male"?"Männlich":s.gender==="female"?"Weiblich":s.gender==="diverse"?"Divers":"Keine Angabe"}`:null,`Adresse: ${[D.trim(),M.trim(),y.trim()?`Apt ${y.trim()}`:null,T.trim(),_.trim(),Q.trim()?Q.trim():null,q.trim()?q.trim():null].filter(Boolean).join(", ")}`].filter(Boolean).join(" | ")||null}));await Promise.all(o)}if(G>0){const o=te.filter(s=>s.firstName.trim()&&s.lastName.trim()).map(s=>yt({name:`${s.firstName.trim()} ${s.lastName.trim()}`.trim(),email:s.email?.trim()||null,phone:s.phone?.trim()||null,type:"household",currency:S,notes:s.notes?.trim()||s.relationship?`${s.relationship}${s.notes?` - ${s.notes}`:""}`:s.notes?.trim()||null}));await Promise.all(o)}b.success(n("onboarding.success.completed")),t("/")}catch(o){b.error(n("onboarding.error.saving",{message:o.message})),console.error("Onboarding error:",o)}finally{u(!1)}};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:n("common.loading")})]})}):e.jsx(Fr,{children:e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:n("onboarding.title")}),e.jsx("p",{className:"text-muted-foreground text-sm",children:n("onboarding.stepIndicator",{step:c,total:5,description:k()})}),e.jsx("div",{className:"mt-4 w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${c/5*100}%`}})})]}),c===1&&e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.name")}),e.jsx("input",{type:"text",value:C,onChange:o=>E(o.target.value),placeholder:n("onboarding.fields.namePlaceholder"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.currency")}),e.jsxs("select",{value:S,onChange:o=>U(o.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"CHF",children:"CHF (Schweizer Franken)"}),e.jsx("option",{value:"EUR",children:"EUR (Euro)"}),e.jsx("option",{value:"USD",children:"USD (US-Dollar)"}),e.jsx("option",{value:"GBP",children:"GBP (Britisches Pfund)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.phone")}),e.jsx("input",{type:"tel",value:h,onChange:o=>{const s=Yt(o.target.value);x(s)},placeholder:n("onboarding.fields.phonePlaceholder"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Geburtsdatum (optional)"}),e.jsx("input",{type:"date",value:L,onChange:o=>W(o.target.value),max:new Date().toISOString().split("T")[0],className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.country")}),e.jsx("select",{value:d,onChange:o=>{const s=o.target.value;i(s),ae(""),re(""),X(""),Z(""),R(""),be(""),F("");const A=zr[s];if(A){const z=A.language;j.changeLanguage(z),Fe(z),U(A.currency)}},className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:Ct.map(o=>e.jsx("option",{value:o.code,children:o.name},o.code))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.language")}),e.jsx("select",{value:Ee,onChange:o=>{const s=o.target.value;Fe(s),j.changeLanguage(s)},className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:Lr.map(o=>e.jsx("option",{value:o.code,children:o.name},o.code))})]})]}),d&&(()=>{const o=Pt(d);return o?e.jsxs("div",{className:"pt-4 border-t space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Adresse"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[o.street.label," ",o.street.required&&"*"]}),e.jsx("input",{type:"text",value:D,onChange:s=>ae(s.target.value),placeholder:o.street.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.street.required})]}),e.jsxs("div",{className:o.apartment?"grid grid-cols-2 gap-4":"",children:[o.houseNumber&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[o.houseNumber.label," ",o.houseNumber.required&&"*"]}),e.jsx("input",{type:"text",value:M,onChange:s=>re(s.target.value),placeholder:o.houseNumber.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.houseNumber.required})]}),o.apartment&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:o.apartment.label}),e.jsx("input",{type:"text",value:y,onChange:s=>F(s.target.value),placeholder:o.apartment.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.apartment.required})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.state?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[o.city.label," ",o.city.required&&"*"]}),e.jsx("input",{type:"text",value:_,onChange:s=>Z(s.target.value),placeholder:o.city.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.city.required})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[o.state.label," ",o.state.required&&"*"]}),e.jsxs("select",{value:Q,onChange:s=>R(s.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.state.required,children:[e.jsx("option",{value:"",children:o.state.placeholder}),o.state.options?.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]})]}):o.county?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[o.city.label," ",o.city.required&&"*"]}),e.jsx("input",{type:"text",value:_,onChange:s=>Z(s.target.value),placeholder:o.city.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.city.required})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:o.county.label}),e.jsx("input",{type:"text",value:q,onChange:s=>be(s.target.value),placeholder:o.county.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.county.required})]})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[o.city.label," ",o.city.required&&"*"]}),e.jsx("input",{type:"text",value:_,onChange:s=>Z(s.target.value),placeholder:o.city.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.city.required})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[o.postalCode.label," ",o.postalCode.required&&"*"]}),e.jsx("input",{type:"text",value:T,onChange:s=>{let A=s.target.value;o.postalCode.maxLength&&(A=A.slice(0,o.postalCode.maxLength)),X(A)},placeholder:o.postalCode.placeholder,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:o.postalCode.required,maxLength:o.postalCode.maxLength}),o.postalCode.validation&&T&&!o.postalCode.validation(T)&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:n("onboarding.validation.postalCodeInvalid",{label:o.postalCode.label})})]})]}):null})()]}),c===2&&e.jsxs("div",{className:"flex-1 space-y-4",children:[d&&(()=>{const o=Ct.find(A=>A.code===d);if(!o||!o.regions||o.regions.length===0)return e.jsx("div",{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:n("onboarding.noRegions",{country:o?.name||n("onboarding.fields.country")})})});const s=xt(d);return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[s.regionLabel," (optional)"]}),e.jsxs("select",{value:w,onChange:A=>K(A.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"",children:n("onboarding.fields.selectRegion","{{regionLabel}} wählen",{regionLabel:s.regionLabel})}),o.regions.map(A=>e.jsx("option",{value:A.code,children:A.name},A.code))]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n("onboarding.fields.regionHint")})]})})(),(()=>{const o=xt(d);return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n("onboarding.fields.taxClass")," (optional)"]}),e.jsxs("select",{value:J,onChange:s=>ye(s.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"",children:n("onboarding.fields.taxClassPlaceholder")}),o.taxClasses.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]})})(),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.numberOfTaxpayers")}),e.jsx("select",{value:v.toString(),onChange:o=>P(parseInt(o.target.value,10)),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[1,2,3,4,5,6,7,8,9,10].map(o=>e.jsx("option",{value:o.toString(),children:o},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.taxYear")}),e.jsx("select",{value:Y,onChange:o=>ue(o.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:Ir.map(o=>e.jsx("option",{value:o.toString(),children:o},o))})]}),(()=>{const o=xt(d);return!o.additionalFields||o.additionalFields.length===0?null:e.jsx("div",{className:"space-y-4",children:o.additionalFields.map(s=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[s.label," ",s.required?"*":"(optional)"]}),s.type==="select"?e.jsxs("select",{value:se[s.key]||"",onChange:A=>{m(z=>({...z,[s.key]:A.target.value}))},className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"",children:s.placeholder||`Select ${s.label}`}),s.options?.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))]}):e.jsx("input",{type:"text",value:se[s.key]||"",onChange:A=>{m(z=>({...z,[s.key]:A.target.value}))},placeholder:s.placeholder||s.label,required:s.required,className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]},s.key))})})()]}),c===3&&e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.numberOfChildren")}),e.jsx("select",{value:fe.toString(),onChange:o=>Ye(parseInt(o.target.value,10)),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[0,1,2,3,4,5,6,7,8,9,10].map(o=>e.jsx("option",{value:o.toString(),children:o},o))})]}),fe>0&&e.jsx("div",{className:"space-y-4",children:p.map((o,s)=>e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsxs("label",{className:"block text-lg font-semibold",children:[n("onboarding.fields.numberOfChildren")," ",s+1]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n("onboarding.fields.childFirstName")," *"]}),e.jsx("input",{type:"text",value:o.firstName,onChange:A=>{const z=[...p];z[s].firstName=A.target.value,B(z)},placeholder:n("onboarding.fields.childFirstName"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n("onboarding.fields.childLastName")," *"]}),e.jsx("input",{type:"text",value:o.lastName,onChange:A=>{const z=[...p];z[s].lastName=A.target.value,B(z)},placeholder:n("onboarding.fields.childLastName"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n("onboarding.fields.childBirthDate")," (optional)"]}),e.jsx("input",{type:"date",value:o.birthDate||"",onChange:A=>{const z=[...p];z[s].birthDate=A.target.value,B(z)},max:new Date().toISOString().split("T")[0],className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n("onboarding.fields.childSchool")," (optional)"]}),e.jsx("input",{type:"text",value:o.school||"",onChange:A=>{const z=[...p];z[s].school=A.target.value,B(z)},placeholder:n("onboarding.fields.schoolNamePlaceholder"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n("onboarding.fields.childSchoolGrade")," (optional)"]}),e.jsxs("select",{value:o.schoolGrade||"",onChange:A=>{const z=[...p];z[s].schoolGrade=A.target.value,B(z)},className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"",children:n("onboarding.fields.schoolGradePlaceholder","Schulstufe wählen")}),Br(d).map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:[n("onboarding.fields.childGender")," (optional)"]}),e.jsxs("select",{value:o.gender||"",onChange:A=>{const z=[...p];z[s].gender=A.target.value,B(z)},className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"",children:n("onboarding.fields.childGender")}),e.jsx("option",{value:"male",children:n("onboarding.fields.genderMale")}),e.jsx("option",{value:"female",children:n("onboarding.fields.genderFemale")}),e.jsx("option",{value:"diverse",children:n("onboarding.fields.genderDiverse")}),e.jsx("option",{value:"none",children:n("onboarding.fields.genderOther")})]})]})]},s))})]}),c===4&&e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.numberOfHouseholdMembers")}),e.jsx("select",{value:G.toString(),onChange:o=>xe(parseInt(o.target.value,10)),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[0,1,2,3,4,5,6,7,8,9,10].map(o=>e.jsx("option",{value:o.toString(),children:o},o))})]}),G>0&&e.jsx("div",{className:"space-y-4",children:te.map((o,s)=>e.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[e.jsxs("label",{className:"block text-base font-semibold",children:[n("onboarding.fields.householdMemberName")," ",s+1]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:n("onboarding.fields.householdMemberFirstName")}),e.jsx("input",{type:"text",value:o.firstName,onChange:A=>{const z=[...te];z[s].firstName=A.target.value,O(z)},placeholder:n("onboarding.fields.householdMemberFirstName"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:n("onboarding.fields.householdMemberLastName")}),e.jsx("input",{type:"text",value:o.lastName,onChange:A=>{const z=[...te];z[s].lastName=A.target.value,O(z)},placeholder:n("onboarding.fields.householdMemberLastName"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[n("onboarding.fields.householdMemberBirthDate")," (optional)"]}),e.jsx("input",{type:"date",value:o.birthDate||"",onChange:A=>{const z=[...te];z[s].birthDate=A.target.value,O(z)},className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[n("onboarding.fields.householdMemberRelationship")," (optional)"]}),e.jsxs("select",{value:o.relationship||"",onChange:A=>{const z=[...te];z[s].relationship=A.target.value,O(z)},className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"",children:n("onboarding.fields.householdMemberRelationshipPlaceholder")}),e.jsx("option",{value:"partner",children:n("onboarding.fields.relationshipPartner")}),e.jsx("option",{value:"spouse",children:n("onboarding.fields.relationshipSpouse")}),e.jsx("option",{value:"parent",children:n("onboarding.fields.relationshipParent")}),e.jsx("option",{value:"sibling",children:n("onboarding.fields.relationshipSibling")}),e.jsx("option",{value:"roommate",children:n("onboarding.fields.relationshipRoommate")}),e.jsx("option",{value:"other",children:n("onboarding.fields.relationshipOther")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:n("onboarding.fields.householdMemberEmail")}),e.jsx("input",{type:"email",value:o.email||"",onChange:A=>{const z=[...te];z[s].email=A.target.value,O(z)},placeholder:n("onboarding.fields.householdMemberEmail"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:n("onboarding.fields.householdMemberPhone")}),e.jsx("input",{type:"tel",value:o.phone||"",onChange:A=>{const z=[...te],Da=Yt(A.target.value);z[s].phone=Da,O(z)},placeholder:n("onboarding.fields.householdMemberPhone"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[n("onboarding.fields.householdMemberNotes")," (optional)"]}),e.jsx("input",{type:"text",value:o.notes||"",onChange:A=>{const z=[...te];z[s].notes=A.target.value,O(z)},placeholder:n("onboarding.fields.householdMemberNotes"),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary"})]})]},s))})]}),c===5&&e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.language")}),e.jsxs("select",{value:Ee,onChange:o=>Fe(o.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:n("onboarding.fields.theme")}),e.jsxs("select",{value:ht,onChange:o=>va(o.target.value),className:"w-full h-12 px-4 rounded-lg text-base bg-background border border-border outline-none focus:border-primary",children:[e.jsx("option",{value:"light",children:n("onboarding.fields.themeLight")}),e.jsx("option",{value:"dark",children:n("onboarding.fields.themeDark")}),e.jsx("option",{value:"system",children:n("onboarding.fields.themeSystem")})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium",children:n("onboarding.fields.notifications")}),e.jsx("input",{type:"checkbox",checked:pt,onChange:o=>ya(o.target.checked),className:"w-5 h-5"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium",children:n("onboarding.fields.tutorial")}),e.jsx("input",{type:"checkbox",checked:gt,onChange:o=>Na(o.target.checked),className:"w-5 h-5"})]})]}),e.jsxs("div",{className:"flex justify-between gap-3 mt-6 pt-6 border-t",children:[e.jsx("div",{children:c>1&&e.jsx("button",{type:"button",onClick:ka,disabled:l,className:"h-12 px-6 rounded-lg font-medium text-base border border-border bg-background active:bg-muted disabled:opacity-50",children:n("onboarding.buttons.back")})}),e.jsxs("div",{className:"flex gap-2",children:[c<5&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:Sa,disabled:l,className:"h-12 px-6 rounded-lg font-medium text-base text-muted-foreground active:opacity-80 disabled:opacity-50",children:n("onboarding.buttons.skip")}),e.jsx("button",{type:"button",onClick:wa,disabled:l,className:"h-12 px-6 rounded-lg font-medium text-base bg-primary text-primary-foreground active:opacity-80 disabled:opacity-50",children:n("onboarding.buttons.next")})]}),c===5&&e.jsx("button",{type:"button",onClick:Ca,disabled:l,className:"h-12 px-6 rounded-lg font-medium text-base bg-primary text-primary-foreground active:opacity-80 disabled:opacity-50",children:n(l?"common.loading":"onboarding.buttons.complete")})]})]})]})})}function qr(){const{t}=ge(),[a,c]=g(!1),[r,l]=g(null),[u,f]=g(""),[N,n]=g("all"),[j,k]=g("all"),[C,E]=g(null),{data:S=[],isLoading:U,refetch:h}=Dt(),[x,L]=g({title:"",type:"termin",dueDate:ft(new Date),isAllDay:!1,amount:"",currency:"CHF",notes:"",recurrenceRule:""}),[W,D]=g(_e(new Date)),[ae,M]=g(!1),re=d=>za(d),T=d=>{switch(d){case"termin":return e.jsx(hn,{className:"w-4 h-4"});case"zahlung":return e.jsx(mn,{className:"w-4 h-4"});case"aufgabe":return e.jsx(un,{className:"w-4 h-4"});default:return e.jsx(ot,{className:"w-4 h-4"})}},X=d=>{switch(d){case"termin":return t("reminders.types.termin");case"zahlung":return t("reminders.types.zahlung");case"aufgabe":return t("reminders.types.aufgabe");default:return d}},_=(d,i)=>{const w=new Date,K=i instanceof Date?i:new Date(i);return d==="erledigt"?e.jsx(Be,{className:"bg-green-500 text-white",children:t("reminders.status.done")}):K<w?e.jsx(Be,{className:"bg-red-500 text-white",children:t("reminders.status.overdue")}):e.jsx(Be,{className:"bg-blue-500 text-white",children:t("reminders.status.open")})},Z=ie(()=>{let d=[...S];if(N!=="all"&&(d=d.filter(i=>i.type===N)),j!=="all"&&(d=d.filter(i=>i.status===j)),u.trim()){const i=u.toLowerCase();d=d.filter(w=>w.title.toLowerCase().includes(i)||w.notes&&w.notes.toLowerCase().includes(i)||w.amount&&(w.amount/100).toString().includes(i))}return d.sort((i,w)=>{const K=i.dueDate instanceof Date?i.dueDate:new Date(i.dueDate),J=w.dueDate instanceof Date?w.dueDate:new Date(w.dueDate),ye=new Date;if(i.status==="erledigt"&&w.status!=="erledigt")return 1;if(w.status==="erledigt"&&i.status!=="erledigt")return-1;const se=i.status!=="erledigt"&&K<ye,m=w.status!=="erledigt"&&J<ye;return se&&!m?-1:m&&!se?1:K.getTime()-J.getTime()})},[S,N,j,u]),Q=d=>{if(d){l(d);const i=d.dueDate instanceof Date?d.dueDate:new Date(d.dueDate);L({title:d.title,type:d.type,dueDate:ft(i),isAllDay:d.isAllDay,amount:d.amount?(d.amount/100).toString():"",currency:d.currency||"CHF",notes:d.notes||"",recurrenceRule:d.recurrenceRule||""})}else l(null),L({title:"",type:"termin",dueDate:new Date().toISOString().slice(0,16),isAllDay:!1,amount:"",currency:"CHF",notes:"",recurrenceRule:""});c(!0)},R=()=>{c(!1),l(null);const d=ft(new Date);L({title:"",type:"termin",dueDate:d,isAllDay:!1,amount:"",currency:"CHF",notes:"",recurrenceRule:""}),D(_e(d))},q=async()=>{if(!x.title||!x.dueDate){b.error(t("reminders.errors.required"));return}try{M(!0);const d=La(x.dueDate),i={title:x.title,type:x.type,dueDate:d.toISOString(),isAllDay:x.isAllDay,amount:x.amount?Math.round(parseFloat(x.amount)*100):null,currency:x.currency,notes:x.notes||null,recurrenceRule:x.recurrenceRule||null};r?(await vt(r.id,i),b.success(t("reminders.updated"))):(await ta(i),b.success(t("reminders.created"))),await h(),R(),pe()}catch(d){b.error(Te(d)),me()}finally{M(!1)}},be=async d=>{try{await Ma(d),b.success(t("reminders.deleted")),pe(),await h(),E(null)}catch(i){b.error(Te(i)),me()}},y=async d=>{try{const i=d.status==="erledigt"?"offen":"erledigt";await vt(d.id,{status:i}),b.success(t(i==="erledigt"?"reminders.markedAsDone":"reminders.reopened")),pe(),await h()}catch(i){b.error(Te(i)),me()}},F=ie(()=>{const d=S.length,i=S.filter(J=>J.status==="offen").length,w=S.filter(J=>J.status==="erledigt").length,K=S.filter(J=>{const ye=J.dueDate instanceof Date?J.dueDate:new Date(J.dueDate);return J.status==="offen"&&ye<new Date}).length;return{total:d,open:i,done:w,overdue:K}},[S]);return e.jsxs(Ne,{title:t("reminders.title"),showSidebar:!0,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"mobile-card",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:t("reminders.stats.total")}),e.jsx("p",{className:"text-xl font-semibold",children:F.total})]}),e.jsxs("div",{className:"mobile-card",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:t("reminders.stats.open")}),e.jsx("p",{className:"text-xl font-semibold",children:F.open})]}),e.jsxs("div",{className:"mobile-card",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:t("reminders.stats.done")}),e.jsx("p",{className:"text-xl font-semibold",children:F.done})]}),e.jsxs("div",{className:"mobile-card",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:t("reminders.stats.overdue")}),e.jsx("p",{className:"text-xl font-semibold text-red-500",children:F.overdue})]})]}),e.jsx("div",{className:"mobile-card mb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-xs text-muted-foreground mb-2 block",children:t("reminders.search")}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ne,{placeholder:t("reminders.searchPlaceholder"),value:u,onChange:d=>f(d.target.value),className:"pl-10 h-10 min-h-[44px]"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-xs text-muted-foreground mb-2 block",children:t("reminders.type")}),e.jsxs(oe,{value:N,onValueChange:n,children:[e.jsx(le,{className:"h-10 min-h-[44px]",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"all",children:t("reminders.filterAll")}),e.jsx(I,{value:"termin",children:t("reminders.types.termin")}),e.jsx(I,{value:"zahlung",children:t("reminders.types.zahlung")}),e.jsx(I,{value:"aufgabe",children:t("reminders.types.aufgabe")})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-xs text-muted-foreground mb-2 block",children:t("reminders.status.label")}),e.jsxs(oe,{value:j,onValueChange:k,children:[e.jsx(le,{className:"h-10 min-h-[44px]",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"all",children:t("reminders.filterAll")}),e.jsx(I,{value:"offen",children:t("reminders.status.open")}),e.jsx(I,{value:"erledigt",children:t("reminders.status.done")})]})]})]})]})]})}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs(V,{onClick:()=>{$(),Q()},className:"w-auto mx-auto h-12 min-h-[44px]",children:[e.jsx(He,{className:"w-5 h-5 mr-2"}),t("reminders.add")]}),Z.length>0&&e.jsx("button",{onClick:()=>{$(),ur(Z),pe()},className:"px-4 rounded-lg bg-muted hover:bg-muted/80 transition-colors flex items-center justify-center min-h-[48px]","aria-label":t("reminders.exportCSV"),children:e.jsx(it,{className:"w-5 h-5"})})]}),U?e.jsx("div",{className:"space-y-3",children:[1,2,3].map(d=>e.jsx("div",{className:"mobile-card p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ee,{className:"w-4 h-4 rounded mt-1"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ee,{className:"h-4 w-3/4"}),e.jsx(ee,{className:"h-3 w-1/2"}),e.jsx(ee,{className:"h-3 w-2/3"}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx(ee,{className:"h-8 flex-1"}),e.jsx(ee,{className:"h-8 w-8"}),e.jsx(ee,{className:"h-8 w-8"})]})]})]})},d))}):Z.length===0?e.jsx("div",{className:"mobile-card text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:t("reminders.noRemindersFound")})}):e.jsx("div",{className:"space-y-3",children:Z.map(d=>{const i=d.dueDate instanceof Date?d.dueDate:new Date(d.dueDate),w=[];return d.status==="offen"?w.push({id:"complete",label:t("reminders.markAsDone","Als erledigt markieren"),icon:e.jsx(tt,{className:"w-4 h-4"}),onClick:()=>{$(),y(d)}}):w.push({id:"reopen",label:t("reminders.reopen","Wieder öffnen"),icon:e.jsx(At,{className:"w-4 h-4"}),onClick:()=>{$(),y(d)}}),w.push({id:"edit",label:t("common.edit","Bearbeiten"),icon:e.jsx(lt,{className:"w-4 h-4"}),onClick:()=>{$(),Q(d)}}),w.push({id:"delete",label:t("common.delete","Löschen"),icon:e.jsx(Ie,{className:"w-4 h-4"}),onClick:()=>{$(),E(d.id)},variant:"destructive"}),e.jsx(Qe,{actions:w,children:e.jsx(qe,{className:"mobile-card",children:e.jsx(Oe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:T(d.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm flex-1",children:d.title}),_(d.status,i)]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:re(i)}),!d.isAllDay&&d.dueDate&&e.jsx("span",{children:new Date(d.dueDate).toLocaleTimeString("de-CH",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:X(d.type)}),d.amount&&e.jsxs("span",{children:["• CHF ",(d.amount/100).toFixed(2)]})]}),d.notes&&e.jsx("p",{className:"line-clamp-2",children:d.notes})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx(V,{variant:"outline",size:"sm",onClick:()=>{$(),y(d)},className:"h-8 min-h-[44px] flex-1",children:d.status==="erledigt"?e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"w-4 h-4 mr-1"}),t("reminders.reopen")]}):e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"w-4 h-4 mr-1"}),t("reminders.markAsDone")]})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>{$(),Q(d)},className:"h-8 min-h-[44px]",children:e.jsx(lt,{className:"w-4 h-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>{$(),E(d.id)},className:"h-8 min-h-[44px] text-red-500",children:e.jsx(Ie,{className:"w-4 h-4"})})]})]})]})})})},d.id)})}),e.jsx(we,{open:a,onOpenChange:c,children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsxs(Se,{className:"px-5 pt-5 pb-3",children:[e.jsx(Ce,{className:"text-lg font-semibold",children:t(r?"reminders.edit":"reminders.add")}),e.jsx(Pe,{className:"sr-only",children:t("reminders.dialogDescription")})]}),e.jsxs("div",{className:"space-y-3 px-5 pb-2",children:[e.jsxs("div",{children:[e.jsxs(H,{children:[t("reminders.reminderTitle")," *"]}),e.jsx(ne,{value:x.title,onChange:d=>L({...x,title:d.target.value}),placeholder:t("reminders.titlePlaceholder"),className:"h-10 min-h-[44px] mt-1"})]}),e.jsxs("div",{children:[e.jsxs(H,{children:[t("reminders.type")," *"]}),e.jsxs(oe,{value:x.type,onValueChange:d=>L({...x,type:d}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"termin",children:t("reminders.types.termin")}),e.jsx(I,{value:"zahlung",children:t("reminders.types.zahlung")}),e.jsx(I,{value:"aufgabe",children:t("reminders.types.aufgabe")})]})]})]}),e.jsxs("div",{children:[e.jsxs(H,{children:[t("reminders.dueDate")," *"]}),e.jsx(ne,{type:"text",placeholder:"DD.MM.YYYY HH:mm",value:W,onChange:d=>{const i=d.target.value;D(i);const w=Tt(i);w&&L({...x,dueDate:w})},onBlur:d=>{const i=Tt(d.target.value);i?(L({...x,dueDate:i}),D(_e(i))):d.target.value&&D(_e(x.dueDate))},className:"h-10 min-h-[44px] mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{checked:x.isAllDay,onCheckedChange:d=>L({...x,isAllDay:d})}),e.jsx(H,{children:t("reminders.allDay")})]}),x.type==="zahlung"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(H,{children:t("reminders.amount")}),e.jsx(ne,{type:"number",step:"0.01",value:x.amount,onChange:d=>L({...x,amount:d.target.value}),placeholder:"0.00",className:"h-10 min-h-[44px] mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("reminders.currency")}),e.jsxs(oe,{value:x.currency,onValueChange:d=>L({...x,currency:d}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"CHF",children:"CHF"}),e.jsx(I,{value:"EUR",children:"EUR"}),e.jsx(I,{value:"USD",children:"USD"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("reminders.notes")}),e.jsx(Nt,{value:x.notes,onChange:d=>L({...x,notes:d.target.value}),placeholder:t("reminders.notesPlaceholder"),className:"mt-1 min-h-[100px]"})]})]}),e.jsxs(De,{className:"px-5 pb-3 pt-2 gap-2.5",children:[e.jsx(V,{variant:"outline",onClick:R,className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.cancel")}),e.jsx(V,{onClick:q,disabled:ae,className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t(ae?"common.saving":r?"common.update":"common.create")})]})]})}),C&&e.jsx(we,{open:!!C,onOpenChange:()=>E(null),children:e.jsxs(ke,{className:`max-w-[320px] w-[90vw] \r
                       !fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%]\r
                       rounded-lg\r
                       border\r
                       !h-auto !max-h-[auto]\r
                       flex flex-col\r
                       p-5 gap-4`,showCloseButton:!1,children:[e.jsxs(Se,{className:"text-center",children:[e.jsx(Ce,{className:"text-lg font-semibold",children:t("reminders.confirmDelete")}),e.jsx(Pe,{className:"sr-only",children:t("reminders.confirmDeleteDescription")})]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center leading-relaxed",children:t("reminders.confirmDeleteDescription")}),e.jsxs(De,{className:"flex-row gap-3 pt-2",children:[e.jsx(V,{variant:"outline",onClick:()=>E(null),className:"h-10 min-h-[44px] flex-1 text-sm font-medium",children:t("common.cancel")}),e.jsx(V,{variant:"destructive",onClick:()=>be(C),className:"h-10 min-h-[44px] flex-1 text-sm font-medium",children:t("common.delete")})]})]})})]})}function Or({className:t,...a}){return e.jsx($n,{"data-slot":"tabs",className:Ve("flex flex-col gap-2",t),...a})}function Hr({className:t,...a}){return e.jsx(Zn,{"data-slot":"tabs-list",className:Ve("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function _t({className:t,...a}){return e.jsx(Qn,{"data-slot":"tabs-trigger",className:Ve("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function Jt({className:t,...a}){return e.jsx(Yn,{"data-slot":"tabs-content",className:Ve("flex-1 outline-none",t),...a})}function Gr(){const{t}=ge(),[a,c]=g("household"),[r,l]=g(!1),[u,f]=g(!1),[N,n]=g(!1),[j,k]=g(null),[C,E]=g(null),[S,U]=g(""),[h,x]=g({name:"",email:"",phone:"",currency:"CHF",type:"household",relationship:"both",notes:""}),{data:L=[],isLoading:W,refetch:D}=aa(),ae=ie(()=>L.filter(i=>!i.type||i.type==="household"||i.type==="child"),[L]),M=ie(()=>L.filter(i=>i.type==="external"),[L]),re=i=>i.map(w=>{const K=w.invoices||[],J=K.filter(v=>(v.direction==="incoming"||!v.direction)&&(v.status==="open"||v.status==="postponed")).reduce((v,P)=>v+(P.amount||0),0),ye=K.filter(v=>(v.direction==="incoming"||!v.direction)&&v.status==="paid").reduce((v,P)=>v+(P.amount||0),0),se=K.filter(v=>v.direction==="outgoing"&&(v.status==="open"||v.status==="postponed")).reduce((v,P)=>v+(P.amount||0),0),m=K.filter(v=>v.direction==="outgoing"&&v.status==="paid").reduce((v,P)=>v+(P.amount||0),0);return{...w,incomingOpen:J,incomingPaid:ye,outgoingOpen:se,outgoingPaid:m,totalOpen:J+se,totalPaid:ye+m,invoiceCount:K.length,hasOpenInvoices:J>0||se>0}}),T=ie(()=>re(ae),[ae]),X=ie(()=>re(M),[M]),_=i=>i.filter(w=>w.name.toLowerCase().includes(S.toLowerCase())||w.email?.toLowerCase().includes(S.toLowerCase())||w.phone?.toLowerCase().includes(S.toLowerCase())),Z=ie(()=>_(T),[T,S]),Q=ie(()=>_(X),[X,S]),R=async()=>{const i=validateRequired(h.name,"Name");if(!i.valid){b.error(i.error||t("people.errors.nameRequired","Bitte geben Sie einen Namen ein"));return}if(h.email&&h.email.trim()!==""){const w=validateEmail(h.email);if(!w.valid){b.error(w.error||t("people.errors.invalidEmail","Ungültige E-Mail-Adresse"));return}}if(h.phone&&h.phone.trim()!==""){const w=validatePhone(h.phone);if(!w.valid){b.error(w.error||t("people.errors.invalidPhone","Ungültige Telefonnummer"));return}}try{const w={name:h.name,currency:h.currency,type:h.type,notes:h.notes||null};h.type==="child"?(w.email=null,w.phone=null,w.relationship=null):h.type==="external"?(w.email=h.email||null,w.phone=h.phone||null,w.relationship=h.relationship):(w.email=h.email||null,w.phone=h.phone||null,w.relationship=null),await yt(w),b.success(t("people.personAdded","Person hinzugefügt")),l(!1),x({name:"",email:"",phone:"",currency:"CHF",type:"household",relationship:"both",notes:""}),await D()}catch(w){b.error(t("common.error","Fehler")+": "+(w.message||t("common.unknownError","Unbekannter Fehler")))}},q=async()=>{if(!j||!h.name){b.error(t("people.errors.nameRequired","Bitte geben Sie einen Namen ein"));return}try{const i={name:h.name,currency:h.currency,type:h.type,notes:h.notes||null};h.type==="child"?(i.email=null,i.phone=null,i.relationship=null):h.type==="external"?(i.email=h.email||null,i.phone=h.phone||null,i.relationship=h.relationship):(i.email=h.email||null,i.phone=h.phone||null,i.relationship=null),await qa(j.id,i),b.success(t("people.personUpdated","Person aktualisiert")),f(!1),k(null),await D()}catch(i){b.error(t("common.error","Fehler")+": "+(i.message||t("common.unknownError","Unbekannter Fehler")))}},be=async()=>{if(C)try{await Oa(C),b.success(t("people.personDeleted","Person gelöscht")),E(null)}catch(i){b.error(t("common.error","Fehler")+": "+(i.message||t("common.unknownError","Unbekannter Fehler")))}},y=i=>{k(i),x({name:i.name||"",email:i.email||"",phone:i.phone||"",currency:i.currency||"CHF",type:i.type||"household",relationship:i.relationship||"both",notes:i.notes||""}),f(!0)},F=i=>`CHF ${(i/100).toFixed(2)}`,d=i=>{const w=i.type==="child",K=[{id:"view",label:t("people.invoices","Rechnungen"),icon:e.jsx(ct,{className:"w-4 h-4"}),onClick:()=>{k(i),n(!0)},disabled:i.invoiceCount===0},{id:"edit",label:t("common.edit","Bearbeiten"),icon:e.jsx(lt,{className:"w-4 h-4"}),onClick:()=>y(i)},{id:"delete",label:t("common.delete","Löschen"),icon:e.jsx(Ie,{className:"w-4 h-4"}),onClick:()=>E(i.id),variant:"destructive"}];return e.jsx(Qe,{actions:K,children:e.jsx(qe,{className:"mobile-card",children:e.jsx(Oe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${w?"bg-purple-100 text-purple-600":"bg-primary/10 text-primary"}`,children:w?e.jsx(pn,{className:"w-5 h-5"}):e.jsx(qt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:i.name}),w&&e.jsx(Be,{variant:"outline",className:"text-xs",children:t("people.child","Kind")})]}),!w&&e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[i.email&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gn,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:i.email})]}),i.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fn,{className:"w-3 h-3"}),e.jsx("span",{children:i.phone})]})]}),i.hasOpenInvoices&&e.jsxs("div",{className:"mt-2 space-y-1",children:[i.incomingOpen>0&&e.jsxs("p",{className:"text-xs text-green-600",children:[t("people.claims","Forderungen"),": ",F(i.incomingOpen)]}),i.outgoingOpen>0&&e.jsxs("p",{className:"text-xs text-red-600",children:[t("people.liabilities","Verbindlichkeiten"),": ",F(i.outgoingOpen)]})]}),i.invoiceCount>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.invoiceCount," ",t("people.invoices","Rechnung(en)")]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.invoiceCount>0&&e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>{k(i),n(!0)},className:"h-8 min-h-[44px] flex-1",children:[e.jsx(ct,{className:"w-4 h-4 mr-1"}),t("people.invoices","Rechnungen")]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>y(i),className:"h-8 min-h-[44px]",children:e.jsx(lt,{className:"w-4 h-4"})}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>E(i.id),className:"h-8 min-h-[44px] text-red-500",children:e.jsx(Ie,{className:"w-4 h-4"})})]})]})]})})})},i.id)};return e.jsxs(Ne,{title:t("people.title","Personen & Schulden"),showSidebar:!0,children:[e.jsx("div",{className:"mobile-card mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ne,{placeholder:t("common.search","Suchen..."),value:S,onChange:i=>U(i.target.value),className:"pl-10 h-10 min-h-[44px]"})]})}),e.jsxs(V,{onClick:()=>{x({name:"",email:"",phone:"",currency:"CHF",type:"household",relationship:"both",notes:""}),l(!0)},className:"w-full mb-4 h-12 min-h-[44px]",children:[e.jsx(He,{className:"w-5 h-5 mr-2"}),t("people.addPerson","Person hinzufügen")]}),e.jsxs(Or,{value:a,onValueChange:i=>c(i),className:"mb-4",children:[e.jsxs(Hr,{className:"grid w-full grid-cols-2 h-12 min-h-[44px]",children:[e.jsxs(_t,{value:"household",className:"h-10 min-h-[44px]",children:[e.jsx(ia,{className:"w-4 h-4 mr-2"}),t("people.household","Haushalt")]}),e.jsxs(_t,{value:"external",className:"h-10 min-h-[44px]",children:[e.jsx(qt,{className:"w-4 h-4 mr-2"}),t("people.external","Externe")]})]}),e.jsx(Jt,{value:"household",className:"mt-4",children:W?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("common.loading","Lädt...")}):Z.length===0?e.jsx("div",{className:"mobile-card text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:t("people.noPeopleFound","Keine Personen gefunden")})}):e.jsx("div",{className:"space-y-3",children:Z.map(d)})}),e.jsx(Jt,{value:"external",className:"mt-4",children:W?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("common.loading","Lädt...")}):Q.length===0?e.jsx("div",{className:"mobile-card text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:t("people.noPeopleFound","Keine Personen gefunden")})}):e.jsx("div",{className:"space-y-3",children:Q.map(d)})})]}),e.jsx(we,{open:r,onOpenChange:l,children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsxs(Se,{className:"px-5 pt-5 pb-3",children:[e.jsx(Ce,{className:"text-lg font-semibold",children:t("people.addPerson","Person hinzufügen")}),e.jsx(Pe,{className:"sr-only",children:t("people.addPersonDescription","Erstellen Sie eine neue Person mit Name, E-Mail, Telefonnummer und optionalen Notizen")})]}),e.jsxs("div",{className:"space-y-3 px-5 pb-2",children:[e.jsxs("div",{children:[e.jsxs(H,{children:[t("people.name","Name")," *"]}),e.jsx(ne,{value:h.name,onChange:i=>x({...h,name:i.target.value}),placeholder:t("people.name","Name"),className:"h-10 min-h-[44px] mt-1"})]}),e.jsxs("div",{children:[e.jsxs(H,{children:[t("people.type","Typ")," *"]}),e.jsxs(oe,{value:h.type,onValueChange:i=>x({...h,type:i}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"household",children:t("people.types.household","Haushalt")}),e.jsx(I,{value:"external",children:t("people.types.external","Externe Person")}),e.jsx(I,{value:"child",children:t("people.types.child","Kind")})]})]})]}),h.type!=="child"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(H,{children:t("people.email","E-Mail")}),e.jsx(ne,{type:"email",value:h.email,onChange:i=>x({...h,email:i.target.value}),placeholder:"email@example.com",className:"h-10 min-h-[44px] mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("people.phone","Telefon")}),e.jsx(ne,{type:"tel",value:h.phone,onChange:i=>x({...h,phone:i.target.value}),placeholder:"+41 XX XXX XX XX",className:"h-10 min-h-[44px] mt-1"})]})]}),h.type==="external"&&e.jsxs("div",{children:[e.jsx(H,{children:t("people.relationship","Beziehung")}),e.jsxs(oe,{value:h.relationship,onValueChange:i=>x({...h,relationship:i}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"both",children:t("people.relationships.both","Beides")}),e.jsx(I,{value:"creditor",children:t("people.relationships.creditor","Gläubiger")}),e.jsx(I,{value:"debtor",children:t("people.relationships.debtor","Schuldner")})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("people.currency","Währung")}),e.jsxs(oe,{value:h.currency,onValueChange:i=>x({...h,currency:i}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"CHF",children:"CHF"}),e.jsx(I,{value:"EUR",children:"EUR"}),e.jsx(I,{value:"USD",children:"USD"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("people.notes","Notizen")}),e.jsx(Nt,{value:h.notes,onChange:i=>x({...h,notes:i.target.value}),placeholder:t("people.notesPlaceholder","Notizen..."),className:"mt-1 min-h-[100px]"})]})]}),e.jsxs(De,{className:"px-5 pb-3 pt-2 gap-2.5",children:[e.jsx(V,{variant:"outline",onClick:()=>l(!1),className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.cancel","Abbrechen")}),e.jsx(V,{onClick:R,className:"h-10 min-h-[44px]",children:t("common.add","Hinzufügen")})]})]})}),e.jsx(we,{open:u,onOpenChange:f,children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsxs(Se,{className:"px-5 pt-5 pb-3",children:[e.jsx(Ce,{className:"text-lg font-semibold",children:t("people.editPerson","Person bearbeiten")}),e.jsx(Pe,{className:"sr-only",children:t("people.editPersonDescription","Bearbeiten Sie die Informationen der ausgewählten Person")})]}),e.jsxs("div",{className:"space-y-3 px-5 pb-2",children:[e.jsxs("div",{children:[e.jsxs(H,{children:[t("people.name","Name")," *"]}),e.jsx(ne,{value:h.name,onChange:i=>x({...h,name:i.target.value}),placeholder:t("people.name","Name"),className:"h-10 min-h-[44px] mt-1"})]}),e.jsxs("div",{children:[e.jsxs(H,{children:[t("people.type","Typ")," *"]}),e.jsxs(oe,{value:h.type,onValueChange:i=>x({...h,type:i}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"household",children:t("people.types.household","Haushalt")}),e.jsx(I,{value:"external",children:t("people.types.external","Externe Person")}),e.jsx(I,{value:"child",children:t("people.types.child","Kind")})]})]})]}),h.type!=="child"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(H,{children:t("people.email","E-Mail")}),e.jsx(ne,{type:"email",value:h.email,onChange:i=>x({...h,email:i.target.value}),placeholder:"email@example.com",className:"h-10 min-h-[44px] mt-1"})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("people.phone","Telefon")}),e.jsx(ne,{type:"tel",value:h.phone,onChange:i=>x({...h,phone:i.target.value}),placeholder:"+41 XX XXX XX XX",className:"h-10 min-h-[44px] mt-1"})]})]}),h.type==="external"&&e.jsxs("div",{children:[e.jsx(H,{children:t("people.relationship","Beziehung")}),e.jsxs(oe,{value:h.relationship,onValueChange:i=>x({...h,relationship:i}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"both",children:t("people.relationships.both","Beides")}),e.jsx(I,{value:"creditor",children:t("people.relationships.creditor","Gläubiger")}),e.jsx(I,{value:"debtor",children:t("people.relationships.debtor","Schuldner")})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("people.currency","Währung")}),e.jsxs(oe,{value:h.currency,onValueChange:i=>x({...h,currency:i}),children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"CHF",children:"CHF"}),e.jsx(I,{value:"EUR",children:"EUR"}),e.jsx(I,{value:"USD",children:"USD"})]})]})]}),e.jsxs("div",{children:[e.jsx(H,{children:t("people.notes","Notizen")}),e.jsx(Nt,{value:h.notes,onChange:i=>x({...h,notes:i.target.value}),placeholder:t("people.notesPlaceholder","Notizen..."),className:"mt-1 min-h-[100px]"})]})]}),e.jsxs(De,{className:"px-5 pb-3 pt-2 gap-2.5",children:[e.jsx(V,{variant:"outline",onClick:()=>f(!1),className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.cancel","Abbrechen")}),e.jsx(V,{onClick:q,className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.update","Aktualisieren")})]})]})}),C&&e.jsx(we,{open:!!C,onOpenChange:()=>E(null),children:e.jsxs(ke,{className:"max-w-sm",children:[e.jsxs(Se,{children:[e.jsx(Ce,{children:t("people.confirmDelete","Person löschen?")}),e.jsx(Pe,{className:"sr-only",children:t("people.confirmDeleteDescription","Möchten Sie diese Person wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("people.confirmDeleteDescription","Möchten Sie diese Person wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.")}),e.jsxs(De,{className:"px-5 pb-3 pt-2 gap-2.5",children:[e.jsx(V,{variant:"outline",onClick:()=>E(null),className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.cancel","Abbrechen")}),e.jsx(V,{variant:"destructive",onClick:be,className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.delete","Löschen")})]})]})}),j&&N&&e.jsx(we,{open:N,onOpenChange:n,children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsxs(Se,{className:"px-5 pt-5 pb-3",children:[e.jsxs(Ce,{className:"text-lg font-semibold",children:[t("people.invoices","Rechnungen")," - ",j.name]}),e.jsx(Pe,{className:"sr-only",children:t("people.invoicesDescription","Verwalten Sie Rechnungen für diese Person")})]}),e.jsx("div",{className:"px-5 pb-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:t("people.invoicesComingSoon","Die Rechnungsverwaltung wird in einer zukünftigen Version verfügbar sein.")})}),e.jsx(De,{className:"px-5 pb-3 pt-2",children:e.jsx(V,{variant:"outline",onClick:()=>n(!1),className:"h-11 min-h-[44px] w-full rounded-xl text-sm font-medium",children:t("common.close","Schliessen")})})]})})]})}function Vr(){const{t}=ge();let a=[],c=!1,r=null;try{const p=aa();a=Array.isArray(p.data)?p.data:[],c=p.isLoading||!1,r=p.error||null}catch(p){console.error("[Documents] Error in usePeople hook:",p),a=[],c=!1,r=p instanceof Error?p:new Error(String(p))}const l=Re(null);ve(()=>{r&&console.error("[Documents] Error loading people:",r)},[r]);const[u,f]=g([]),[N,n]=g(!0),[j,k]=g("all"),[C,E]=g("all"),[S,U]=g(""),[h,x]=g(!1),[L,W]=g(0),[D,ae]=g(null),[M,re]=g(!1),[T,X]=g(null),[_,Z]=g(null),[Q,R]=g(""),[q,be]=g(t("documents.folders.other","Sonstiges")),[y,F]=g(!1),[d,i]=g(null),[w,K]=g(!1),J=[{value:"all",label:t("documents.allFolders","Alle Ordner")},{value:"Rechnungen",label:t("documents.folders.invoices","Rechnungen")},{value:"Termine",label:t("documents.folders.appointments","Termine")},{value:"Verträge",label:t("documents.folders.contracts","Verträge")},{value:"Sonstiges",label:t("documents.folders.other","Sonstiges")}],ye=[{value:"Rechnungen",label:t("documents.folders.invoices","Rechnungen")},{value:"Termine",label:t("documents.folders.appointments","Termine")},{value:"Verträge",label:t("documents.folders.contracts","Verträge")},{value:"Sonstiges",label:t("documents.folders.other","Sonstiges")}],se=We(async()=>{try{n(!0),console.log("[Documents] Starting fetchDocuments, folder:",C);const p=Xe(Je,"getAllDocuments");console.log("[Documents] Calling getAllDocuments function...");const B=await p({folder:C==="all"?null:C});if(console.log("[Documents] Function call successful, result:",B),!B||!B.data){console.warn("[Documents] No data in result, setting empty array"),f([]);return}const G=B.data;console.log("[Documents] Data received:",{hasDocuments:!!G.documents,count:G.documents?.length||0,total:G.total});const xe=Array.isArray(G.documents)?G.documents:[];console.log("[Documents] Processing",xe.length,"documents");const te=xe.map((O,Ee)=>{try{return!O||typeof O!="object"?(console.warn(`[Documents] Invalid document at index ${Ee}:`,O),null):{...O,id:O.id||`doc-${Ee}`,personId:O.personId||"",personName:O.personName||t("documents.unknown","Unbekannt"),fileName:O.fileName||t("common.unnamed","Unbenannt"),fileType:O.fileType||"",fileUrl:O.fileUrl||"",folder:O.folder||t("documents.folders.other","Sonstiges"),status:O.status||"uploaded",createdAt:O.createdAt?typeof O.createdAt=="string"?O.createdAt:O.createdAt instanceof Date?O.createdAt.toISOString():O.createdAt?.toDate?.()?.toISOString()||new Date(O.createdAt).toISOString():null,updatedAt:O.updatedAt?typeof O.updatedAt=="string"?O.updatedAt:O.updatedAt instanceof Date?O.updatedAt.toISOString():O.updatedAt?.toDate?.()?.toISOString()||new Date(O.updatedAt).toISOString():null}}catch(Fe){return console.error(`[Documents] Error mapping document at index ${Ee}:`,Fe,O),null}}).filter(O=>O!==null&&O.id!=="");console.log("[Documents] Successfully mapped",te.length,"documents"),f(te)}catch(p){console.error("[Documents] Error in fetchDocuments:",p);const B=p instanceof Error?p:new Error(String(p));console.error("[Documents] Error details:",{message:B.message,code:B.code,details:B.details,stack:B.stack});const G=B.message||B.code||"Unbekannter Fehler";b.error(t("documents.errors.loadError","Fehler beim Laden der Dokumente")+": "+G),f([])}finally{n(!1)}},[C,t]);ve(()=>{let p=!0;return(async()=>{try{await se()}catch(G){p&&console.error("Failed to load documents:",G)}})(),()=>{p=!1}},[se]);const m=ie(()=>{try{if(!Array.isArray(u))return console.warn("[Documents] documents is not an array in filteredDocuments useMemo"),[];let p=u.filter(B=>B&&B.id);if(j!=="all"&&(p=p.filter(B=>B.personId===j)),C!=="all"&&(p=p.filter(B=>B.folder===C)),S.trim()){const B=S.toLowerCase();p=p.filter(G=>{try{return(G.fileName||"").toLowerCase().includes(B)||(G.personName||"").toLowerCase().includes(B)||(G.folder||"").toLowerCase().includes(B)}catch(xe){return console.error("[Documents] Error filtering by search query:",xe,G),!1}})}return p.sort((B,G)=>{try{const xe=B.updatedAt||B.createdAt||"";return(G.updatedAt||G.createdAt||"").localeCompare(xe)}catch(xe){return console.error("[Documents] Error sorting documents:",xe),0}})}catch(p){return console.error("[Documents] Error in filteredDocuments useMemo:",p),[]}},[u,j,C,S]),v=We(async p=>{if(!p)return;const B=10*1024*1024;if(p.size>B){b.error(t("documents.errors.fileTooLarge","Datei ist zu gross. Maximal 10MB erlaubt."));return}try{x(!0),W(0),ae(p);const G=new FileReader;G.onload=async()=>{try{const te=G.result.split(",")[1];Z(te);const Fe=(await Xe(Je,"analyzeDocument")({fileData:te,fileName:p.name,fileType:p.type})).data;X(Fe),re(!0),W(100)}catch(te){const O=te instanceof Error?te.message:String(te);b.error(t("documents.errors.analysisError","Fehler bei der Analyse")+": "+(O||t("common.unknownError","Unbekannter Fehler"))),x(!1)}},G.onerror=()=>{b.error(t("documents.errors.readError","Fehler beim Lesen der Datei")),x(!1)},G.readAsDataURL(p);const xe=setInterval(()=>{W(te=>te>=90?(clearInterval(xe),90):te+10)},200)}catch(G){const xe=G instanceof Error?G.message:String(G);b.error(t("common.error","Fehler")+": "+(xe||t("common.unknownError","Unbekannter Fehler"))),x(!1)}},[t]),P=We(async()=>{if(!_||!Q||!D){b.error(t("documents.errors.fillAllFields","Bitte füllen Sie alle Felder aus"));return}try{F(!0),await Xe(Je,"uploadDocument")({fileData:_,fileName:D.name,fileType:D.type,personId:Q,folder:q}),b.success(t("documents.saved","Dokument gespeichert")),re(!1),ae(null),Z(null),X(null),R(""),be(t("documents.folders.other","Sonstiges")),x(!1),W(0),await se()}catch(p){const B=p instanceof Error?p.message:String(p);b.error(t("documents.errors.saveError","Fehler beim Speichern")+": "+(B||t("common.unknownError","Unbekannter Fehler")))}finally{F(!1)}},[_,Q,D,q,t,se]),Y=We(async p=>{try{await Xe(Je,"deleteDocument")({documentId:p}),b.success(t("documents.deleted","Dokument gelöscht")),await se()}catch(B){const G=B instanceof Error?B.message:String(B);b.error(t("common.error","Fehler")+": "+(G||t("common.unknownError","Unbekannter Fehler")))}},[t,se]),ue=We(p=>{i(p.fileUrl),K(!0)},[]),fe=p=>{if(!p)return"N/A";try{return _n(new Date(p),"dd.MM.yyyy",{locale:Jn})}catch{return"N/A"}},Ye=p=>p.startsWith("image/")?e.jsx(vn,{className:"w-5 h-5"}):p.includes("pdf")?e.jsx(Ze,{className:"w-5 h-5"}):e.jsx(yn,{className:"w-5 h-5"});return e.jsxs(Ne,{title:t("documents.title","Dokumente"),showSidebar:!0,children:[e.jsx("div",{className:"mobile-card mb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-xs text-muted-foreground mb-2 block",children:t("common.search","Suche")}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ne,{placeholder:t("common.search","Suchen..."),value:S,onChange:p=>U(p.target.value),className:"pl-10 h-10 min-h-[44px]"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(H,{className:"text-xs text-muted-foreground mb-2 block",children:t("people.name","Person")}),e.jsxs(oe,{value:j,onValueChange:k,children:[e.jsx(le,{className:"h-10 min-h-[44px]",children:e.jsx(ce,{})}),e.jsxs(de,{children:[e.jsx(I,{value:"all",children:t("common.all","Alle")}),Array.isArray(a)&&a.map(p=>!p||!p.id?null:e.jsx(I,{value:p.id,children:p.name||t("documents.unknown","Unbekannt")},p.id))]})]})]}),e.jsxs("div",{children:[e.jsx(H,{className:"text-xs text-muted-foreground mb-2 block",children:t("documents.folder","Ordner")}),e.jsxs(oe,{value:C,onValueChange:E,children:[e.jsx(le,{className:"h-10 min-h-[44px]",children:e.jsx(ce,{})}),e.jsx(de,{children:J.map(p=>e.jsx(I,{value:p.value,children:p.label},p.value))})]})]})]})]})}),e.jsx(V,{onClick:()=>l.current?.click(),className:"w-full mb-4 h-12 min-h-[44px]",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(bn,{className:"w-5 h-5 mr-2 animate-spin"}),t("common.loading","Lädt...")]}):e.jsxs(e.Fragment,{children:[e.jsx(la,{className:"w-5 h-5 mr-2"}),t("documents.upload","Dokument hochladen")]})}),h&&e.jsx("div",{className:"mobile-card mb-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:t("documents.uploadProgress","Upload Fortschritt")}),e.jsxs("span",{children:[L,"%"]})]}),e.jsx(Ha,{value:L})]})}),e.jsx("input",{ref:l,type:"file",className:"hidden",accept:"image/*,.pdf,.doc,.docx",onChange:p=>{const B=p.target.files?.[0];B&&v(B),p.target.value=""}}),N||c?e.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((p,B)=>e.jsx(qe,{className:"mobile-card",children:e.jsx(Oe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ee,{className:"w-5 h-5 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(ee,{className:"h-4 w-3/4"}),e.jsx(ee,{className:"h-3 w-1/2"})]})]})})},B))}):m.length===0?e.jsx("div",{className:"mobile-card text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:t("documents.noDocuments","Keine Dokumente gefunden")})}):e.jsx("div",{className:"space-y-3",children:m.map(p=>{if(!p||!p.id)return console.warn("[Documents] Skipping invalid document in render:",p),null;const B=[{id:"view",label:t("documents.view","Ansehen"),icon:e.jsx(ct,{className:"w-4 h-4"}),onClick:()=>ue(p)},{id:"download",label:t("common.download","Herunterladen"),icon:e.jsx(it,{className:"w-4 h-4"}),onClick:()=>{window.open(p.fileUrl,"_blank")}},{id:"delete",label:t("common.delete","Löschen"),icon:e.jsx(Ie,{className:"w-4 h-4"}),onClick:()=>Y(p.id),variant:"destructive"}];return e.jsx(Qe,{actions:B,children:e.jsx(qe,{className:"mobile-card",children:e.jsx(Oe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:Ye(p.fileType)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm mb-1 truncate",children:p.fileName}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"w-3 h-3"}),e.jsx("span",{children:p.personName})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xn,{className:"w-3 h-3"}),e.jsx("span",{children:p.folder})]}),p.updatedAt&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:fe(p.updatedAt)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>ue(p),className:"h-8 min-h-[44px] flex-1","aria-label":t("documents.viewDocument","Dokument {{fileName}} ansehen",{fileName:p.fileName}),children:[e.jsx(ct,{className:"w-4 h-4 mr-1","aria-hidden":"true"}),t("documents.view","Ansehen")]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>Y(p.id),className:"h-8 min-h-[44px] text-red-500","aria-label":t("documents.deleteDocument","Dokument {{fileName}} löschen",{fileName:p.fileName}),children:e.jsx(Ie,{className:"w-4 h-4","aria-hidden":"true"})})]})]})]})})})},p.id)})}),e.jsx(we,{open:M,onOpenChange:re,children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsxs(Se,{className:"px-5 pt-5 pb-3",children:[e.jsx(Ce,{className:"text-lg font-semibold",children:t("documents.assign","Dokument zuordnen")}),e.jsx(Pe,{children:t("documents.assignDescription","Wählen Sie eine Person und einen Ordner für dieses Dokument")})]}),e.jsxs("div",{className:"px-5 pb-2",children:[T&&e.jsx("div",{className:"space-y-3 mb-4",children:e.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-xs font-semibold mb-2",children:t("documents.analysisResult","Analyse-Ergebnis")}),T.extractedData.amount&&e.jsxs("p",{className:"text-sm",children:[t("documents.amount","Betrag"),": CHF ",(T.extractedData.amount/100).toFixed(2)]}),T.extractedData.dueDate&&e.jsxs("p",{className:"text-sm",children:[t("documents.dueDate","Fälligkeitsdatum"),": ",fe(T.extractedData.dueDate)]}),T.extractedData.description&&e.jsxs("p",{className:"text-sm",children:[t("documents.description","Beschreibung"),": ",T.extractedData.description]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs(H,{children:[t("people.name","Person")," *"]}),e.jsxs(oe,{value:Q,onValueChange:R,children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{placeholder:t("documents.selectPerson","Person auswählen")})}),e.jsx(de,{children:Array.isArray(a)&&a.map(p=>!p||!p.id?null:e.jsx(I,{value:p.id,children:p.name||t("documents.unknown","Unbekannt")},p.id))})]})]}),e.jsxs("div",{children:[e.jsxs(H,{children:[t("documents.folder","Ordner")," *"]}),e.jsxs(oe,{value:q,onValueChange:be,children:[e.jsx(le,{className:"h-10 min-h-[44px] mt-1",children:e.jsx(ce,{})}),e.jsx(de,{children:ye.map(p=>e.jsx(I,{value:p.value,children:p.label},p.value))})]})]})]})]}),e.jsxs(De,{className:"px-5 pb-3 pt-2 gap-2.5",children:[e.jsx(V,{variant:"outline",onClick:()=>{re(!1),x(!1),W(0)},className:"h-10 min-h-[44px]",children:t("common.cancel","Abbrechen")}),e.jsx(V,{onClick:P,disabled:y||!Q,className:"h-10 min-h-[44px]",children:y?t("common.saving","Speichert..."):t("common.save","Speichern")})]})]})}),e.jsx(we,{open:w,onOpenChange:K,children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsx(Se,{className:"px-5 pt-5 pb-3",children:e.jsx(Ce,{className:"text-lg font-semibold",children:t("documents.preview","Dokument Vorschau")})}),d&&e.jsx("div",{className:"w-full",children:d.includes("image")?e.jsx("img",{src:d,alt:t("documents.preview","Vorschau"),className:"w-full h-auto rounded-lg"}):e.jsx("iframe",{src:d,className:"w-full h-[60vh] rounded-lg",title:t("documents.preview","Dokument Vorschau")})}),e.jsx(De,{className:"px-5 pb-3 pt-2",children:e.jsx(V,{variant:"outline",onClick:()=>K(!1),className:"h-11 min-h-[44px] w-full rounded-xl text-sm font-medium",children:t("common.close","Schliessen")})})]})})]})}const Ur={ZH:"Zürich",BE:"Bern",LU:"Luzern",UR:"Uri",SZ:"Schwyz",OW:"Obwalden",NW:"Nidwalden",GL:"Glarus",ZG:"Zug",FR:"Freiburg",SO:"Solothurn",BS:"Basel-Stadt",BL:"Basel-Landschaft",SH:"Schaffhausen",AR:"Appenzell Ausserrhoden",AI:"Appenzell Innerrhoden",SG:"St. Gallen",GR:"Graubünden",AG:"Aargau",TG:"Thurgau",TI:"Tessin",VD:"Waadt",VS:"Wallis",NE:"Neuenburg",GE:"Genf",JU:"Jura"};function Kr(){const{t}=ge(),[a,c]=g(0),{data:r,isLoading:l,error:u}=Ga(a),[f,N]=g(!1),[n,j]=g(null),[k,C]=g(null),E=D=>{switch(D){case"unvollständig":return e.jsx(Be,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:t("taxes.status.unvollständig","Unvollständig")});case"vollständig":return e.jsx(Be,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:t("taxes.status.vollständig","Vollständig")});case"eingereicht":return e.jsx(Be,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:t("taxes.status.eingereicht","Eingereicht")});default:return e.jsx(Be,{variant:"outline",children:D})}},S=D=>D==null?"-":new Intl.NumberFormat("de-CH",{style:"currency",currency:"CHF"}).format(D),U=D=>{if(!D)return"-";try{return new Date(D).toLocaleDateString("de-CH",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}},h=async()=>{if(k)try{await Va(k),b.success(t("taxes.profileDeleted","Steuerprofil gelöscht")),C(null),c(D=>D+1)}catch(D){b.error(t("common.error","Fehler")+": "+(D.message||t("common.unknownError","Unbekannter Fehler")))}},x=D=>{j(D),N(!0)},L=()=>{j(null),N(!0)},W=()=>{N(!1),j(null),c(D=>D+1)};return u?e.jsx(Ne,{title:t("taxes.title","Steuern"),showSidebar:!0,children:e.jsx("div",{className:"mobile-card text-center py-8",children:e.jsx("p",{className:"text-red-500",children:t("taxes.errorLoading","Fehler beim Laden der Steuerprofile")})})}):e.jsxs(Ne,{title:t("taxes.title","Steuern"),showSidebar:!0,children:[e.jsxs(V,{onClick:L,className:"w-full mb-4 h-12 min-h-[44px]",children:[e.jsx(He,{className:"w-5 h-5 mr-2"}),t("taxes.addProfile","Steuerprofil hinzufügen")]}),l?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("common.loading","Lädt...")}):!r||r.length===0?e.jsxs("div",{className:"mobile-card text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground",children:t("taxes.noProfiles","Keine Steuerprofile gefunden")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t("taxes.createFirst","Erstellen Sie ein neues Steuerprofil, um Ihre Steuern zu verwalten")})]}):e.jsx("div",{className:"space-y-3",children:r.map(D=>e.jsx(qe,{className:"mobile-card",children:e.jsx(Oe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 text-primary flex items-center justify-center flex-shrink-0",children:e.jsx(Ze,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-semibold text-sm truncate",children:[D.year," - ",D.canton?Ur[D.canton]||D.canton:t("taxes.switzerland","Schweiz")]}),D.status&&E(D.status)]})}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[D.taxableIncome!==null&&D.taxableIncome!==void 0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"w-3 h-3"}),e.jsxs("span",{children:[t("taxes.taxableIncome","Einkommen"),": ",S(D.taxableIncome)]})]}),D.taxAmount!==null&&D.taxAmount!==void 0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nn,{className:"w-3 h-3"}),e.jsxs("span",{children:[t("taxes.taxAmount","Steuerbetrag"),": ",S(D.taxAmount)]})]}),D.submissionDate&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{children:[t("taxes.submitted","Eingereicht"),": ",U(D.submissionDate)]})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxs(V,{variant:"outline",size:"sm",onClick:()=>x(D),className:"h-8 min-h-[44px] flex-1",children:[e.jsx(jn,{className:"w-4 h-4 mr-1"}),t("common.edit","Bearbeiten")]}),e.jsx(V,{variant:"outline",size:"sm",onClick:()=>C(D.id),className:"h-8 min-h-[44px] text-red-500",children:e.jsx(Ie,{className:"w-4 h-4"})})]})]})]})})},D.id))}),f&&e.jsx(we,{open:f,onOpenChange:W,children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsxs(Se,{className:"px-5 pt-5 pb-3",children:[e.jsx(Ce,{children:n?t("taxes.editProfile","Steuerprofil bearbeiten"):t("taxes.newProfile","Neues Steuerprofil")}),e.jsx(Pe,{className:"sr-only",children:n?t("taxes.editProfileDescription","Bearbeiten Sie die Details des Steuerprofils"):t("taxes.newProfileDescription","Erstellen Sie ein neues Steuerprofil für ein Steuerjahr")})]}),e.jsx("div",{className:"px-5 pb-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:t("taxes.mobileComingSoon","Die Steuerprofil-Verwaltung wird in einer zukünftigen Version verfügbar sein. Bitte verwenden Sie die Web-Version für die Verwaltung von Steuerprofilen.")})}),e.jsx(De,{className:"px-5 pb-3 pt-2",children:e.jsx(V,{variant:"outline",onClick:W,className:"h-11 min-h-[44px] w-full rounded-xl text-sm font-medium",children:t("common.close","Schliessen")})})]})}),k&&e.jsx(we,{open:!!k,onOpenChange:()=>C(null),children:e.jsxs(ke,{className:"!fixed !top-[50%] !left-[50%] !right-auto !bottom-auto !translate-x-[-50%] !translate-y-[-50%] !w-[85vw] !max-w-sm !max-h-fit !rounded-3xl !m-0 !overflow-visible !shadow-2xl",children:[e.jsxs(Se,{className:"px-5 pt-5 pb-3",children:[e.jsx(Ce,{className:"text-lg font-semibold",children:t("taxes.confirmDelete","Steuerprofil löschen?")}),e.jsx(Pe,{className:"sr-only",children:t("taxes.confirmDeleteDescription","Möchten Sie dieses Steuerprofil wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.")})]}),e.jsx("div",{className:"px-5 pb-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:t("taxes.confirmDeleteDescription","Möchten Sie dieses Steuerprofil wirklich löschen? Diese Aktion kann nicht rückgängig gemacht werden.")})}),e.jsxs(De,{className:"px-5 pb-3 pt-2 gap-2.5",children:[e.jsx(V,{variant:"outline",onClick:()=>C(null),className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.cancel","Abbrechen")}),e.jsx(V,{variant:"destructive",onClick:h,className:"h-11 min-h-[44px] flex-1 rounded-xl text-sm font-medium",children:t("common.delete","Löschen")})]})]})})]})}function Wr(){const{t}=ge(),[,a]=Me(),[c,r]=g(""),u=[{id:"getting-started",title:t("help.categories.gettingStarted","Erste Schritte"),icon:e.jsx(wn,{className:"w-5 h-5"}),articles:[{id:"welcome",title:t("help.articles.welcome.title","Willkommen bei Nexo"),description:t("help.articles.welcome.description","Eine Einführung in die Grundfunktionen von Nexo")},{id:"onboarding",title:t("help.articles.onboarding.title","Onboarding abschliessen"),description:t("help.articles.onboarding.description","So richten Sie Ihr Konto ein")},{id:"dashboard",title:t("help.articles.dashboard.title","Dashboard verstehen"),description:t("help.articles.dashboard.description","Übersicht über Ihre Finanzen und Termine")}]},{id:"finance",title:t("help.categories.finance","Finanzen"),icon:e.jsx(Ze,{className:"w-5 h-5"}),articles:[{id:"add-entry",title:t("help.articles.addEntry.title","Einträge hinzufügen"),description:t("help.articles.addEntry.description","So erfassen Sie Einnahmen und Ausgaben")},{id:"bills",title:t("help.articles.bills.title","Rechnungen verwalten"),description:t("help.articles.bills.description","Rechnungen erstellen, scannen und verwalten")}]},{id:"other",title:t("help.categories.other","Sonstiges"),icon:e.jsx(Ot,{className:"w-5 h-5"}),articles:[{id:"ai-assistant",title:t("help.articles.aiAssistant.title","KI-Assistent nutzen"),description:t("help.articles.aiAssistant.description","So nutzen Sie den KI-Assistenten")},{id:"backup",title:t("help.articles.backup.title","Daten sichern"),description:t("help.articles.backup.description","So erstellen Sie ein Backup Ihrer Daten")}]}].map(f=>({...f,articles:f.articles.filter(N=>N.title.toLowerCase().includes(c.toLowerCase())||N.description.toLowerCase().includes(c.toLowerCase()))})).filter(f=>f.articles.length>0||!c);return e.jsx(Ne,{title:t("help.title","Hilfe & Support"),hideQuickActions:!0,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(ne,{type:"text",placeholder:t("help.searchPlaceholder","Suchen Sie nach Hilfe..."),value:c,onChange:f=>r(f.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>a("/faq"),className:"mobile-card p-4 text-left",children:[e.jsx(da,{className:"w-6 h-6 mb-2 text-primary"}),e.jsx("p",{className:"font-medium text-sm",children:t("help.quickActions.faq","FAQ")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t("help.quickActions.faqDescription","Häufig gestellte Fragen")})]}),e.jsxs("button",{onClick:()=>{},className:"mobile-card p-4 text-left",children:[e.jsx(Ot,{className:"w-6 h-6 mb-2 text-primary"}),e.jsx("p",{className:"font-medium text-sm",children:t("help.quickActions.contact","Kontakt")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t("help.quickActions.contactDescription","Kontaktieren Sie unseren Support")})]})]}),e.jsx("div",{className:"space-y-4",children:u.map(f=>e.jsxs("div",{className:"mobile-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.icon,e.jsx("h3",{className:"font-semibold",children:f.title})]}),e.jsx("div",{className:"space-y-2",children:f.articles.map(N=>e.jsxs("button",{className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-muted transition-colors text-left",onClick:()=>{},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm",children:N.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:N.description})]}),e.jsx(kn,{className:"w-4 h-4 text-muted-foreground"})]},N.id))})]},f.id))})]})})}function $r(){const{t}=ge(),[a,c]=g(""),[r,l]=g(new Set),f=[{id:"what-is-nexo",question:t("faq.items.whatIsNexo.question","Was ist Nexo?"),answer:t("faq.items.whatIsNexo.answer","Nexo ist eine umfassende Finanzverwaltungs-App, die Ihnen hilft, Ihre Finanzen, Rechnungen, Steuern und mehr zu verwalten.")},{id:"how-to-add-entry",question:t("faq.items.howToAddEntry.question","Wie füge ich einen Eintrag hinzu?"),answer:t("faq.items.howToAddEntry.answer",'Gehen Sie zur Finanzen-Seite und klicken Sie auf "Eintrag hinzufügen". Füllen Sie die erforderlichen Felder aus und speichern Sie.')},{id:"how-to-scan-bill",question:t("faq.items.howToScanBill.question","Wie scanne ich eine Rechnung?"),answer:t("faq.items.howToScanBill.answer",'Gehen Sie zur Rechnungen-Seite und klicken Sie auf "Rechnung scannen". Verwenden Sie Ihre Kamera, um die Rechnung zu fotografieren.')},{id:"how-to-backup",question:t("faq.items.howToBackup.question","Wie erstelle ich ein Backup?"),answer:t("faq.items.howToBackup.answer","Gehen Sie zu Einstellungen > Backup oder verwenden Sie das User-Menü > Daten exportieren.")},{id:"how-to-change-language",question:t("faq.items.howToChangeLanguage.question","Wie ändere ich die Sprache?"),answer:t("faq.items.howToChangeLanguage.answer","Klicken Sie auf das Sprach-Icon in der Topbar und wählen Sie Ihre gewünschte Sprache aus.")},{id:"how-to-use-ai",question:t("faq.items.howToUseAI.question","Wie nutze ich den KI-Assistenten?"),answer:t("faq.items.howToUseAI.answer",'Klicken Sie auf "Assistent" im User-Menü oder verwenden Sie das Chat-Icon. Stellen Sie Fragen zu Ihren Finanzen oder bitten Sie um Hilfe.')}].filter(n=>n.question.toLowerCase().includes(a.toLowerCase())||n.answer.toLowerCase().includes(a.toLowerCase())),N=n=>{const j=new Set(r);j.has(n)?j.delete(n):j.add(n),l(j)};return e.jsx(Ne,{title:t("faq.title","Häufig gestellte Fragen"),hideQuickActions:!0,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(ne,{type:"text",placeholder:t("faq.searchPlaceholder","Fragen durchsuchen..."),value:a,onChange:n=>c(n.target.value),className:"pl-10"})]}),e.jsx("div",{className:"space-y-3",children:f.map(n=>e.jsxs("div",{className:"mobile-card",children:[e.jsxs("button",{className:"w-full flex items-center justify-between p-4",onClick:()=>N(n.id),children:[e.jsx("span",{className:"font-medium text-left flex-1 pr-4",children:n.question}),r.has(n.id)?e.jsx(Sn,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"}):e.jsx(Cn,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]}),r.has(n.id)&&e.jsx("div",{className:"px-4 pb-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:n.answer})})]},n.id))}),f.length===0&&e.jsx("div",{className:"mobile-card p-8 text-center",children:e.jsx("p",{className:"text-muted-foreground",children:t("faq.noResults","Keine Ergebnisse gefunden")})})]})})}function Zr({children:t}){const[a,c]=Me(),{user:r,loading:l}=Ge(),[u,f]=g(!1);return ve(()=>{(async()=>{if(!(l||!r)&&!(a==="/login"||a==="/register"||a==="/onboarding"))try{f(!0);const n=await ua(at(et,"users",r.uid));(!n.exists()||!n.data().onboardingCompleted)&&c("/onboarding")}catch(n){console.error("Error checking onboarding status:",n)}finally{f(!1)}})()},[r,l,a,c]),l||u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Lade..."})]})}):e.jsx(e.Fragment,{children:t})}function Qr(){return e.jsx(Zr,{children:e.jsxs(Qa,{children:[e.jsx(he,{path:"/login",component:kr}),e.jsx(he,{path:"/register",component:Pr}),e.jsx(he,{path:"/onboarding",component:Mr}),e.jsx(he,{path:"/",component:Ft}),e.jsx(he,{path:"/dashboard",component:ir}),e.jsx(he,{path:"/calendar",component:Tn}),e.jsx(he,{path:"/reminders",component:qr}),e.jsx(he,{path:"/finance",component:hr}),e.jsx(he,{path:"/people",component:Gr}),e.jsx(he,{path:"/bills",component:pr}),e.jsx(he,{path:"/documents",component:Vr}),e.jsx(he,{path:"/shopping",component:Fn}),e.jsx(he,{path:"/taxes",component:Kr}),e.jsx(he,{path:"/settings",component:wr}),e.jsx(he,{path:"/help",component:Wr}),e.jsx(he,{path:"/faq",component:$r}),e.jsx(he,{children:e.jsx(Ft,{})})]})})}function Yr(){return e.jsx(rr,{children:e.jsx(ar,{defaultTheme:"light",switchable:!0,children:e.jsxs(Ua,{children:[e.jsx(Qr,{}),e.jsx(tr,{position:"top-center",richColors:!0})]})})})}typeof window<"u"&&setTimeout(async()=>{try{await bt(()=>import("./eventBus-CWDWdm45.js"),[]),await bt(()=>import("./backgroundTaskManager-DuxFkiIE.js"),__vite__mapDeps([0,1])),await bt(()=>import("./workflowOrchestrator-BZtQc-WZ.js"),__vite__mapDeps([2,1,0]))}catch{}},100);"serviceWorker"in navigator&&window.addEventListener("load",()=>{ga().catch(t=>{console.error("[Main] Service Worker registration failed:",t)})});const _r="UNAUTHORIZED",Jr=()=>"/login",dt=new Dn({defaultOptions:{queries:{retry:(t,a)=>{if(a instanceof mt){const c=a.data?.httpStatus;if(c>=400&&c<500)return!1}return t<2}}}}),Xr=t=>{if(!(t instanceof mt)||typeof window>"u"||!(t.message===_r||t.data?.code==="UNAUTHORIZED"))return;const c=Jr();window.location.href=c};dt.getQueryCache().subscribe(t=>{if(t?.type==="updated"&&t?.query?.state?.error){const a=t.query.state.error;if(a instanceof mt){const c=a.data?.requestId||a.meta?.requestId||null;console.error("[Query Error]",{message:a.message,code:a.data?.code,requestId:c,path:a.data?.path})}if(t.action?.type==="error"){const c=t.query.queryKey;Array.isArray(c)&&c[0]==="auth"&&c[1]==="me"&&Xr(a)}}});dt.getMutationCache().subscribe(t=>{if(t?.type==="updated"&&t?.mutation?.state?.error){const a=t.mutation.state.error;if(a instanceof mt){const c=a.data?.requestId||a.meta?.requestId||null;console.error("[Mutation Error]",{message:a.message,code:a.data?.code,requestId:c,path:a.data?.path})}}});const es=na.createClient({links:[$a({url:"/api/trpc",async fetch(t,a){let c=null;try{const l=Ka.currentUser;l&&(c=await l.getIdToken())}catch{}const r=new Headers(a?.headers);c&&r.set("Authorization",`Bearer ${c}`);try{const l=await globalThis.fetch(t,{...a??{},headers:r,credentials:"include"}),u=l.headers.get("x-goog-request-id")||l.headers.get("x-cloud-trace-context")?.split("/")[0]||null;if(u&&!l.ok){const f=typeof t=="string"?t:t instanceof Request?t.url:String(t);console.error("[tRPC] Request failed with Request ID:",{requestId:u,status:l.status,statusText:l.statusText,url:f})}return l}catch(l){const u=typeof t=="string"?t:t instanceof Request?t.url:String(t);throw console.error("[tRPC] Network error:",{error:l instanceof Error?l.message:String(l),url:u}),l}}})]}),ze=document.getElementById("root");if(!ze)throw new Error("Root element not found");ze.innerHTML='<div style="padding: 20px; text-align: center;"><p>Lädt...</p></div>';window.addEventListener("error",t=>{console.error("[Global Error]",t.error),ze&&!ze.querySelector("h1")&&(ze.innerHTML=`
      <div style="padding: 20px; text-align: center; font-family: system-ui;">
        <h1>Fehler beim Laden</h1>
        <p>${t.error?.message||"Unbekannter Fehler"}</p>
        <button onclick="window.location.reload()" style="margin-top: 20px; padding: 10px 20px; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer;">Seite neu laden</button>
      </div>
    `)});window.addEventListener("unhandledrejection",t=>{console.error("[Unhandled Rejection]",t.reason)});try{Wa(ze).render(e.jsx(na.Provider,{client:es,queryClient:dt,children:e.jsx(Za,{client:dt,children:e.jsx(Yr,{})})})),console.log("[Main] App rendered successfully")}catch(t){console.error("[Main] Failed to render app:",t);const a=t instanceof Error?t.message:String(t);ze.innerHTML=`
    <div style="padding: 20px; text-align: center; font-family: system-ui;">
      <h1>Fehler beim Laden</h1>
      <p>Die Anwendung konnte nicht geladen werden.</p>
      <p style="color: #666; font-size: 14px; margin-top: 10px; font-family: monospace;">${a}</p>
      <button onclick="window.location.reload()" style="margin-top: 20px; padding: 10px 20px; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer;">Seite neu laden</button>
    </div>
  `}
